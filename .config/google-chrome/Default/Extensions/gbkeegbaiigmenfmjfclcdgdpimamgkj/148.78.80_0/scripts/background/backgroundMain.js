/*

 lodash 4.5.1 (Custom Build) lodash.com/license | Underscore.js 1.8.3 underscorejs.org/LICENSE
 Build: `lodash -o ./dist/lodash.js`
 MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors  MIT License (c) copyright 2010-2014 original author or authors */
define("qowtRoot/utils/typeUtils",[],function(){function h(a,g,e){if(e.types.every(function(g){var a=c[g];if(!a)throw Error("Bad config to checkArgTypes: unknown type: "+g);return!a(e.value)})){var h=1===e.types.length?e.types[0]:"["+e.types.join(",")+"]";throw Error("Argument "+g+" passed to function "+a+" was supposed to be of type "+h+" but had value "+e.value);}}var e={checkArgTypes:function(a,g){for(var c in g){var e={value:g[c][0],types:g[c].slice(1)};h(a,c,e)}},isObject:function(a){return"object"===
typeof a&&null!==a},isPromise:function(a){return a instanceof Promise},isPromiseLike:function(a){return!(!a||!e.isFunction(a.then))},isList:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isNumber:function(a){return"number"===typeof a&&!isNaN(a)},isInteger:function(a){return"number"===typeof a&&parseInt(a,10)===a},isFunction:function(a){return"function"===typeof a},isString:function(a){return"[object String]"===Object.prototype.toString.call(a)},isRegex:function(a){return"[object RegExp]"===
Object.prototype.toString.call(a)},isNode:function(a){return a instanceof Node},isNull:function(a){return null===a},isUndefined:function(a){return void 0===a},isBoolean:function(a){return"boolean"===typeof a},getType:function(a){var g;Object.keys(c).forEach(function(e){c[e](a)&&(g=e)});return g},isArgumentsObjectOrList:function(a){return a instanceof Object&&a.hasOwnProperty("length")},extend:function(a,g){for(var c in g)g.hasOwnProperty(c)&&(a[c]=g[c])},createNewType:function(a){var g=function(){},
e={isOfType:function(a){return void 0!==a&&null!==a&&a.constructor===g},markAsType:function(a){Object.defineProperty(a,"constructor",{value:g,configurable:!1,writable:!1,enumerable:!1});return a}};if(a){if(c[a])throw Error("Already registered type "+a);c[a]=e.isOfType}return e}},c={string:e.isString,object:e.isObject,promise:e.isPromise,promiseLike:e.isPromiseLike,node:e.isNode,regex:e.isRegex,"function":e.isFunction,number:e.isNumber,list:e.isList,boolean:e.isBoolean,"null":e.isNull,undefined:e.isUndefined};
return e});(function(){var h={},e=window.sessionStorage.getItem("featureOverrides");e&&(h=JSON.parse(e));h.isRelease=!0;h.edit=!1;window.sessionStorage.setItem("featureOverrides",JSON.stringify(h));window.localStorage.removeItem("testsToInclude");window.localStorage.removeItem("builtInTests")})();define("configs/releaseFeatures",function(){});
(function(){var h={},e=window.sessionStorage.getItem("featureOverrides");e&&(h=JSON.parse(e));h.save=!!(window.chrome&&window.chrome.fileSystem&&window.chrome.fileSystem.chooseEntry);window.sessionStorage.setItem("featureOverrides",JSON.stringify(h))})();define("configs/chromeFeatures",function(){});define("qowtRoot/features/pack",[],function(){return{edit:!0,save:!1,pointEdit:!1,hats:!0}});
define("qowtRoot/features/utils",["qowtRoot/features/pack"],function(h){var e={isEnabled:function(a){a=h[a];return void 0===a?!1:a},enable:function(a){h[a]=!0},disable:function(a){h[a]=!1},setOverrides:function(a){for(var g in a)a.hasOwnProperty(g)&&(h[g]=a[g])},isDebug:function(){return void 0!==c?c:!e.isEnabled("isRelease")},setDebugOverride:function(a){c=a},clearDebugOverride:function(){c=void 0}},c;return e});
(function(h){h("qowtRoot/third_party/when/lib/timer",["require"],function(e){return{set:setTimeout,clear:clearTimeout}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/timed",[],function(){return function(e,c,a){a.prototype.delay=function(a){var c=this;return new this.constructor(function(h,t,l){c.then(function(c){e(function(){h(c)},a)},t,l)})};a.prototype.timeout=function(a,h){var w=this,t=1<arguments.length;return new this.constructor(function(l,p,r){var v=e(function(){p(t?h:Error("timed out after "+a+"ms"))},a);w.then(function(a){c(v);l(a)},function(a){c(v);p(a)},r)})};return a}})})("function"===typeof define&&define.amd?
define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/array",[],function(){return function(e){var c=Array.prototype.map,a=Array.prototype.reduce,g=Array.prototype.reduceRight,h=Array.prototype.forEach,w=e.resolve,t=e.all;e.any=function(a){return new e(function(c,g){function e(a){z.push(a);0===--t&&g(z)}var t=0,z=[];h.call(a,function(a){++t;w(a).then(c,e)});0===t&&c()})};e.some=function(a,c){return new e(function(g,e,t){function z(a){0<q&&(--q,n.push(a),0===q&&g(n))}function x(a){0<A&&(--A,P.push(a),0===A&&
e(P))}var q=0,A,n=[],P=[];h.call(a,function(a){++q;w(a).then(z,x,t)});c=Math.max(c,0);A=q-c+1;q=Math.min(c,q);0===q&&g(n)})};e.settle=function(a){return t(c.call(a,function(a){function c(){return a.inspect()}a=w(a);return a.then(c,c)}))};e.map=function(a,g,e){return t(c.call(a,function(a){return w(a).then(g,e)}))};e.reduce=function(c,g){function e(a,c,l){return w(a).then(function(a){return w(c).then(function(c){return g(a,c,l)})})}return 2<arguments.length?a.call(c,e,arguments[2]):a.call(c,e)};e.reduceRight=
function(a,c){function e(a,g,l){return w(a).then(function(a){return w(g).then(function(g){return c(a,g,l)})})}return 2<arguments.length?g.call(a,e,arguments[2]):g.call(a,e)};e.prototype.spread=function(a){return this.then(t).then(function(c){return a.apply(void 0,c)})};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/fatal",["require","./timer"],function(e){var c=e("./timer").set;return function(a){c(function(){throw a;},0)}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/flow",["require","./fatal"],function(e){function c(){throw new TypeError("catch predicate must be a function");}function a(a,c){return function(){a.call(this);return c}}function g(){}var h=e("./fatal");return function(e){function t(a,c){return function(g){return(c===Error||null!=c&&c.prototype instanceof Error?g instanceof c:c(g))?a.call(this,g):p(g)}}var l=e.resolve,p=e.reject,r=e.prototype["catch"];e.prototype.done=function(a,c){var e=this._handler;
e.when(this._maybeFatal,g,this,e.receiver,a,c)};e.prototype._maybeFatal=function(a){if(Object(a)===a)l(a)["catch"](this._fatal)};e.prototype._fatal=h;e.prototype["catch"]=e.prototype.otherwise=function(a){return 1===arguments.length?r.call(this,a):"function"!==typeof a?this.ensure(c):r.call(this,t(arguments[1],a))};e.prototype["finally"]=e.prototype.ensure=function(c){if("function"!==typeof c)return this;c=a(c,this);return this.then(c,c)};e.prototype["else"]=e.prototype.orElse=function(a){return this.then(void 0,
function(){return a})};e.prototype.yield=function(a){return this.then(function(){return a})};e.prototype.tap=function(a){return this.then(a).yield(this)};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});(function(h){h("qowtRoot/third_party/when/lib/inspect",[],function(){return function(e){e.prototype.inspect=function(){return this._handler.inspect()};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/iterate",[],function(){return function(e){function c(a,e,h,l){function p(l){return g(h(l)).then(function(){return c(a,e,h,a(l))})}return g(l).then(function(a){return g(e(a)).then(function(c){return c?a:p(a)})})}function a(c,e,h,l){function p(l,p){return g(h(l)).then(function(){return a(c,e,h,p)})}return g(l).then(function(a){return g(e(a)).then(function(e){return e?a:g(c(a)).spread(p)})})}var g=e.resolve;e.iterate=c;e.unfold=a;return e}})})("function"===
typeof define&&define.amd?define:function(h){module.exports=h()});(function(h){h("qowtRoot/third_party/when/lib/progress",[],function(){return function(e){e.prototype.progress=function(c){return this.then(void 0,void 0,c)};return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/with",[],function(){return function(e){e.prototype["with"]=e.prototype.withThis=e.prototype._bindContext;return e}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/makePromise",[],function(){return function(e){function c(c){var e=this;this._handler=new v;a(c,function(a){e._handler.resolve(a)},function(a){e._handler.reject(a)},function(a){e._handler.notify(a)})}function a(a,c,e,g){try{a(c,e,g)}catch(h){e(h)}}function g(a){return new h(new G(new A(a)))}function h(a){this._handler=a}function w(a,e){if(a instanceof c){var g=a._handler.join();return e===g?new A(new TypeError("Promise cycle")):g}return ab(a)?l(a):new q(a)}
function t(a){return a instanceof c?a._handler.join():l(a)}function l(a){try{var c=a.then;return"function"===typeof c?new x(c,a):new q(a)}catch(e){return new A(e)}}function p(){}function r(a){this.handler=a;if(this._isMonitored()){var c=this._env.promiseMonitor.captureStack();this.trace=a._addTrace(c)}}function v(a){this.consumers=[];this.receiver=a;this.handler=void 0;this.resolved=!1;this._isMonitored()&&(this.trace=this._env.promiseMonitor.captureStack())}function G(a){r.call(this,a)}function z(a,
c){r.call(this,a);this.receiver=c}function x(a,c){v.call(this);this.assimilated=!1;this.untrustedThen=a;this.thenable=c}function q(a){this.value=a}function A(a){this.value=a;this.observed=!1;this._isMonitored()&&(this.key=this._env.promiseMonitor.startTrace(a))}function n(){return{state:"pending"}}function P(a,c,e,g,h,l,n,p){this.a=a;this.b=c;this.c=e;this.d=g;this.e=h;this.f=l;this.g=n;this.handler=p}function X(a,c){this.q=a;this.value=c}function ab(a){return("object"===typeof a||"function"===typeof a)&&
null!==a}function Na(a,c,e){try{return a.call(e,c)}catch(h){return g(h)}}function Y(){}var Oa,ya=e.scheduler,ga=Object.create||function(a){function c(){}c.prototype=a;return new c};c.resolve=function(a){return a instanceof c?a:new h(new G(w(a)))};c.reject=g;c.never=function(){return Oa};c._defer=function(){return new h(new v)};c.prototype.then=function(a,c,e){var g=this._handler,l=new v(g.receiver);g.when(l.resolve,l.notify,l,g.receiver,a,c,e);return new h(l)};c.prototype["catch"]=c.prototype.otherwise=
function(a){return this.then(void 0,a)};c.prototype._bindContext=function(a){return new h(new z(this._handler,a))};c.all=function(a){function c(a,e,g,h){g.when(Y,Y,void 0,a,function(a){e[h]=a;0===--l&&this.resolve(e)},a.reject,a.notify)}var e=new v,g=a.length>>>0,l=g,n=[],p,q;for(p=0;p<g;++p)p in a?(q=a[p],ab(q)?c(e,n,t(q),p):(n[p]=q,--l)):--l;0===l&&e.resolve(n);return new h(e)};c.race=function(a){if(Object(a)===a&&0===a.length)return Oa;for(var c=new v,e=0;e<a.length;++e)w(a[e]).when(Y,Y,void 0,
c,c.resolve,c.reject);return new h(c)};h.prototype=ga(c.prototype);p.prototype.inspect=n;p.prototype.when=Y;p.prototype.resolve=Y;p.prototype.reject=Y;p.prototype.notify=Y;p.prototype.join=function(){return this};p.prototype._env=e.monitor||c;p.prototype._addTrace=Y;p.prototype._isMonitored=function(){return"undefined"!==typeof this._env.promiseMonitor};r.prototype=ga(p.prototype);r.prototype.join=function(){return this.handler.join()};r.prototype.inspect=function(){return this.handler.inspect()};
r.prototype._addTrace=function(a){return this.handler._addTrace(a)};v.prototype=ga(p.prototype);v.prototype.inspect=function(){return this.resolved?this.handler.join().inspect():n()};v.prototype.resolve=function(a){this._join(w(a,this))};v.prototype.reject=function(a){this._join(new A(a))};v.prototype.join=function(){return this.resolved?this.handler.join():this};v.prototype.run=function(){var a=this.consumers,c=this.handler=this.handler.join();this.consumers=void 0;for(var e=0;e<a.length;e+=7)c.when(a[e],
a[e+1],a[e+2],a[e+3],a[e+4],a[e+5],a[e+6])};v.prototype._join=function(a){this.resolved||(this.resolved=!0,this.handler=a,ya.enqueue(this),this._isMonitored()&&(this.trace=a._addTrace(this.trace)))};v.prototype.when=function(a,c,e,g,l,h,n){this.resolved?ya.enqueue(new P(a,c,e,g,l,h,n,this.handler.join())):this.consumers.push(a,c,e,g,l,h,n)};v.prototype.notify=function(a){this.resolved||ya.enqueue(new X(this.consumers,a))};v.prototype._addTrace=function(a){return this.resolved?this.handler._addTrace(a):
a};G.prototype=ga(r.prototype);G.prototype.when=function(a,c,e,g,l,h,n){ya.enqueue(new P(a,c,e,g,l,h,n,this.join()))};z.prototype=ga(r.prototype);z.prototype.when=function(a,c,e,g,l,h,n){void 0!==this.receiver&&(g=this.receiver);this.join().when(a,c,e,g,l,h,n)};x.prototype=ga(v.prototype);x.prototype.when=function(a,c,e,g,l,h,n){this.assimilated||(this.assimilated=!0,this._assimilate());v.prototype.when.call(this,a,c,e,g,l,h,n)};x.prototype._assimilate=function(){var a=this;this._try(this.untrustedThen,
this.thenable,function(c){a.resolve(c)},function(c){a.reject(c)},function(c){a.notify(c)})};x.prototype._try=function(a,c,e,g,l){try{a.call(c,e,g,l)}catch(h){g(h)}};q.prototype=ga(p.prototype);q.prototype.inspect=function(){return{state:"fulfilled",value:this.value}};q.prototype.when=function(a,c,e,g,l){c="function"===typeof l?Na(l,this.value,g):this.value;a.call(e,c)};A.prototype=ga(p.prototype);A.prototype.inspect=function(){return{state:"rejected",reason:this.value}};A.prototype.when=function(a,
c,e,l,h,n){this._isMonitored()&&!this.observed&&this._env.promiseMonitor.removeTrace(this.key);this.observed=!0;c="function"===typeof n?Na(n,this.value,l):g(this.value);a.call(e,c)};A.prototype._addTrace=function(a){this.observed||this._env.promiseMonitor.updateTrace(this.key,a)};Oa=new h(new p);P.prototype.run=function(){this.handler.when(this.a,this.b,this.c,this.d,this.e,this.f,this.g)};X.prototype.run=function(){for(var a=this.q,c=1;c<a.length;c+=7)this._notify(a[c],a[c+1],a[c+2],a[c+5])};X.prototype._notify=
function(a,c,e,g){var l;if("function"===typeof g)try{l=g.call(e,this.value)}catch(h){l=h}else l=this.value;a.call(c,l)};return c}})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/Queue",[],function(){function e(c){this.head=this.tail=this.length=0;this.buffer=Array(1<<c)}e.prototype.push=function(c){this.length===this.buffer.length&&this._ensureCapacity(2*this.length);this.buffer[this.tail]=c;this.tail=this.tail+1&this.buffer.length-1;++this.length;return this.length};e.prototype.shift=function(){var c=this.buffer[this.head];this.buffer[this.head]=void 0;this.head=this.head+1&this.buffer.length-1;--this.length;return c};e.prototype._ensureCapacity=
function(c){var a=this.head,e=this.buffer,h=Array(c),w=0,t;if(0===a)for(t=this.length;w<t;++w)h[w]=e[w];else{c=e.length;for(t=this.tail;a<c;++w,++a)h[w]=e[a];for(a=0;a<t;++w,++a)h[w]=e[a]}this.buffer=h;this.head=0;this.tail=this.length};return e})})("function"===typeof define&&define.amd?define:function(h){module.exports=h()});
(function(h){h("qowtRoot/third_party/when/lib/scheduler",["require","./Queue"],function(e){function c(c){this._enqueue=c;this._handlerQueue=new a(15);var e=this;this.drainQueue=function(){e._drainQueue()}}var a=e("./Queue");c.prototype.enqueue=function(a){1===this._handlerQueue.push(a)&&this._enqueue(this.drainQueue)};c.prototype._drainQueue=function(){for(var a=this._handlerQueue;0<a.length;)a.shift().run()};return c})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/lib/async",["require"],function(e){var c;return"undefined"!==typeof process&&null!==process&&"function"===typeof process.nextTick?function(a){process.nextTick(a)}:(c="function"===typeof MutationObserver&&MutationObserver||"function"===typeof WebKitMutationObserver&&WebKitMutationObserver)?function(a,c){var e,h=a.createElement("div");(new c(function(){var a=e;e=void 0;a()})).observe(h,{attributes:!0});return function(a){e=a;h.setAttribute("class","x")}}(document,
c):function(a){var c=setTimeout;return function(a){c(a,0)}}(e)})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});(function(h){h("qowtRoot/third_party/when/lib/Promise",["require","./makePromise","./scheduler","./async"],function(e){var c=e("./makePromise"),a=e("./scheduler");e=e("./async");return c({scheduler:new a(e),monitor:"undefined"!==typeof console?console:void 0})})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
(function(h){h("qowtRoot/third_party/when/when","require ./lib/timer ./lib/timed ./lib/array ./lib/flow ./lib/inspect ./lib/iterate ./lib/progress ./lib/with ./lib/Promise".split(" "),function(e){function c(a,c,e,g){var h=A(a);return 2>arguments.length?h:h.then(c,e,g)}function a(a){return function(){return h(a,this,n.call(arguments))}}function g(a){return h(a,this,n.call(arguments,1))}function h(a,c,e){return q.all(e).then(function(e){return a.apply(c,e)})}function w(){function a(c){g._handler.resolve(c)}
function c(a){g._handler.reject(a)}function e(a){g._handler.notify(a)}var g=q._defer();this.promise=g;this.resolve=a;this.reject=c;this.notify=e;this.resolver={resolve:a,reject:c,notify:e}}var t=e("./lib/timer"),l=e("./lib/timed"),p=e("./lib/array"),r=e("./lib/flow"),v=e("./lib/inspect"),G=e("./lib/iterate"),z=e("./lib/progress"),x=e("./lib/with"),q=e("./lib/Promise"),q=[p,r,G,z,v,x].reduceRight(function(a,c){return c(a)},l(t.set,t.clear,q)),A=q.resolve,n=Array.prototype.slice;c.promise=function(a){return new q(a)};
c.resolve=q.resolve;c.reject=q.reject;c.lift=a;c["try"]=g;c.attempt=g;c.iterate=q.iterate;c.unfold=q.unfold;c.join=function(){return q.all(arguments)};c.all=function(a){return c(a,q.all)};c.settle=function(a){return c(a,q.settle)};c.any=a(q.any);c.some=a(q.some);c.map=function(a,e){return c(a,function(a){return q.map(a,e)})};c.reduce=function(a,e){var g=n.call(arguments,1);return c(a,function(a){g.unshift(a);return q.reduce.apply(q,g)})};c.reduceRight=function(a,e){var g=n.call(arguments,1);return c(a,
function(a){g.unshift(a);return q.reduceRight.apply(q,g)})};c.isPromiseLike=function(a){return a&&"function"===typeof a.then};c.Promise=q;c.defer=function(){return new w};return c})})("function"===typeof define&&define.amd?define:function(h){module.exports=h(require)});
define("qowtRoot/utils/promiseUtils",["qowtRoot/utils/typeUtils","qowtRoot/third_party/when/when"],function(h,e){var c={cast:function(a){return a instanceof Promise?a:Promise.resolve(a)},delay:function(a,c){a=a||0;return new Promise(function(e){setTimeout(e.bind(void 0,c),a)})},delayThenReject:function(a,c){a=a||0;return new Promise(function(e,h){setTimeout(h.bind(e,c),a)})},throwAndEscapeChain:function(a){a instanceof Error||(console.error("throwAndEscapeChain wrapping value in new Error: ",a),a=
Error(a));e.reject(a).done();throw a;},pipeline:function(a){function e(){for(var t=Array.prototype.slice.call(arguments,0);0<a.length;){var l=a.shift();if(h.isPromiseLike(l))return c.cast(l).then(function(c){a.unshift(c);return e.apply(u,t)});h.checkArgTypes("PromiseUtils.pipeline",{task:[l,"function"]});l=l.apply(u,t);if(h.isPromiseLike(l))return c.cast(l).then(function(a){return e(a)});t=[l]}return t[0]}var u=this,w=Array.prototype.slice.call(arguments,0);if(w.some(h.isPromiseLike))return Promise.all(w).then(function(a){return c.pipeline.apply(u,
a)});h.checkArgTypes("PromiseUtils.pipeline",{tasks:[a,"list"]});a=a.slice(0);return e.apply(u,w.slice(1))},finally:function(a,e){function h(){return c.cast(e()).then(function(){return a})}return c.cast(a).then(h,h)},waitForNextMacroTurn:function(a){return new Promise(function(c){window.setTimeout(c.bind(null,a),0)})}};return c});
define("utils/analytics/googleAnalytics",["qowtRoot/features/utils","qowtRoot/utils/promiseUtils"],function(h,e){function c(c,e){var g;void 0!==q?g=q?Promise.resolve():Promise.reject(Error("ga permission cached (not permitted)")):(window.analytics&&chrome&&chrome.metricsPrivate&&chrome.metricsPrivate.getIsCrashReportingEnabled&&(!h.isDebug()||void 0!==window.__gaMock)?g=Promise.resolve():(console.warn("GA not supported on this platform"),g=Promise.reject(Error("GA not supported on this platform"))),
g=g.then(a).catch(w));return g.then(t).then(c.bind(null,e)).catch(function(){})}function a(){var a=Error("Crash reporting setting timed out");return Promise.race([g(),e.delayThenReject(1E3,a)]).then(u)}function g(){return new Promise(function(a){chrome.metricsPrivate.getIsCrashReportingEnabled(a)})}function u(a){return new Promise(function(c,e){A=window.analytics.getService(z);A.getConfig().addCallback(function(g){g.setTrackingPermitted(a);(q=a)?c():(console.warn("Crash reporting not allowed"),e())})})}
function w(){q=!1;return Promise.reject()}function t(){void 0===n&&l("QO");return Promise.resolve()}function l(a){n&&n.sendAppView(a);n=A.getTracker(G[a]);P&&n.set(window.analytics.Parameters.SESSION_GROUP,P);"QO"!==a&&X&&n.set(window.analytics.Parameters.APP_ID,X);n.forceSessionStart();return Promise.resolve()}function p(a){x!==a&&(x=a,n.sendAppView(a));return Promise.resolve()}function r(a){n.sendException(a.msg,a.fatal);return Promise.resolve()}function v(a){n.sendEvent(a.category,a.action,a.label,
a.value);return Promise.resolve()}var G={word:"UA-44583639-1",sheet:"UA-44583639-2",point:"UA-44583639-3",QO:"UA-44583639-4"},z="Quickoffice",x,q,A,n,P,X;return{setFileExt:function(a){X=a},setSessionGroup:function(a){P=a},setTracker:function(a){return c(l,a)},sendState:function(a){return c(p,a)},sendException:function(a){return c(r,a)},sendEvent:function(a){return c(v,a)},reset:function(){n=A=q=x=void 0}}});
define("qowtRoot/utils/i18n",["qowtRoot/utils/typeUtils","utils/analytics/googleAnalytics"],function(h,e){var c={getMessage:function(a,e){var u="????";if(!chrome||!chrome.i18n)return a;h.isString(a)?(u=chrome.i18n.getMessage(a,e),u||(u=a,c.logError_("Missing translation",a))):c.logError_("Invalid string translation Id",a);return u},logError_:function(a,c){console.error(a+" "+c);e.sendException({msg:a,fatal:!1})}};return c});
(function(){function h(a,f){return a.set(f[0],f[1]),a}function e(a,f){return a.add(f),a}function c(a,f,c){switch(c.length){case 0:return a.call(f);case 1:return a.call(f,c[0]);case 2:return a.call(f,c[0],c[1]);case 3:return a.call(f,c[0],c[1],c[2])}return a.apply(f,c)}function a(a,f,c,e){for(var g=-1,h=a.length;++g<h;){var l=a[g];f(e,l,c(l),a)}return e}function g(a,f){for(var c=-1,e=a.length;++c<e&&!1!==f(a[c],c,a););return a}function u(a,f){for(var c=-1,e=a.length;++c<e;)if(!f(a[c],c,a))return!1;
return!0}function w(a,f){for(var c=-1,e=a.length,g=-1,h=[];++c<e;){var l=a[c];f(l,c,a)&&(h[++g]=l)}return h}function t(a,f){return!!a.length&&-1<n(a,f,0)}function l(a,f,c){for(var e=-1,g=a.length;++e<g;)if(c(f,a[e]))return!0;return!1}function p(a,f){for(var c=-1,e=a.length,g=Array(e);++c<e;)g[c]=f(a[c],c,a);return g}function r(a,f){for(var c=-1,e=f.length,g=a.length;++c<e;)a[g+c]=f[c];return a}function v(a,f,c,e){var g=-1,h=a.length;for(e&&h&&(c=a[++g]);++g<h;)c=f(c,a[g],g,a);return c}function G(a,
f,c,e){var g=a.length;for(e&&g&&(c=a[--g]);g--;)c=f(c,a[g],g,a);return c}function z(a,f){for(var c=-1,e=a.length;++c<e;)if(f(a[c],c,a))return!0;return!1}function x(a,f,c){for(var e=-1,g=a.length;++e<g;){var h=a[e],l=f(h);if(null!=l&&(n===k?l===l:c(l,n)))var n=l,p=h}return p}function q(a,f,c,e){var g;return c(a,function(a,c,h){return f(a,c,h)?(g=e?c:a,!1):void 0}),g}function A(a,f,c){for(var e=a.length,g=c?e:-1;c?g--:++g<e;)if(f(a[g],g,a))return g;return-1}function n(a,f,c){if(f!==f)return Mc(a,c);
--c;for(var e=a.length;++c<e;)if(a[c]===f)return c;return-1}function P(a,f,c,e,g){return g(a,function(a,g,h){c=e?(e=!1,a):f(c,a,g,h)}),c}function X(a,f){var c=a.length;for(a.sort(f);c--;)a[c]=a[c].c;return a}function ab(a,f){for(var c,e=-1,g=a.length;++e<g;){var h=f(a[e]);h!==k&&(c=c===k?h:c+h)}return c}function Na(a,c){for(var e=-1,g=Array(a);++e<a;)g[e]=c(e);return g}function Y(a,c){return p(c,function(c){return[c,a[c]]})}function Oa(a){return function(c){return a(c)}}function ya(a,c){return p(c,
function(c){return a[c]})}function ga(a,c){for(var e=-1,g=a.length;++e<g&&-1<n(c,a[e],0););return e}function Kc(a,c){for(var e=a.length;e--&&-1<n(c,a[e],0););return e}function pa(a){return a&&a.Object===Object?a:null}function Lc(a,c){if(a!==c){var e=null===a,g=a===k,h=a===a,l=null===c,n=c===k,p=c===c;if(a>c&&!l||!h||e&&!n&&p||g&&p)return 1;if(c>a&&!e||!p||l&&!g&&h||n&&h)return-1}return 0}function ve(a){return Pb[a]}function we(a){return Qb[a]}function xe(a){return"\\"+Rb[a]}function Mc(a,c,e){var g=
a.length;for(c+=e?0:-1;e?c--:++c<g;){var h=a[c];if(h!==h)return c}return-1}function bb(a){var c=!1;if(null!=a&&"function"!=typeof a.toString)try{c=!!(a+"")}catch(e){}return c}function za(a,c){return a="number"==typeof a||Sb.test(a)?+a:-1,-1<a&&0==a%1&&(null==c?9007199254740991:c)>a}function Nc(a){for(var c,e=[];!(c=a.next()).done;)e.push(c.value);return e}function Ob(a){var c=-1,e=Array(a.size);return a.forEach(function(a,g){e[++c]=[g,a]}),e}function Aa(a,c){for(var e=-1,g=a.length,h=-1,l=[];++e<
g;){var k=a[e];(k===c||"__lodash_placeholder__"===k)&&(a[e]="__lodash_placeholder__",l[++h]=e)}return l}function pb(a){var c=-1,e=Array(a.size);return a.forEach(function(a){e[++c]=a}),e}function cb(a){if(!a||!qb.test(a))return a.length;for(var c=aa.lastIndex=0;aa.test(a);)c++;return c}function ye(a){return Tb[a]}function Oc(K){function f(b){if(N(b)&&!C(b)&&!(b instanceof D)){if(b instanceof Z)return b;if(M.call(b,"__wrapped__"))return Pc(b)}return new Z(b)}function W(){}function Z(b,d){this.__wrapped__=
b;this.__actions__=[];this.__chain__=!!d;this.__index__=0;this.__values__=k}function D(b){this.__wrapped__=b;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function xa(){}function Ba(b){var d=-1,m=b?b.length:0;for(this.clear();++d<m;){var a=b[d];this.set(a[0],a[1])}}function oa(b){var d=-1,m=b?b.length:0;for(this.__data__=new Ba;++d<m;)this.push(b[d])}function pa(b,d){var m=b.__data__;return Pa(d)?(m=m.__data__,"__lodash_hash_undefined__"===
("string"==typeof d?m.string:m.hash)[d]):m.has(d)}function qa(b){var d=-1,m=b?b.length:0;for(this.clear();++d<m;){var a=b[d];this.set(a[0],a[1])}}function $a(b,d){var m=db(b,d);return 0>m?!1:(m==b.length-1?b.pop():sb.call(b,m,1),!0)}function ob(b,d){var m=db(b,d);return 0>m?k:b[m][1]}function db(b,d){for(var m=b.length;m--;)if(ra(b[m][0],d))return m;return-1}function Qc(b,d,m){var a=db(b,d);0>a?b.push([d,m]):b[a][1]=m}function Ub(b,d,m,a){return b===k||ra(b,Qa[m])&&!M.call(a,m)?d:b}function Rc(b,
d,m){(m===k||ra(b[d],m))&&("number"!=typeof d||m!==k||d in b)||(b[d]=m)}function tb(b,d,m){var a=b[d];M.call(b,d)&&ra(a,m)&&(m!==k||d in b)||(b[d]=m)}function Pb(b,d,m,a){return sa(b,function(b,c,e){d(a,b,m(b),e)}),a}function Sc(b,d){return b&&eb(d,S(d),b)}function Vb(b,d){for(var m=-1,a=null==b,c=d.length,e=Array(c);++m<c;)e[m]=a?k:fb(b,d[m]);return e}function Wb(b){return O(b)?b:[]}function Ea(b){return"function"==typeof b?b:ha}function Fa(b){return C(b)?b:Tc(b)}function Ra(b,d,m){return b===b&&
(m!==k&&(b=b>m?m:b),d!==k&&(b=d>b?d:b)),b}function ia(b,d,m,a,c,e){var f;if(m&&(f=c?m(b,a,c,e):m(b)),f!==k)return f;if(!L(b))return b;if(a=C(b)){if(f=ze(b),!d)return T(b,f)}else{var h=ja(b),l="[object Function]"==h||"[object GeneratorFunction]"==h;if(Uc(b))return Ae(b,d);if("[object Object]"==h||"[object Arguments]"==h||l&&!c){if(bb(b))return c?b:{};if(f=Be(l?{}:b),!d)return Vc(b,Sc(f,b))}else{if(!H[h])return c?b:{};f=Ce(b,h,d)}}return e||(e=new qa),(c=e.get(b))?c:(e.set(b,f),(a?g:ka)(b,function(a,
rb){tb(f,rb,ia(a,d,m,rb,b,e))}),a?f:Vc(b,f))}function Qb(b){var d=S(b),m=d.length;return function(a){if(null==a)return!m;for(var c=m;c--;){var e=d[c],f=b[e],g=a[e];if(g===k&&!(e in Object(a))||!f(g))return!1}return!0}}function Sa(b){return L(b)?De(b):{}}function Wc(b,d,m){if("function"!=typeof b)throw new ba("Expected a function");return ub(function(){b.apply(k,m)},d)}function Ga(b,d,m,a){var c=-1,e=t,f=!0,g=b.length,h=[],k=d.length;if(!g)return h;m&&(d=p(d,Oa(m)));a?(e=l,f=!1):200<=d.length&&(e=
pa,f=!1,d=new oa(d));a:for(;++c<g;){var n=b[c],q=m?m(n):n;if(f&&q===q){for(var r=k;r--;)if(d[r]===q)continue a;h.push(n)}else e(d,q,a)||h.push(n)}return h}function Rb(b,d){var m=!0;return sa(b,function(b,a,c){return m=!!d(b,a,c)}),m}function Xc(b,d){var m=[];return sa(b,function(b,a,c){d(b,a,c)&&m.push(b)}),m}function J(b,d,m,a){a||(a=[]);for(var c=-1,e=b.length;++c<e;){var f=b[c];0<d&&O(f)&&(m||C(f)||Ha(f))?1<d?J(f,d-1,m,a):r(a,f):m||(a[a.length]=f)}return a}function Sb(b,d){return null==b?b:Yb(b,
d,ca)}function ka(b,d){return b&&Yb(b,d,S)}function Zb(b,d){return b&&Yc(b,d,S)}function vb(b,d){return w(d,function(d){return da(b[d])})}function $b(b,d){d=ta(d,b)?[d+""]:Fa(d);for(var m=0,a=d.length;null!=b&&a>m;)b=b[d[m++]];return m&&m==a?b:k}function ac(b,d){return M.call(b,d)||"object"==typeof b&&d in b&&null===wb(b)}function Tb(b,d){return d in Object(b)}function bc(b,d,m){for(var a=m?l:t,c=b.length,e=c,f=Array(c),g=[];e--;){var h=b[e];e&&d&&(h=p(h,Oa(d)));f[e]=m||!d&&120>h.length?k:new oa(e&&
h)}var h=b[0],n=-1,q=h.length,r=f[0];a:for(;++n<q;){var Xb=h[n],v=d?d(Xb):Xb;if(r?!pa(r,v):!a(g,v,m)){for(e=c;--e;){var A=f[e];if(A?!pa(A,v):!a(b[e],v,m))continue a}r&&r.push(v);g.push(Xb)}}return g}function Jc(b,d,m,a){return ka(b,function(b,c,e){d(a,m(b),c,e)}),a}function gb(b,d,m){return ta(d,b)||(d=Fa(d),b=hb(b,d),d=U(d)),d=null==b?b:b[d],null==d?k:c(d,b,m)}function Ia(b,d,m,a,c){if(b===d)return!0;if(null==b||null==d||!L(b)&&!N(d))return b!==b&&d!==d;var e=C(b),f=C(d),g="[object Array]",h="[object Array]";
e||(g=ja(b),"[object Arguments]"==g?g="[object Object]":"[object Object]"!=g&&(e=Ta(b)));f||(h=ja(d),"[object Arguments]"==h?h="[object Object]":"[object Object]"!=h&&Ta(d));var l="[object Object]"==g&&!bb(b),f="[object Object]"==h&&!bb(d),h=g==h;!h||e||l?2&a||(g=l&&M.call(b,"__wrapped__"),f=f&&M.call(d,"__wrapped__"),!g&&!f)?h?(c||(c=new qa),b=(e?Ee:Fe)(b,d,Ia,m,a,c)):b=!1:b=Ia(g?b.value():b,f?d.value():d,m,a,c):b=Ge(b,d,g,Ia,m,a);return b}function cc(b,d,m,a){var c=m.length,e=c,f=!a;if(null==b)return!e;
for(b=Object(b);c--;){var g=m[c];if(f&&g[2]?g[1]!==b[g[0]]:!(g[0]in b))return!1}for(;++c<e;){var g=m[c],h=g[0],l=b[h],n=g[1];if(f&&g[2]){if(l===k&&!(h in b))return!1}else if(g=new qa,h=a?a(l,n,h,b,d,g):k,h===k?!Ia(n,l,a,3,g):!h)return!1}return!0}function Zc(b){var d=typeof b;return"function"==d?b:null==b?ha:"object"==d?C(b)?$c(b[0],b[1]):ad(b):bd(b)}function cd(b){b=null==b?b:Object(b);var d,m=[];for(d in b)m.push(d);return m}function dd(b,d){var m=-1,a=ea(b)?Array(b.length):[];return sa(b,function(b,
c,e){a[++m]=d(b,c,e)}),a}function ad(b){var d=dc(b);if(1==d.length&&d[0][2]){var m=d[0][0],a=d[0][1];return function(b){return null==b?!1:b[m]===a&&(a!==k||m in Object(b))}}return function(m){return m===b||cc(m,b,d)}}function $c(b,d){return function(m){var a=fb(m,b);return a===k&&a===d?ed(m,b):Ia(d,a,k,3)}}function xb(b,d,m,a,c){if(b!==d){var e=C(d)||Ta(d)?k:ca(d);g(e||d,function(f,g){if(e&&(g=f,f=d[g]),L(f)){c||(c=new qa);var h=g,l=c,n=b[h],p=d[h],q=l.get(p);if(!q){var q=a?a(n,p,h+"",b,d,l):k,r=
q===k;r&&(q=p,C(p)||Ta(p)?C(n)?q=n:O(n)?q=T(n):(r=!1,q=ia(p,!0)):ec(p)||Ha(p)?Ha(n)?q=fd(n):!L(n)||m&&da(n)?(r=!1,q=ia(p,!0)):q=n:r=!1);l.set(p,q);r&&xb(q,p,m,a,l)}Rc(b,h,q)}else h=a?a(b[g],f,g+"",b,d,c):k,h===k&&(h=f),Rc(b,g,h)})}}function gd(b,d,m){var a=-1,c=B();return d=p(d.length?d:Array(1),function(b){return c(b)}),b=dd(b,function(b,m,c){return{a:p(d,function(d){return d(b)}),b:++a,c:b}}),X(b,function(b,d){var a;a:{a=-1;for(var c=b.a,rb=d.a,e=c.length,f=m.length;++a<e;){var g=Lc(c[a],rb[a]);
if(g){if(a>=f){a=g;break a}a=g*("desc"==m[a]?-1:1);break a}}a=b.b-d.b}return a})}function hd(b,d){return b=Object(b),v(d,function(d,a){return a in b&&(d[a]=b[a]),d},{})}function id(b,d){var m={};return Sb(b,function(b,a){d(b,a)&&(m[a]=b)}),m}function fc(b){return function(d){return null==d?k:d[b]}}function He(b){return function(d){return $b(d,b)}}function jd(b,d,m){var a=-1,c=d.length,e=b;for(m&&(e=p(b,function(b){return m(b)}));++a<c;)for(var f=0,g=d[a],g=m?m(g):g;-1<(f=n(e,g,f));)e!==b&&sb.call(e,
f,1),sb.call(b,f,1);return b}function kd(b,d){for(var m=b?d.length:0,a=m-1;m--;){var c=d[m];if(a==m||c!=e){var e=c;if(za(c))sb.call(b,c,1);else if(ta(c,b))delete b[c];else{var c=Fa(c),f=hb(b,c);null!=f&&delete f[U(c)]}}}return b}function gc(b,d){return b+yb(ld()*(d-b+1))}function hc(b,d,m,a){d=ta(d,b)?[d+""]:Fa(d);for(var c=-1,e=d.length,f=e-1,g=b;null!=g&&++c<e;){var h=d[c];if(L(g)){var l=m;if(c!=f){var n=g[h],l=a?a(n,h,g):k;l===k&&(l=null==n?za(d[c+1])?[]:{}:n)}tb(g,h,l)}g=g[h]}return b}function ua(b,
d,m){var a=-1,c=b.length;0>d&&(d=-d>c?0:c+d);m=m>c?c:m;0>m&&(m+=c);c=d>m?0:m-d>>>0;d>>>=0;for(m=Array(c);++a<c;)m[a]=b[a+d];return m}function Ie(b,d){var m;return sa(b,function(b,a,c){return m=d(b,a,c),!m}),!!m}function zb(b,d,m){var a=0,c=b?b.length:a;if("number"==typeof d&&d===d&&2147483647>=c){for(;c>a;){var e=a+c>>>1,f=b[e];(m?d>=f:d>f)&&null!==f?a=e+1:c=e}return c}return ic(b,d,ha,m)}function ic(b,d,m,a){d=m(d);for(var c=0,e=b?b.length:0,f=d!==d,g=null===d,h=d===k;e>c;){var l=yb((c+e)/2),n=m(b[l]),
p=n!==k,q=n===n;(f?q||a:g?q&&p&&(a||null!=n):h?q&&(a||p):null==n?0:a?d>=n:d>n)?c=l+1:e=l}return fa(e,4294967294)}function md(b,d){for(var m=0,a=b.length,c=b[0],e=d?d(c):c,f=e,g=0,h=[c];++m<a;)c=b[m],e=d?d(c):c,ra(e,f)||(f=e,h[++g]=c);return h}function Ja(b,d,m){var a=-1,c=t,e=b.length,f=!0,g=[],h=g;if(m)f=!1,c=l;else if(200>e)h=d?[]:g;else{if(c=d?null:Je(b))return pb(c);f=!1;c=pa;h=new oa}a:for(;++a<e;){var k=b[a],n=d?d(k):k;if(f&&n===n){for(var p=h.length;p--;)if(h[p]===n)continue a;d&&h.push(n);
g.push(k)}else c(h,n,m)||(h!==g&&h.push(n),g.push(k))}return g}function Ab(b,d,m,a){for(var c=b.length,e=a?c:-1;(a?e--:++e<c)&&d(b[e],e,b););return m?ua(b,a?0:e,a?e+1:c):ua(b,a?e+1:0,a?c:e)}function nd(b,d){var m=b;return m instanceof D&&(m=m.value()),v(d,function(b,d){return d.func.apply(d.thisArg,r([b],d.args))},m)}function jc(b,d,m){for(var a=-1,c=b.length;++a<c;)var e=e?r(Ga(e,b[a],d,m),Ga(b[a],e,d,m)):b[a];return e&&e.length?Ja(e,d,m):[]}function od(b,d,m){for(var a=-1,c=b.length,e=d.length,
f={};++a<c;)m(f,b[a],e>a?d[a]:k);return f}function Ae(b,d){if(d)return b.slice();var m=new b.constructor(b.length);return b.copy(m),m}function pd(b){var d=new b.constructor(b.byteLength);return(new Bb(d)).set(new Bb(b)),d}function qd(b,d,m,a){var c=-1,e=b.length,f=m.length,g=-1,h=d.length,l=Q(e-f,0),k=Array(h+l);for(a=!a;++g<h;)k[g]=d[g];for(;++c<f;)(a||e>c)&&(k[m[c]]=b[c]);for(;l--;)k[g++]=b[c++];return k}function rd(b,d,m,a){var c=-1,e=b.length,f=-1,g=m.length,h=-1,l=d.length,k=Q(e-g,0),n=Array(k+
l);for(a=!a;++c<k;)n[c]=b[c];for(k=c;++h<l;)n[k+h]=d[h];for(;++f<g;)(a||e>c)&&(n[k+m[f]]=b[c++]);return n}function T(b,d){var m=-1,a=b.length;for(d||(d=Array(a));++m<a;)d[m]=b[m];return d}function eb(b,d,m){return kc(b,d,m)}function kc(b,d,m,a){m||(m={});for(var c=-1,e=d.length;++c<e;){var f=d[c],g=a?a(m[f],b[f],f,m,b):b[f];tb(m,f,g)}return m}function Vc(b,d){return eb(b,Ke(b),d)}function Cb(b,d){return function(m,c){var e=C(m)?a:Pb,f=d?d():{};return e(m,b,B(c),f)}}function Ua(b){return y(function(d,
m){var a=-1,c=m.length,e=1<c?m[c-1]:k,f=2<c?m[2]:k,e="function"==typeof e?(c--,e):k;f&&la(m[0],m[1],f)&&(e=3>c?k:e,c=1);for(d=Object(d);++a<c;)(f=m[a])&&b(d,f,a,e);return d})}function sd(b,d){return function(m,a){if(null==m)return m;if(!ea(m))return b(m,a);for(var c=m.length,e=d?c:-1,f=Object(m);(d?e--:++e<c)&&!1!==a(f[e],e,f););return m}}function td(b){return function(d,m,a){var c=-1,e=Object(d);a=a(d);for(var f=a.length;f--;){var g=a[b?f:++c];if(!1===m(e[g],g,e))break}return d}}function Le(b,d,
m){function a(){return(this&&this!==ma&&this instanceof a?e:b).apply(c?m:this,arguments)}var c=1&d,e=ib(b);return a}function ud(b){return function(d){d=F(d);var m=qb.test(d)?d.match(aa):k,a=m?m[0]:d.charAt(0);return d=m?m.slice(1).join(""):d.slice(1),a[b]()+d}}function Va(b){return function(d){return v(vd(wd(d)),b,"")}}function ib(b){return function(){var d=arguments;switch(d.length){case 0:return new b;case 1:return new b(d[0]);case 2:return new b(d[0],d[1]);case 3:return new b(d[0],d[1],d[2]);case 4:return new b(d[0],
d[1],d[2],d[3]);case 5:return new b(d[0],d[1],d[2],d[3],d[4]);case 6:return new b(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new b(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var m=Sa(b.prototype),d=b.apply(m,d);return L(d)?d:m}}function Me(b,d,m){function a(){for(var f=arguments.length,g=Array(f),h=f,l=Wa(a);h--;)g[h]=arguments[h];return h=3>f&&g[0]!==l&&g[f-1]!==l?[]:Aa(g,l),f-=h.length,m>f?xd(b,d,Db,a.placeholder,k,g,h,k,k,m-f):c(this&&this!==ma&&this instanceof a?e:b,this,g)}var e=ib(b);return a}function yd(b){return y(function(d){d=
J(d,1);var m=d.length,a=m,c=Z.prototype.thru;for(b&&d.reverse();a--;){var e=d[a];if("function"!=typeof e)throw new ba("Expected a function");if(c&&!f&&"wrapper"==Eb(e))var f=new Z([],!0)}for(a=f?a:m;++a<m;)var e=d[a],c=Eb(e),g="wrapper"==c?lc(e):k,f=g&&mc(g[0])&&424==g[1]&&!g[4].length&&1==g[9]?f[Eb(g[0])].apply(f,g[3]):1==e.length&&mc(e)?f[c]():f.thru(e);return function(){var b=arguments,a=b[0];if(f&&1==b.length&&C(a)&&200<=a.length)return f.plant(a).value();for(var c=0,b=m?d[c].apply(this,b):a;++c<
m;)b=d[c].call(this,b);return b}})}function Db(b,d,a,c,e,f,g,h,l,n){function p(){for(var z=arguments.length,u=z,x=Array(z);u--;)x[u]=arguments[u];if(v){var w,G=Wa(p),u=x.length;for(w=0;u--;)x[u]===G&&w++}if(c&&(x=qd(x,c,e,v)),f&&(x=rd(x,f,g,v)),z-=w,v&&n>z)return G=Aa(x,G),xd(b,d,Db,p.placeholder,a,x,G,h,l,n-z);if(G=r?a:this,u=t?G[b]:b,z=x.length,h){w=x.length;for(var X=fa(h.length,w),y=T(x);X--;){var B=h[X];x[X]=za(B,w)?y[B]:k}}else A&&1<z&&x.reverse();return q&&z>l&&(x.length=l),this&&this!==ma&&
this instanceof p&&(u=P||ib(u)),u.apply(G,x)}var q=128&d,r=1&d,t=2&d,v=24&d,A=512&d,P=t?k:ib(b);return p}function zd(b,d){return function(a,c){return Jc(a,b,d(c),{})}}function nc(b){return y(function(d){return d=p(J(d,1),B()),y(function(a){var e=this;return b(d,function(b){return c(b,e,a)})})})}function Fb(b,d,a){return d=E(d),b=cb(b),d&&d>b?(d-=b,a=a===k?" ":a+"",b=Ad(a,Gb(d/cb(a))),qb.test(a)?b.match(aa).slice(0,d).join(""):b.slice(0,d)):""}function Ne(b,d,a,e){function f(){for(var d=-1,l=arguments.length,
k=-1,n=e.length,p=Array(n+l),q=this&&this!==ma&&this instanceof f?h:b;++k<n;)p[k]=e[k];for(;l--;)p[k++]=arguments[++d];return c(q,g?a:this,p)}var g=1&d,h=ib(b);return f}function Bd(b){return function(d,a,c){c&&"number"!=typeof c&&la(d,a,c)&&(a=c=k);d=R(d);d=d===d?d:0;a===k?(a=d,d=0):a=R(a)||0;c=c===k?a>d?1:-1:R(c)||0;var e=-1;a=Q(Gb((a-d)/(c||1)),0);for(var f=Array(a);a--;)f[b?a:++e]=d,d+=c;return f}}function xd(b,d,a,c,e,f,g,h,l,n){var p=8&d;h=h?T(h):k;var q=p?g:k;g=p?k:g;var r=p?f:k;return f=p?
k:f,d=(d|(p?32:64))&~(p?64:32),4&d||(d&=-4),d=[b,d,e,r,q,f,g,h,l,n],a=a.apply(k,d),mc(b)&&Cd(a,d),a.placeholder=c,a}function oc(b){var d=Xa[b];return function(b,a){if(b=R(b),a=E(a)){var c=(F(b)+"e").split("e"),c=d(c[0]+"e"+(+c[1]+a)),c=(F(c)+"e").split("e");return+(c[0]+"e"+(+c[1]-a))}return d(b)}}function va(b,d,a,c,e,f,g,h){var l=2&d;if(!l&&"function"!=typeof b)throw new ba("Expected a function");var n=c?c.length:0;if(n||(d&=-97,c=e=k),g=g===k?g:Q(E(g),0),h=h===k?h:E(h),n-=e?e.length:0,64&d){var p=
c,q=e;c=e=k}var r=l?k:lc(b);return f=[b,d,a,c,e,p,q,f,g,h],r&&(a=f[1],b=r[1],d=a|b,c=128==b&&8==a||128==b&&256==a&&r[8]>=f[7].length||384==b&&r[8]>=r[7].length&&8==a,131>d||c)&&(1&b&&(f[2]=r[2],d|=1&a?0:4),(a=r[3])&&(c=f[3],f[3]=c?qd(c,a,r[4]):T(a),f[4]=c?Aa(f[3],"__lodash_placeholder__"):T(r[4])),(a=r[5])&&(c=f[5],f[5]=c?rd(c,a,r[6]):T(a),f[6]=c?Aa(f[5],"__lodash_placeholder__"):T(r[6])),(a=r[7])&&(f[7]=T(a)),128&b&&(f[8]=null==f[8]?r[8]:fa(f[8],r[8])),null==f[9]&&(f[9]=r[9]),f[0]=r[0],f[1]=d),b=
f[0],d=f[1],a=f[2],c=f[3],e=f[4],h=f[9]=null==f[9]?l?0:b.length:Q(f[9]-n,0),!h&&24&d&&(d&=-25),l=d&&1!=d?8==d||16==d?Me(b,d,h):32!=d&&33!=d||e.length?Db.apply(k,f):Ne(b,d,a,c):Le(b,d,a),(r?Dd:Cd)(l,f)}function Ee(b,d,a,c,e,f){var g=-1,h=2&e,l=1&e,n=b.length,p=d.length;if(!(n==p||h&&p>n))return!1;if(p=f.get(b))return p==d;p=!0;for(f.set(b,d);++g<n;){var q=b[g],r=d[g];if(c)var t=h?c(r,q,g,d,b,f):c(q,r,g,b,d,f);if(t!==k){if(t)continue;p=!1;break}if(l){if(!z(d,function(b){return q===b||a(q,b,c,e,f)})){p=
!1;break}}else if(q!==r&&!a(q,r,c,e,f)){p=!1;break}}return f["delete"](b),p}function Ge(b,d,a,c,e,f){switch(a){case "[object ArrayBuffer]":if(b.byteLength!=d.byteLength||!c(new Bb(b),new Bb(d)))break;return!0;case "[object Boolean]":case "[object Date]":return+b==+d;case "[object Error]":return b.name==d.name&&b.message==d.message;case "[object Number]":return b!=+b?d!=+d:b==+d;case "[object RegExp]":case "[object String]":return b==d+"";case "[object Map]":var g=Ob;case "[object Set]":return g||
(g=pb),(2&f||b.size==d.size)&&c(g(b),g(d),e,1|f);case "[object Symbol]":return!!wa&&pc.call(b)==pc.call(d)}return!1}function Fe(b,d,a,c,e,f){var g=2&e,h=S(b),l=h.length,n=S(d).length;if(l!=n&&!g)return!1;for(var p=l;p--;){var q=h[p];if(!(g?q in d:ac(d,q)))return!1}if(n=f.get(b))return n==d;n=!0;f.set(b,d);for(var r=g;++p<l;){var q=h[p],t=b[q],v=d[q];if(c)var A=g?c(v,t,q,d,b,f):c(t,v,q,b,d,f);if(A===k?t!==v&&!a(t,v,c,e,f):!A){n=!1;break}r||(r="constructor"==q)}return n&&!r&&(a=b.constructor,c=d.constructor,
a!=c&&"constructor"in b&&"constructor"in d&&!("function"==typeof a&&a instanceof a&&"function"==typeof c&&c instanceof c)&&(n=!1)),f["delete"](b),n}function Eb(b){for(var d=b.name+"",a=jb[d],c=M.call(jb,d)?a.length:0;c--;){var f=a[c],e=f.func;if(null==e||e==b)return f.name}return d}function B(){var b=f.iteratee||qc,b=b===qc?Zc:b;return arguments.length?b(arguments[0],arguments[1]):b}function dc(b){b=Ed(b);for(var d=b.length;d--;){var a,c=b[d];a=b[d][1];a=a===a&&!L(a);c[2]=a}return b}function Hb(b,
d){var a=null==b?k:b[d];return Fd(a)?a:k}function Wa(b){return(M.call(f,"placeholder")?f:b).placeholder}function ja(b){return V.call(b)}function Gd(b,d,a){if(null==b)return!1;var c=a(b,d);return c||ta(d)||(d=Fa(d),b=hb(b,d),null!=b&&(d=U(d),c=a(b,d))),a=b?b.length:k,c||!!a&&kb(a)&&za(d,a)&&(C(b)||Ka(b)||Ha(b))}function ze(b){var d=b.length,a=b.constructor(d);return d&&"string"==typeof b[0]&&M.call(b,"index")&&(a.index=b.index,a.input=b.input),a}function Be(b){return da(b.constructor)&&!rc(b)?Sa(wb(b)):
{}}function Ce(b,d,a){var c=b.constructor;switch(d){case "[object ArrayBuffer]":return pd(b);case "[object Boolean]":case "[object Date]":return new c(+b);case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return d=b.buffer,a=a?pd(d):d,new b.constructor(a,b.byteOffset,b.length);case "[object Map]":return a=
b.constructor,v(Ob(b),h,new a);case "[object Number]":case "[object String]":return new c(b);case "[object RegExp]":return a=new b.constructor(b.source,Hd.exec(b)),a.lastIndex=b.lastIndex,a;case "[object Set]":return a=b.constructor,v(pb(b),e,new a);case "[object Symbol]":return wa?Object(pc.call(b)):{}}}function Id(b){var d=b?b.length:k;return kb(d)&&(C(b)||Ka(b)||Ha(b))?Na(d,String):null}function la(b,d,a){if(!L(a))return!1;var c=typeof d;return("number"==c?ea(a)&&za(d,a.length):"string"==c&&d in
a)?ra(a[d],b):!1}function ta(b,d){return"number"==typeof b?!0:!C(b)&&(Oe.test(b)||!Pe.test(b)||null!=d&&b in Object(d))}function Pa(b){var d=typeof b;return"number"==d||"boolean"==d||"string"==d&&"__proto__"!=b||null==b}function mc(b){var d=Eb(b),a=f[d];return"function"==typeof a&&d in D.prototype?b===a?!0:(d=lc(a),!!d&&b===d[0]):!1}function rc(b){var d=b&&b.constructor,d=da(d)&&d.prototype||Qa;return b===d}function Jd(b,d,a,c,f,e){return L(b)&&L(d)&&(e.set(d,b),xb(b,d,k,Jd,e)),b}function hb(b,d){return 1==
d.length?b:fb(b,ua(d,0,-1))}function Tc(b){var d=[];return F(b).replace(Qe,function(b,a,c,f){d.push(c?f.replace(Re,"$1"):a||b)}),d}function Pc(b){if(b instanceof D)return b.clone();var d=new Z(b.__wrapped__,b.__chain__);return d.__actions__=T(b.__actions__),d.__index__=b.__index__,d.__values__=b.__values__,d}function Kd(b,d,a){var c=b?b.length:0;return c?(d=a||d===k?1:E(d),ua(b,0>d?0:d,c)):[]}function Ld(b,d,a){var c=b?b.length:0;return c?(d=a||d===k?1:E(d),d=c-d,ua(b,0,0>d?0:d)):[]}function Md(b){return b?
b[0]:k}function U(b){var d=b?b.length:0;return d?b[d-1]:k}function Nd(b,d){return b&&b.length&&d&&d.length?jd(b,d):b}function sc(b){return b?Se.call(b):b}function tc(b){if(!b||!b.length)return[];var d=0;return b=w(b,function(b){return O(b)?(d=Q(b.length,d),!0):void 0}),Na(d,function(d){return p(b,fc(d))})}function Od(b,d){if(!b||!b.length)return[];var a=tc(b);return null==d?a:p(a,function(b){return c(d,k,b)})}function Pd(b){return b=f(b),b.__chain__=!0,b}function Ib(b,d){return d(b)}function Te(){return this}
function Qd(b,d){return"function"==typeof d&&C(b)?g(b,d):sa(b,Ea(d))}function Rd(b,d){var a;if("function"==typeof d&&C(b)){for(a=b.length;a--&&!1!==d(b[a],a,b););a=b}else a=uc(b,Ea(d));return a}function Sd(b,d){return(C(b)?p:dd)(b,B(d,3))}function Td(b,d){var a=-1,c=vc(b),f=c.length,e=f-1;for(d=Ra(E(d),0,f);++a<d;){var f=gc(a,e),g=c[f];c[f]=c[a];c[a]=g}return c.length=d,c}function Ud(b,d,a){return d=a?k:d,d=b&&null==d?b.length:d,va(b,128,k,k,k,k,d)}function Vd(b,d){var a;if("function"!=typeof d)throw new ba("Expected a function");
return b=E(b),function(){return 0<--b&&(a=d.apply(this,arguments)),1>=b&&(d=k),a}}function Wd(b,d,a){return d=a?k:d,b=va(b,8,k,k,k,k,k,d),b.placeholder=Wd.placeholder,b}function Xd(b,d,a){return d=a?k:d,b=va(b,16,k,k,k,k,k,d),b.placeholder=Xd.placeholder,b}function Yd(b,d,a){function c(){t&&lb(t);n&&lb(n);A=0;l=n=r=t=v=k}function f(d,a){a&&lb(a);n=t=v=k;d&&(A=mb(),p=b.apply(r,l),t||n||(l=r=k))}function e(){var b=d-(mb()-q);0>=b||b>d?f(v,n):t=ub(e,b)}function g(){f(u,t)}function h(){if(l=arguments,
q=mb(),r=this,v=u&&(t||!x),!1===z)var a=x&&!t;else{A||n||x||(A=q);var c=z-(q-A),m=(0>=c||c>z)&&(x||n);m?(n&&(n=lb(n)),A=q,p=b.apply(r,l)):n||(n=ub(g,c))}return m&&t?t=lb(t):t||d===z||(t=ub(e,d)),a&&(m=!0,p=b.apply(r,l)),!m||t||n||(l=r=k),p}var l,n,p,q,r,t,v,A=0,x=!1,z=!1,u=!0;if("function"!=typeof b)throw new ba("Expected a function");return d=R(d)||0,L(a)&&(x=!!a.leading,z="maxWait"in a&&Q(R(a.maxWait)||0,d),u="trailing"in a?!!a.trailing:u),h.cancel=c,h.flush=function(){return(t&&v||n&&u)&&(p=b.apply(r,
l)),c(),p},h}function wc(b,d){if("function"!=typeof b||d&&"function"!=typeof d)throw new ba("Expected a function");var a=function(){var c=arguments,f=d?d.apply(this,c):c[0],e=a.cache;return e.has(f)?e.get(f):(c=b.apply(this,c),a.cache=e.set(f,c),c)};return a.cache=new wc.Cache,a}function y(b,d){if("function"!=typeof b)throw new ba("Expected a function");return d=Q(d===k?b.length-1:E(d),0),function(){for(var a=arguments,f=-1,e=Q(a.length-d,0),g=Array(e);++f<e;)g[f]=a[d+f];switch(d){case 0:return b.call(this,
g);case 1:return b.call(this,a[0],g);case 2:return b.call(this,a[0],a[1],g)}e=Array(d+1);for(f=-1;++f<d;)e[f]=a[f];return e[d]=g,c(b,this,e)}}function ra(b,d){return b===d||b!==b&&d!==d}function xc(b,d){return b>d}function Ha(b){return O(b)&&M.call(b,"callee")&&(!Zd.call(b,"callee")||"[object Arguments]"==V.call(b))}function ea(b){return null!=b&&!("function"==typeof b&&da(b))&&kb(Ue(b))}function O(b){return N(b)&&ea(b)}function yc(b){return N(b)?"[object Error]"==V.call(b)||"string"==typeof b.message&&
"string"==typeof b.name:!1}function da(b){return b=L(b)?V.call(b):"","[object Function]"==b||"[object GeneratorFunction]"==b}function $d(b){return"number"==typeof b&&b==E(b)}function kb(b){return"number"==typeof b&&-1<b&&0==b%1&&9007199254740991>=b}function L(b){var d=typeof b;return!!b&&("object"==d||"function"==d)}function N(b){return!!b&&"object"==typeof b}function Fd(b){return null==b?!1:da(b)?ae.test(Ca.call(b)):N(b)&&(bb(b)?ae:Ve).test(b)}function be(b){return"number"==typeof b||N(b)&&"[object Number]"==
V.call(b)}function ec(b){return!N(b)||"[object Object]"!=V.call(b)||bb(b)?!1:(b=wb(b),null===b?!0:(b=b.constructor,"function"==typeof b&&b instanceof b&&Ca.call(b)==We))}function ce(b){return L(b)&&"[object RegExp]"==V.call(b)}function Ka(b){return"string"==typeof b||!C(b)&&N(b)&&"[object String]"==V.call(b)}function de(b){return"symbol"==typeof b||N(b)&&"[object Symbol]"==V.call(b)}function Ta(b){return N(b)&&kb(b.length)&&!!I[V.call(b)]}function zc(b,d){return d>b}function vc(b){if(!b)return[];
if(ea(b))return Ka(b)?b.match(aa):T(b);if(La&&b[La])return Nc(b[La]());var d=ja(b);return("[object Map]"==d?Ob:"[object Set]"==d?pb:Jb)(b)}function E(b){if(!b)return 0===b?b:0;if(b=R(b),b===Kb||b===-Kb)return 1.7976931348623157E308*(0>b?-1:1);var d=b%1;return b===b?d?b-d:b:0}function ee(b){return b?Ra(E(b),0,4294967295):0}function R(b){if(L(b)&&(b=da(b.valueOf)?b.valueOf():b,b=L(b)?b+"":b),"string"!=typeof b)return 0===b?b:+b;b=b.replace(Ac,"");var d=Xe.test(b);return d||Ye.test(b)?Ze(b.slice(2),
d?2:8):$e.test(b)?af:+b}function fd(b){return eb(b,ca(b))}function F(b){if("string"==typeof b)return b;if(null==b)return"";if(de(b))return wa?bf.call(b):"";var d=b+"";return"0"==d&&1/b==-Kb?"-0":d}function fb(b,d,a){return b=null==b?k:$b(b,d),b===k?a:b}function fe(b,d){return Gd(b,d,ac)}function ed(b,d){return Gd(b,d,Tb)}function S(b){var d=rc(b);if(!d&&!ea(b))return cf(Object(b));var a,c=Id(b),f=!!c,c=c||[],e=c.length;for(a in b)!ac(b,a)||f&&("length"==a||za(a,e))||d&&"constructor"==a||c.push(a);
return c}function ca(b){for(var d=-1,a=rc(b),c=cd(b),f=c.length,e=Id(b),g=!!e,e=e||[],h=e.length;++d<f;){var l=c[d];g&&("length"==l||za(l,h))||"constructor"==l&&(a||!M.call(b,l))||e.push(l)}return e}function Ed(b){return Y(b,S(b))}function Jb(b){return b?ya(b,S(b)):[]}function Bc(b){return ge(F(b).toLowerCase())}function wd(b){return(b=F(b))&&b.replace(df,ve).replace(ef,"")}function Ad(b,d){b=F(b);d=E(d);var a="";if(!b||1>d||9007199254740991<d)return a;do d%2&&(a+=b),d=yb(d/2),b+=b;while(d);return a}
function vd(b,d,a){return b=F(b),d=a?k:d,d===k&&(d=ff.test(b)?gf:hf),b.match(d)||[]}function Cc(b){return function(){return b}}function ha(b){return b}function qc(b){return Zc("function"==typeof b?b:ia(b,!0))}function Dc(b,d,a){var c=S(d),f=vb(d,c);null!=a||L(d)&&(f.length||!c.length)||(a=d,d=b,b=this,f=vb(d,S(d)));var e=L(a)&&"chain"in a?a.chain:!0,h=da(b);return g(f,function(a){var c=d[a];b[a]=c;h&&(b.prototype[a]=function(){var d=this.__chain__;if(e||d){var a=b(this.__wrapped__);return(a.__actions__=
T(this.__actions__)).push({func:c,args:arguments,thisArg:b}),a.__chain__=d,a}return c.apply(b,r([this.value()],arguments))})}),b}function Ec(){}function bd(b){return ta(b)?fc(b):He(b)}function he(b){return b&&b.length?ab(b,ha):0}K=K?Da.defaults({},K,Da.pick(ma,jf)):ma;var kf=K.Date,lf=K.Error,Xa=K.Math,Fc=K.RegExp,ba=K.TypeError,Lb=K.Array.prototype,Qa=K.Object.prototype,Ca=K.Function.prototype.toString,M=Qa.hasOwnProperty,mf=0,We=Ca.call(Object),V=Qa.toString,nf=ma._,ae=Fc("^"+Ca.call(M).replace(Gc,
"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),je=ie?K.Buffer:k,ke=K.Reflect,wa=K.Symbol,Bb=K.Uint8Array,lb=K.clearTimeout,le=ke?ke.enumerate:k,wb=Object.getPrototypeOf,of=Object.getOwnPropertySymbols,La="symbol"==typeof(La=wa&&wa.iterator)?La:k,De=Object.create,Zd=Qa.propertyIsEnumerable,ub=K.setTimeout,sb=Lb.splice,Gb=Xa.ceil,yb=Xa.floor,pf=K.isFinite,qf=Lb.join,cf=Object.keys,Q=Xa.max,fa=Xa.min,rf=K.parseInt,ld=Xa.random,Se=Lb.reverse,na=Hb(K,"Map"),Ma=Hb(K,
"Set"),Ya=Hb(K,"WeakMap"),Za=Hb(Object,"create"),Mb=Ya&&new Ya,sf=na?Ca.call(na):"",tf=Ma?Ca.call(Ma):"",uf=Ya?Ca.call(Ya):"",me=wa?wa.prototype:k,pc=wa?me.valueOf:k,bf=wa?me.toString:k,jb={};f.templateSettings={escape:vf,evaluate:wf,interpolate:ne,variable:"",imports:{_:f}};var sa=sd(ka),uc=sd(Zb,!0),Yb=td(),Yc=td(!0);le&&!Zd.call({valueOf:1},"valueOf")&&(cd=function(b){return Nc(le(b))});var Dd=Mb?function(b,d){return Mb.set(b,d),b}:ha,Je=Ma&&2===(new Ma([1,2])).size?function(b){return new Ma(b)}:
Ec,lc=Mb?function(b){return Mb.get(b)}:Ec,Ue=fc("length"),Ke=of||function(){return[]};(na&&"[object Map]"!=ja(new na)||Ma&&"[object Set]"!=ja(new Ma)||Ya&&"[object WeakMap]"!=ja(new Ya))&&(ja=function(b){var d=V.call(b);if(b="[object Object]"==d?b.constructor:null,b="function"==typeof b?Ca.call(b):"")switch(b){case sf:return"[object Map]";case tf:return"[object Set]";case uf:return"[object WeakMap]"}return d});var Cd=function(){var b=0,d=0;return function(a,c){var f=mb(),e=16-(f-d);if(d=f,0<e){if(150<=
++b)return a}else b=0;return Dd(a,c)}}(),xf=y(function(b,d){C(b)||(b=null==b?[]:[Object(b)]);d=J(d,1);for(var a=b,c=d,f=-1,e=a.length,g=-1,h=c.length,l=Array(e+h);++f<e;)l[f]=a[f];for(;++g<h;)l[f++]=c[g];return l}),yf=y(function(b,d){return O(b)?Ga(b,J(d,1,!0)):[]}),zf=y(function(b,d){var a=U(d);return O(a)&&(a=k),O(b)?Ga(b,J(d,1,!0),B(a)):[]}),Af=y(function(b,d){var a=U(d);return O(a)&&(a=k),O(b)?Ga(b,J(d,1,!0),k,a):[]}),Bf=y(function(b){var d=p(b,Wb);return d.length&&d[0]===b[0]?bc(d):[]}),Cf=y(function(b){var d=
U(b),a=p(b,Wb);return d===U(a)?d=k:a.pop(),a.length&&a[0]===b[0]?bc(a,B(d)):[]}),Df=y(function(b){var d=U(b),a=p(b,Wb);return d===U(a)?d=k:a.pop(),a.length&&a[0]===b[0]?bc(a,k,d):[]}),Ef=y(Nd),Ff=y(function(b,d){d=p(J(d,1),String);var a=Vb(b,d);return kd(b,d.sort(Lc)),a}),Gf=y(function(b){return Ja(J(b,1,!0))}),Hf=y(function(b){var d=U(b);return O(d)&&(d=k),Ja(J(b,1,!0),B(d))}),If=y(function(b){var d=U(b);return O(d)&&(d=k),Ja(J(b,1,!0),k,d)}),Jf=y(function(b,d){return O(b)?Ga(b,d):[]}),Kf=y(function(b){return jc(w(b,
O))}),Lf=y(function(b){var d=U(b);return O(d)&&(d=k),jc(w(b,O),B(d))}),Mf=y(function(b){var d=U(b);return O(d)&&(d=k),jc(w(b,O),k,d)}),Nf=y(tc),Of=y(function(b){var d=b.length,d=1<d?b[d-1]:k,d="function"==typeof d?(b.pop(),d):k;return Od(b,d)}),Pf=y(function(b){b=J(b,1);var d=b.length,a=d?b[0]:0,c=this.__wrapped__,f=function(d){return Vb(d,b)};return 1>=d&&!this.__actions__.length&&c instanceof D&&za(a)?(c=c.slice(a,+a+(d?1:0)),c.__actions__.push({func:Ib,args:[f],thisArg:k}),(new Z(c,this.__chain__)).thru(function(b){return d&&
!b.length&&b.push(k),b})):this.thru(f)}),Qf=Cb(function(b,d,a){M.call(b,a)?++b[a]:b[a]=1}),Rf=Cb(function(b,d,a){M.call(b,a)?b[a].push(d):b[a]=[d]}),Sf=y(function(b,d,a){var f=-1,e="function"==typeof d,g=ta(d),h=ea(b)?Array(b.length):[];return sa(b,function(b){var l=e?d:g&&null!=b?b[d]:k;h[++f]=l?c(l,b,a):gb(b,d,a)}),h}),Tf=Cb(function(b,d,a){b[a]=d}),Uf=Cb(function(b,d,a){b[a?0:1].push(d)},function(){return[[],[]]}),Vf=y(function(b,d){if(null==b)return[];var a=d.length;return 1<a&&la(b,d[0],d[1])?
d=[]:2<a&&la(d[0],d[1],d[2])&&(d.length=1),gd(b,J(d,1),[])}),mb=kf.now,Hc=y(function(b,d,a){var c=1;if(a.length)var f=Aa(a,Wa(Hc)),c=32|c;return va(b,c,d,a,f)}),oe=y(function(b,d,a){var c=3;if(a.length)var f=Aa(a,Wa(oe)),c=32|c;return va(d,c,b,a,f)}),Wf=y(function(b,d){return Wc(b,1,d)}),Xf=y(function(b,d,a){return Wc(b,R(d)||0,a)}),Yf=y(function(b,d){d=p(J(d,1),B());var a=d.length;return y(function(f){for(var e=-1,g=fa(f.length,a);++e<g;)f[e]=d[e].call(this,f[e]);return c(b,this,f)})}),Ic=y(function(b,
d){var a=Aa(d,Wa(Ic));return va(b,32,k,d,a)}),pe=y(function(b,d){var a=Aa(d,Wa(pe));return va(b,64,k,d,a)}),Zf=y(function(b,d){return va(b,256,k,k,k,J(d,1))}),C=Array.isArray,Uc=je?function(b){return b instanceof je}:Cc(!1),$f=Ua(function(b,d){eb(d,S(d),b)}),qe=Ua(function(b,d){eb(d,ca(d),b)}),nb=Ua(function(b,d,a,c){kc(d,ca(d),b,c)}),ag=Ua(function(b,d,a,c){kc(d,S(d),b,c)}),bg=y(function(b,d){return Vb(b,J(d,1))}),cg=y(function(b){return b.push(k,Ub),c(nb,k,b)}),dg=y(function(b){return b.push(k,
Jd),c(re,k,b)}),eg=zd(function(b,d,a){b[d]=a},Cc(ha)),fg=zd(function(b,d,a){M.call(b,d)?b[d].push(a):b[d]=[a]},B),gg=y(gb),hg=Ua(function(b,d,a){xb(b,d,a)}),re=Ua(function(b,d,a,c){xb(b,d,a,c)}),ig=y(function(b,d){return null==b?{}:(d=p(J(d,1),String),hd(b,Ga(ca(b),d)))}),jg=y(function(b,d){return null==b?{}:hd(b,J(d,1))}),kg=Va(function(b,d,a){return d=d.toLowerCase(),b+(a?Bc(d):d)}),lg=Va(function(b,d,a){return b+(a?"-":"")+d.toLowerCase()}),mg=Va(function(b,d,a){return b+(a?" ":"")+d.toLowerCase()}),
ng=ud("toLowerCase"),ge=ud("toUpperCase"),og=Va(function(b,d,a){return b+(a?"_":"")+d.toLowerCase()}),pg=Va(function(b,d,a){return b+(a?" ":"")+Bc(d)}),qg=Va(function(b,d,a){return b+(a?" ":"")+d.toUpperCase()}),se=y(function(b,d){try{return c(b,k,d)}catch(a){return yc(a)?a:new lf(a)}}),rg=y(function(b,d){return g(J(d,1),function(d){b[d]=Hc(b[d],b)}),b}),sg=yd(),tg=yd(!0),ug=y(function(b,d){return function(a){return gb(a,b,d)}}),vg=y(function(b,d){return function(a){return gb(b,a,d)}}),wg=nc(p),xg=
nc(u),yg=nc(z),zg=Bd(),Ag=Bd(!0),Bg=oc("ceil"),Cg=oc("floor"),Dg=oc("round");return f.prototype=W.prototype,Z.prototype=Sa(W.prototype),Z.prototype.constructor=Z,D.prototype=Sa(W.prototype),D.prototype.constructor=D,xa.prototype=Za?Za(null):Qa,Ba.prototype.clear=function(){this.__data__={hash:new xa,map:na?new na:[],string:new xa}},Ba.prototype["delete"]=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,(Za?d[b]!==k:M.call(d,b))&&delete d[b]):na?d.map["delete"](b):
$a(d.map,b)},Ba.prototype.get=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,Za?(b=d[b],b="__lodash_hash_undefined__"===b?k:b):b=M.call(d,b)?d[b]:k,b):na?d.map.get(b):ob(d.map,b)},Ba.prototype.has=function(b){var d=this.__data__;return Pa(b)?(d="string"==typeof b?d.string:d.hash,b=Za?d[b]!==k:M.call(d,b)):b=na?d.map.has(b):-1<db(d.map,b),b},Ba.prototype.set=function(b,d){var a=this.__data__;return Pa(b)?("string"==typeof b?a.string:a.hash)[b]=Za&&d===k?"__lodash_hash_undefined__":
d:na?a.map.set(b,d):Qc(a.map,b,d),this},oa.prototype.push=function(b){var d=this.__data__;Pa(b)?(d=d.__data__,("string"==typeof b?d.string:d.hash)[b]="__lodash_hash_undefined__"):d.set(b,"__lodash_hash_undefined__")},qa.prototype.clear=function(){this.__data__={array:[],map:null}},qa.prototype["delete"]=function(b){var d=this.__data__,a=d.array;return a?$a(a,b):d.map["delete"](b)},qa.prototype.get=function(b){var d=this.__data__,a=d.array;return a?ob(a,b):d.map.get(b)},qa.prototype.has=function(b){var d=
this.__data__,a=d.array;return a?-1<db(a,b):d.map.has(b)},qa.prototype.set=function(b,d){var a=this.__data__,c=a.array;return c&&(199>c.length?Qc(c,b,d):(a.array=null,a.map=new Ba(c))),(a=a.map)&&a.set(b,d),this},wc.Cache=Ba,f.after=function(b,d){if("function"!=typeof d)throw new ba("Expected a function");return b=E(b),function(){return 1>--b?d.apply(this,arguments):void 0}},f.ary=Ud,f.assign=$f,f.assignIn=qe,f.assignInWith=nb,f.assignWith=ag,f.at=bg,f.before=Vd,f.bind=Hc,f.bindAll=rg,f.bindKey=oe,
f.castArray=function(){if(!arguments.length)return[];var b=arguments[0];return C(b)?b:[b]},f.chain=Pd,f.chunk=function(b,d){d=Q(E(d),0);var a=b?b.length:0;if(!a||1>d)return[];for(var c=0,f=-1,e=Array(Gb(a/d));a>c;)e[++f]=ua(b,c,c+=d);return e},f.compact=function(b){for(var d=-1,a=b?b.length:0,c=-1,f=[];++d<a;){var e=b[d];e&&(f[++c]=e)}return f},f.concat=xf,f.cond=function(b){var d=b?b.length:0,a=B();return b=d?p(b,function(b){if("function"!=typeof b[1])throw new ba("Expected a function");return[a(b[0]),
b[1]]}):[],y(function(a){for(var f=-1;++f<d;){var e=b[f];if(c(e[0],this,a))return c(e[1],this,a)}})},f.conforms=function(b){return Qb(ia(b,!0))},f.constant=Cc,f.countBy=Qf,f.create=function(b,d){var a=Sa(b);return d?Sc(a,d):a},f.curry=Wd,f.curryRight=Xd,f.debounce=Yd,f.defaults=cg,f.defaultsDeep=dg,f.defer=Wf,f.delay=Xf,f.difference=yf,f.differenceBy=zf,f.differenceWith=Af,f.drop=Kd,f.dropRight=Ld,f.dropRightWhile=function(b,d){return b&&b.length?Ab(b,B(d,3),!0,!0):[]},f.dropWhile=function(b,d){return b&&
b.length?Ab(b,B(d,3),!0):[]},f.fill=function(b,d,a,c){var f=b?b.length:0;if(!f)return[];a&&"number"!=typeof a&&la(b,d,a)&&(a=0,c=f);f=b.length;a=E(a);0>a&&(a=-a>f?0:f+a);c=c===k||c>f?f:E(c);0>c&&(c+=f);for(c=a>c?0:ee(c);c>a;)b[a++]=d;return b},f.filter=function(b,d){return(C(b)?w:Xc)(b,B(d,3))},f.flatMap=function(b,d){return J(Sd(b,d),1)},f.flatten=function(b){return b&&b.length?J(b,1):[]},f.flattenDeep=function(b){return b&&b.length?J(b,Kb):[]},f.flattenDepth=function(b,d){return b&&b.length?(d=
d===k?1:E(d),J(b,d)):[]},f.flip=function(b){return va(b,512)},f.flow=sg,f.flowRight=tg,f.fromPairs=function(b){for(var d=-1,a=b?b.length:0,c={};++d<a;){var f=b[d];c[f[0]]=f[1]}return c},f.functions=function(b){return null==b?[]:vb(b,S(b))},f.functionsIn=function(b){return null==b?[]:vb(b,ca(b))},f.groupBy=Rf,f.initial=function(b){return Ld(b,1)},f.intersection=Bf,f.intersectionBy=Cf,f.intersectionWith=Df,f.invert=eg,f.invertBy=fg,f.invokeMap=Sf,f.iteratee=qc,f.keyBy=Tf,f.keys=S,f.keysIn=ca,f.map=
Sd,f.mapKeys=function(b,d){var a={};return d=B(d,3),ka(b,function(b,c,f){a[d(b,c,f)]=b}),a},f.mapValues=function(b,d){var a={};return d=B(d,3),ka(b,function(b,c,f){a[c]=d(b,c,f)}),a},f.matches=function(b){return ad(ia(b,!0))},f.matchesProperty=function(b,d){return $c(b,ia(d,!0))},f.memoize=wc,f.merge=hg,f.mergeWith=re,f.method=ug,f.methodOf=vg,f.mixin=Dc,f.negate=function(b){if("function"!=typeof b)throw new ba("Expected a function");return function(){return!b.apply(this,arguments)}},f.nthArg=function(b){return b=
E(b),function(){return arguments[b]}},f.omit=ig,f.omitBy=function(b,d){return d=B(d),id(b,function(b,a){return!d(b,a)})},f.once=function(b){return Vd(2,b)},f.orderBy=function(b,d,a,c){return null==b?[]:(C(d)||(d=null==d?[]:[d]),a=c?k:a,C(a)||(a=null==a?[]:[a]),gd(b,d,a))},f.over=wg,f.overArgs=Yf,f.overEvery=xg,f.overSome=yg,f.partial=Ic,f.partialRight=pe,f.partition=Uf,f.pick=jg,f.pickBy=function(b,d){return null==b?{}:id(b,B(d))},f.property=bd,f.propertyOf=function(b){return function(d){return null==
b?k:$b(b,d)}},f.pull=Ef,f.pullAll=Nd,f.pullAllBy=function(b,d,a){return b&&b.length&&d&&d.length?jd(b,d,B(a)):b},f.pullAt=Ff,f.range=zg,f.rangeRight=Ag,f.rearg=Zf,f.reject=function(b,d){var a=C(b)?w:Xc;return d=B(d,3),a(b,function(b,a,c){return!d(b,a,c)})},f.remove=function(b,d){var a=[];if(!b||!b.length)return a;var c=-1,f=[],e=b.length;for(d=B(d,3);++c<e;){var g=b[c];d(g,c,b)&&(a.push(g),f.push(c))}return kd(b,f),a},f.rest=y,f.reverse=sc,f.sampleSize=Td,f.set=function(b,d,a){return null==b?b:hc(b,
d,a)},f.setWith=function(b,d,a,c){return c="function"==typeof c?c:k,null==b?b:hc(b,d,a,c)},f.shuffle=function(b){return Td(b,4294967295)},f.slice=function(b,d,a){var c=b?b.length:0;return c?(a&&"number"!=typeof a&&la(b,d,a)?(d=0,a=c):(d=null==d?0:E(d),a=a===k?c:E(a)),ua(b,d,a)):[]},f.sortBy=Vf,f.sortedUniq=function(b){return b&&b.length?md(b):[]},f.sortedUniqBy=function(b,d){return b&&b.length?md(b,B(d)):[]},f.split=function(b,d,a){return F(b).split(d,a)},f.spread=function(b,d){if("function"!=typeof b)throw new ba("Expected a function");
return d=d===k?0:Q(E(d),0),y(function(a){var f=a[d];return a=a.slice(0,d),f&&r(a,f),c(b,this,a)})},f.tail=function(b){return Kd(b,1)},f.take=function(b,d,a){return b&&b.length?(d=a||d===k?1:E(d),ua(b,0,0>d?0:d)):[]},f.takeRight=function(b,d,a){var c=b?b.length:0;return c?(d=a||d===k?1:E(d),d=c-d,ua(b,0>d?0:d,c)):[]},f.takeRightWhile=function(b,d){return b&&b.length?Ab(b,B(d,3),!1,!0):[]},f.takeWhile=function(b,d){return b&&b.length?Ab(b,B(d,3)):[]},f.tap=function(b,d){return d(b),b},f.throttle=function(b,
d,a){var c=!0,f=!0;if("function"!=typeof b)throw new ba("Expected a function");return L(a)&&(c="leading"in a?!!a.leading:c,f="trailing"in a?!!a.trailing:f),Yd(b,d,{leading:c,maxWait:d,trailing:f})},f.thru=Ib,f.toArray=vc,f.toPairs=Ed,f.toPairsIn=function(b){return Y(b,ca(b))},f.toPath=function(b){return C(b)?p(b,String):Tc(b)},f.toPlainObject=fd,f.transform=function(b,d,a){var c=C(b)||Ta(b);if(d=B(d,4),null==a)if(c||L(b)){var f=b.constructor;a=c?C(b)?new f:[]:da(f)?Sa(wb(b)):{}}else a={};return(c?
g:ka)(b,function(b,c,f){return d(a,b,c,f)}),a},f.unary=function(b){return Ud(b,1)},f.union=Gf,f.unionBy=Hf,f.unionWith=If,f.uniq=function(b){return b&&b.length?Ja(b):[]},f.uniqBy=function(b,d){return b&&b.length?Ja(b,B(d)):[]},f.uniqWith=function(b,d){return b&&b.length?Ja(b,k,d):[]},f.unset=function(b,d){var a;if(null==b)a=!0;else{a=b;var c=d,c=ta(c,a)?[c+""]:Fa(c);a=hb(a,c);c=U(c);a=null!=a&&fe(a,c)?delete a[c]:!0}return a},f.unzip=tc,f.unzipWith=Od,f.values=Jb,f.valuesIn=function(b){return null==
b?[]:ya(b,ca(b))},f.without=Jf,f.words=vd,f.wrap=function(b,d){return d=null==d?ha:d,Ic(d,b)},f.xor=Kf,f.xorBy=Lf,f.xorWith=Mf,f.zip=Nf,f.zipObject=function(b,d){return od(b||[],d||[],tb)},f.zipObjectDeep=function(b,d){return od(b||[],d||[],hc)},f.zipWith=Of,f.extend=qe,f.extendWith=nb,Dc(f,f),f.add=function(b,d){var a;return b===k&&d===k?0:(b!==k&&(a=b),d!==k&&(a=a===k?d:a+d),a)},f.attempt=se,f.camelCase=kg,f.capitalize=Bc,f.ceil=Bg,f.clamp=function(b,d,a){return a===k&&(a=d,d=k),a!==k&&(a=R(a),
a=a===a?a:0),d!==k&&(d=R(d),d=d===d?d:0),Ra(R(b),d,a)},f.clone=function(b){return ia(b)},f.cloneDeep=function(b){return ia(b,!0)},f.cloneDeepWith=function(b,d){return ia(b,!0,d)},f.cloneWith=function(b,d){return ia(b,!1,d)},f.deburr=wd,f.endsWith=function(b,d,a){b=F(b);d="string"==typeof d?d:d+"";var c=b.length;return a=a===k?c:Ra(E(a),0,c),a-=d.length,0<=a&&b.indexOf(d,a)==a},f.eq=ra,f.escape=function(b){return(b=F(b))&&Eg.test(b)?b.replace(te,we):b},f.escapeRegExp=function(b){return(b=F(b))&&Fg.test(b)?
b.replace(Gc,"\\$&"):b},f.every=function(b,d,a){var c=C(b)?u:Rb;return a&&la(b,d,a)&&(d=k),c(b,B(d,3))},f.find=function(b,d){if(d=B(d,3),C(b)){var a=A(b,d);return-1<a?b[a]:k}return q(b,d,sa)},f.findIndex=function(b,d){return b&&b.length?A(b,B(d,3)):-1},f.findKey=function(b,d){return q(b,B(d,3),ka,!0)},f.findLast=function(b,d){if(d=B(d,3),C(b)){var a=A(b,d,!0);return-1<a?b[a]:k}return q(b,d,uc)},f.findLastIndex=function(b,d){return b&&b.length?A(b,B(d,3),!0):-1},f.findLastKey=function(b,d){return q(b,
B(d,3),Zb,!0)},f.floor=Cg,f.forEach=Qd,f.forEachRight=Rd,f.forIn=function(b,d){return null==b?b:Yb(b,Ea(d),ca)},f.forInRight=function(b,d){return null==b?b:Yc(b,Ea(d),ca)},f.forOwn=function(b,d){return b&&ka(b,Ea(d))},f.forOwnRight=function(b,d){return b&&Zb(b,Ea(d))},f.get=fb,f.gt=xc,f.gte=function(b,d){return b>=d},f.has=fe,f.hasIn=ed,f.head=Md,f.identity=ha,f.includes=function(b,d,a,c){return b=ea(b)?b:Jb(b),a=a&&!c?E(a):0,c=b.length,0>a&&(a=Q(c+a,0)),Ka(b)?c>=a&&-1<b.indexOf(d,a):!!c&&-1<n(b,
d,a)},f.indexOf=function(b,a,c){var f=b?b.length:0;return f?(c=E(c),0>c&&(c=Q(f+c,0)),n(b,a,c)):-1},f.inRange=function(b,a,c){return a=R(a)||0,c===k?(c=a,a=0):c=R(c)||0,b=R(b),b>=fa(a,c)&&b<Q(a,c)},f.invoke=gg,f.isArguments=Ha,f.isArray=C,f.isArrayBuffer=function(b){return N(b)&&"[object ArrayBuffer]"==V.call(b)},f.isArrayLike=ea,f.isArrayLikeObject=O,f.isBoolean=function(b){return!0===b||!1===b||N(b)&&"[object Boolean]"==V.call(b)},f.isBuffer=Uc,f.isDate=function(b){return N(b)&&"[object Date]"==
V.call(b)},f.isElement=function(b){return!!b&&1===b.nodeType&&N(b)&&!ec(b)},f.isEmpty=function(b){if(ea(b)&&(C(b)||Ka(b)||da(b.splice)||Ha(b)))return!b.length;for(var a in b)if(M.call(b,a))return!1;return!0},f.isEqual=function(b,a){return Ia(b,a)},f.isEqualWith=function(b,a,c){var f=(c="function"==typeof c?c:k)?c(b,a):k;return f===k?Ia(b,a,c):!!f},f.isError=yc,f.isFinite=function(b){return"number"==typeof b&&pf(b)},f.isFunction=da,f.isInteger=$d,f.isLength=kb,f.isMap=function(b){return N(b)&&"[object Map]"==
ja(b)},f.isMatch=function(b,a){return b===a||cc(b,a,dc(a))},f.isMatchWith=function(b,a,c){return c="function"==typeof c?c:k,cc(b,a,dc(a),c)},f.isNaN=function(b){return be(b)&&b!=+b},f.isNative=Fd,f.isNil=function(b){return null==b},f.isNull=function(b){return null===b},f.isNumber=be,f.isObject=L,f.isObjectLike=N,f.isPlainObject=ec,f.isRegExp=ce,f.isSafeInteger=function(b){return $d(b)&&-9007199254740991<=b&&9007199254740991>=b},f.isSet=function(b){return N(b)&&"[object Set]"==ja(b)},f.isString=Ka,
f.isSymbol=de,f.isTypedArray=Ta,f.isUndefined=function(b){return b===k},f.isWeakMap=function(b){return N(b)&&"[object WeakMap]"==ja(b)},f.isWeakSet=function(b){return N(b)&&"[object WeakSet]"==V.call(b)},f.join=function(b,a){return b?qf.call(b,a):""},f.kebabCase=lg,f.last=U,f.lastIndexOf=function(b,a,c){var f=b?b.length:0;if(!f)return-1;var e=f;if(c!==k&&(e=E(c),e=(0>e?Q(f+e,0):fa(e,f-1))+1),a!==a)return Mc(b,e,!0);for(;e--;)if(b[e]===a)return e;return-1},f.lowerCase=mg,f.lowerFirst=ng,f.lt=zc,f.lte=
function(b,a){return a>=b},f.max=function(b){return b&&b.length?x(b,ha,xc):k},f.maxBy=function(b,a){return b&&b.length?x(b,B(a),xc):k},f.mean=function(b){return he(b)/(b?b.length:0)},f.min=function(b){return b&&b.length?x(b,ha,zc):k},f.minBy=function(b,a){return b&&b.length?x(b,B(a),zc):k},f.noConflict=function(){return ma._===this&&(ma._=nf),this},f.noop=Ec,f.now=mb,f.pad=function(b,a,c){b=F(b);a=E(a);var f=cb(b);return a&&a>f?(f=(a-f)/2,a=yb(f),f=Gb(f),Fb("",a,c)+b+Fb("",f,c)):b},f.padEnd=function(b,
a,c){return b=F(b),b+Fb(b,a,c)},f.padStart=function(b,a,c){return b=F(b),Fb(b,a,c)+b},f.parseInt=function(b,a,c){return c||null==a?a=0:a&&(a=+a),b=F(b).replace(Ac,""),rf(b,a||(Gg.test(b)?16:10))},f.random=function(b,a,c){if(c&&"boolean"!=typeof c&&la(b,a,c)&&(a=c=k),c===k&&("boolean"==typeof a?(c=a,a=k):"boolean"==typeof b&&(c=b,b=k)),b===k&&a===k?(b=0,a=1):(b=R(b)||0,a===k?(a=b,b=0):a=R(a)||0),b>a){var f=b;b=a;a=f}return c||b%1||a%1?(c=ld(),fa(b+c*(a-b+Hg("1e-"+((c+"").length-1))),a)):gc(b,a)},f.reduce=
function(b,a,c){var f=C(b)?v:P,e=3>arguments.length;return f(b,B(a,4),c,e,sa)},f.reduceRight=function(b,a,c){var f=C(b)?G:P,e=3>arguments.length;return f(b,B(a,4),c,e,uc)},f.repeat=Ad,f.replace=function(){var b=arguments,a=F(b[0]);return 3>b.length?a:a.replace(b[1],b[2])},f.result=function(b,a,c){if(ta(a,b))f=null==b?k:b[a];else{a=Fa(a);var f=fb(b,a);b=hb(b,a)}return f===k&&(f=c),da(f)?f.call(b):f},f.round=Dg,f.runInContext=Oc,f.sample=function(b){b=ea(b)?b:Jb(b);var a=b.length;return 0<a?b[gc(0,
a-1)]:k},f.size=function(b){if(null==b)return 0;if(ea(b)){var a=b.length;return a&&Ka(b)?cb(b):a}return S(b).length},f.snakeCase=og,f.some=function(b,a,c){var f=C(b)?z:Ie;return c&&la(b,a,c)&&(a=k),f(b,B(a,3))},f.sortedIndex=function(b,a){return zb(b,a)},f.sortedIndexBy=function(b,a,c){return ic(b,a,B(c))},f.sortedIndexOf=function(b,a){var c=b?b.length:0;if(c){var f=zb(b,a);if(c>f&&ra(b[f],a))return f}return-1},f.sortedLastIndex=function(b,a){return zb(b,a,!0)},f.sortedLastIndexBy=function(b,a,c){return ic(b,
a,B(c),!0)},f.sortedLastIndexOf=function(b,a){if(b&&b.length){var c=zb(b,a,!0)-1;if(ra(b[c],a))return c}return-1},f.startCase=pg,f.startsWith=function(b,a,c){return b=F(b),c=Ra(E(c),0,b.length),b.lastIndexOf(a,c)==c},f.subtract=function(b,a){var c;return b===k&&a===k?0:(b!==k&&(c=b),a!==k&&(c=c===k?a:c-a),c)},f.sum=he,f.sumBy=function(b,a){return b&&b.length?ab(b,B(a)):0},f.template=function(b,a,c){var e=f.templateSettings;c&&la(b,a,c)&&(a=k);b=F(b);a=nb({},a,e,Ub);c=nb({},a.imports,e.imports,Ub);
var g,h,l=S(c),n=ya(c,l),p=0;c=a.interpolate||Nb;var q="__p+='";c=Fc((a.escape||Nb).source+"|"+c.source+"|"+(c===ne?Ig:Nb).source+"|"+(a.evaluate||Nb).source+"|$","g");var r="sourceURL"in a?"//# sourceURL="+a.sourceURL+"\n":"";if(b.replace(c,function(a,d,c,f,e,l){return c||(c=f),q+=b.slice(p,l).replace(Jg,xe),d&&(g=!0,q+="'+__e("+d+")+'"),e&&(h=!0,q+="';"+e+";\n__p+='"),c&&(q+="'+((__t=("+c+"))==null?'':__t)+'"),p=l+a.length,a}),q+="';",(a=a.variable)||(q="with(obj){"+q+"}"),q=(h?q.replace(Kg,""):
q).replace(Lg,"$1").replace(Mg,"$1;"),q="function("+(a||"obj")+"){"+(a?"":"obj||(obj={});")+"var __t,__p=''"+(g?",__e=_.escape":"")+(h?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+q+"return __p}",a=se(function(){return Function(l,r+"return "+q).apply(k,n)}),a.source=q,yc(a))throw a;return a},f.times=function(b,a){if(b=E(b),1>b||9007199254740991<b)return[];var c=4294967295,f=fa(b,4294967295);a=Ea(a);b-=4294967295;for(f=Na(f,a);++c<b;)a(c);return f},f.toInteger=E,f.toLength=
ee,f.toLower=function(b){return F(b).toLowerCase()},f.toNumber=R,f.toSafeInteger=function(b){return Ra(E(b),-9007199254740991,9007199254740991)},f.toString=F,f.toUpper=function(b){return F(b).toUpperCase()},f.trim=function(b,a,c){return(b=F(b))?c||a===k?b.replace(Ac,""):(a+="")?(b=b.match(aa),a=a.match(aa),b.slice(ga(b,a),Kc(b,a)+1).join("")):b:b},f.trimEnd=function(b,a,c){return(b=F(b))?c||a===k?b.replace(Ng,""):(a+="")?(b=b.match(aa),b.slice(0,Kc(b,a.match(aa))+1).join("")):b:b},f.trimStart=function(b,
a,c){return(b=F(b))?c||a===k?b.replace(Og,""):(a+="")?(b=b.match(aa),b.slice(ga(b,a.match(aa))).join("")):b:b},f.truncate=function(b,a){var c=30,f="...";if(L(a))var e="separator"in a?a.separator:e,c="length"in a?E(a.length):c,f="omission"in a?F(a.omission):f;b=F(b);var g=b.length;if(qb.test(b))var h=b.match(aa),g=h.length;if(c>=g)return b;if(g=c-cb(f),1>g)return f;if(c=h?h.slice(0,g).join(""):b.slice(0,g),e===k)return c+f;if(h&&(g+=c.length-g),ce(e)){if(b.slice(g).search(e)){var l=c;e.global||(e=
Fc(e.source,F(Hd.exec(e))+"g"));for(e.lastIndex=0;h=e.exec(l);)var n=h.index;c=c.slice(0,n===k?g:n)}}else b.indexOf(e,g)!=g&&(e=c.lastIndexOf(e),-1<e&&(c=c.slice(0,e)));return c+f},f.unescape=function(b){return(b=F(b))&&Pg.test(b)?b.replace(ue,ye):b},f.uniqueId=function(b){var a=++mf;return F(b)+a},f.upperCase=qg,f.upperFirst=ge,f.each=Qd,f.eachRight=Rd,f.first=Md,Dc(f,function(){var b={};return ka(f,function(a,c){M.call(f.prototype,c)||(b[c]=a)}),b}(),{chain:!1}),f.VERSION="4.5.1",g("bind bindKey curry curryRight partial partialRight".split(" "),
function(b){f[b].placeholder=f}),g(["drop","take"],function(b,a){D.prototype[b]=function(c){var f=this.__filtered__;if(f&&!a)return new D(this);c=c===k?1:Q(E(c),0);var e=this.clone();return f?e.__takeCount__=fa(c,e.__takeCount__):e.__views__.push({size:fa(c,4294967295),type:b+(0>e.__dir__?"Right":"")}),e};D.prototype[b+"Right"]=function(a){return this.reverse()[b](a).reverse()}}),g(["filter","map","takeWhile"],function(b,a){var c=a+1,f=1==c||3==c;D.prototype[b]=function(b){var a=this.clone();return a.__iteratees__.push({iteratee:B(b,
3),type:c}),a.__filtered__=a.__filtered__||f,a}}),g(["head","last"],function(b,a){var c="take"+(a?"Right":"");D.prototype[b]=function(){return this[c](1).value()[0]}}),g(["initial","tail"],function(b,a){var c="drop"+(a?"":"Right");D.prototype[b]=function(){return this.__filtered__?new D(this):this[c](1)}}),D.prototype.compact=function(){return this.filter(ha)},D.prototype.find=function(b){return this.filter(b).head()},D.prototype.findLast=function(b){return this.reverse().find(b)},D.prototype.invokeMap=
y(function(b,a){return"function"==typeof b?new D(this):this.map(function(c){return gb(c,b,a)})}),D.prototype.reject=function(b){return b=B(b,3),this.filter(function(a){return!b(a)})},D.prototype.slice=function(b,a){b=E(b);var c=this;return c.__filtered__&&(0<b||0>a)?new D(c):(0>b?c=c.takeRight(-b):b&&(c=c.drop(b)),a!==k&&(a=E(a),c=0>a?c.dropRight(-a):c.take(a-b)),c)},D.prototype.takeRightWhile=function(b){return this.reverse().takeWhile(b).reverse()},D.prototype.toArray=function(){return this.take(4294967295)},
ka(D.prototype,function(b,a){var c=/^(?:filter|find|map|reject)|While$/.test(a),e=/^(?:head|last)$/.test(a),g=f[e?"take"+("last"==a?"Right":""):a],h=e||/^find/.test(a);g&&(f.prototype[a]=function(){var a=this.__wrapped__,d=e?[1]:arguments,l=a instanceof D,n=d[0],p=l||C(a),q=function(b){return b=g.apply(f,r([b],d)),e&&t?b[0]:b};p&&c&&"function"==typeof n&&1!=n.length&&(l=p=!1);var t=this.__chain__,v=!!this.__actions__.length,n=h&&!t,l=l&&!v;return!h&&p?(a=l?a:new D(this),a=b.apply(a,d),a.__actions__.push({func:Ib,
args:[q],thisArg:k}),new Z(a,t)):n&&l?b.apply(this,d):(a=this.thru(q),n?e?a.value()[0]:a.value():a)})}),g("pop push shift sort splice unshift".split(" "),function(b){var a=Lb[b],c=/^(?:push|sort|unshift)$/.test(b)?"tap":"thru",e=/^(?:pop|shift)$/.test(b);f.prototype[b]=function(){var b=arguments;return e&&!this.__chain__?a.apply(this.value(),b):this[c](function(c){return a.apply(c,b)})}}),ka(D.prototype,function(b,a){var c=f[a];if(c){var e=c.name+"";(jb[e]||(jb[e]=[])).push({name:a,func:c})}}),jb[Db(k,
2).name]=[{name:"wrapper",func:k}],D.prototype.clone=function(){var b=new D(this.__wrapped__);return b.__actions__=T(this.__actions__),b.__dir__=this.__dir__,b.__filtered__=this.__filtered__,b.__iteratees__=T(this.__iteratees__),b.__takeCount__=this.__takeCount__,b.__views__=T(this.__views__),b},D.prototype.reverse=function(){if(this.__filtered__){var b=new D(this);b.__dir__=-1;b.__filtered__=!0}else b=this.clone(),b.__dir__*=-1;return b},D.prototype.value=function(){var b,a=this.__wrapped__.value(),
c=this.__dir__,f=C(a),e=0>c,g=f?a.length:0;b=0;for(var h=g,l=this.__views__,n=-1,k=l.length;++n<k;){var p=l[n],q=p.size;switch(p.type){case "drop":b+=q;break;case "dropRight":h-=q;break;case "take":h=fa(h,b+q);break;case "takeRight":b=Q(b,h-q)}}if(b={start:b,end:h},h=b.start,l=b.end,b=l-h,e=e?l:h-1,h=this.__iteratees__,l=h.length,n=0,k=fa(b,this.__takeCount__),!f||200>g||g==b&&k==b)return nd(a,this.__actions__);f=[];a:for(;b--&&k>n;){e+=c;g=-1;for(p=a[e];++g<l;){var r=h[g],q=r.type,r=(0,r.iteratee)(p);
if(2==q)p=r;else if(!r){if(1==q)continue a;break a}}f[n++]=p}return f},f.prototype.at=Pf,f.prototype.chain=function(){return Pd(this)},f.prototype.commit=function(){return new Z(this.value(),this.__chain__)},f.prototype.flatMap=function(b){return this.map(b).flatten()},f.prototype.next=function(){this.__values__===k&&(this.__values__=vc(this.value()));var b=this.__index__>=this.__values__.length,a=b?k:this.__values__[this.__index__++];return{done:b,value:a}},f.prototype.plant=function(b){for(var a,
c=this;c instanceof W;){var f=Pc(c);f.__index__=0;f.__values__=k;a?e.__wrapped__=f:a=f;var e=f,c=c.__wrapped__}return e.__wrapped__=b,a},f.prototype.reverse=function(){var b=this.__wrapped__;return b instanceof D?(this.__actions__.length&&(b=new D(this)),b=b.reverse(),b.__actions__.push({func:Ib,args:[sc],thisArg:k}),new Z(b,this.__chain__)):this.thru(sc)},f.prototype.toJSON=f.prototype.valueOf=f.prototype.value=function(){return nd(this.__wrapped__,this.__actions__)},La&&(f.prototype[La]=Te),f}var k,
Kb=1/0,af=NaN,Kg=/\b__p\+='';/g,Lg=/\b(__p\+=)''\+/g,Mg=/(__e\(.*?\)|\b__t\))\+'';/g,ue=/&(?:amp|lt|gt|quot|#39|#96);/g,te=/[&<>"'`]/g,Pg=RegExp(ue.source),Eg=RegExp(te.source),vf=/<%-([\s\S]+?)%>/g,wf=/<%([\s\S]+?)%>/g,ne=/<%=([\s\S]+?)%>/g,Pe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/,Qe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]/g,Gc=/[\\^$.*+?()[\]{}|]/g,Fg=RegExp(Gc.source),Ac=/^\s+|\s+$/g,Og=/^\s+/,Ng=/\s+$/,Re=/\\(\\)?/g,Ig=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
Hd=/\w*$/,Gg=/^0x/i,$e=/^[-+]0x[0-9a-f]+$/i,Xe=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Sb=/^(?:0|[1-9]\d*)$/,df=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Nb=/($^)/,Jg=/['\n\r\u2028\u2029\\]/g,ef=/[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]/g,aa=/\ud83c[\udffb-\udfff](?=\ud83c[\udffb-\udfff])|(?:[^\ud800-\udfff][\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]?|[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
qb=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0\ufe0e\ufe0f]/,hf=/[a-zA-Z0-9]+/g,gf=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2018\u2019\u201c\u201d \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+|[A-Z\xc0-\xd6\xd8-\xde]+|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe23\u20d0-\u20f0]|\ud83c[\udffb-\udfff])?)*/g,
ff=/[a-z][A-Z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,jf="Array Buffer Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Reflect RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),I={};I["[object Float32Array]"]=I["[object Float64Array]"]=I["[object Int8Array]"]=I["[object Int16Array]"]=I["[object Int32Array]"]=I["[object Uint8Array]"]=I["[object Uint8ClampedArray]"]=
I["[object Uint16Array]"]=I["[object Uint32Array]"]=!0;I["[object Arguments]"]=I["[object Array]"]=I["[object ArrayBuffer]"]=I["[object Boolean]"]=I["[object Date]"]=I["[object Error]"]=I["[object Function]"]=I["[object Map]"]=I["[object Number]"]=I["[object Object]"]=I["[object RegExp]"]=I["[object Set]"]=I["[object String]"]=I["[object WeakMap]"]=!1;var H={};H["[object Arguments]"]=H["[object Array]"]=H["[object ArrayBuffer]"]=H["[object Boolean]"]=H["[object Date]"]=H["[object Float32Array]"]=
H["[object Float64Array]"]=H["[object Int8Array]"]=H["[object Int16Array]"]=H["[object Int32Array]"]=H["[object Map]"]=H["[object Number]"]=H["[object Object]"]=H["[object RegExp]"]=H["[object Set]"]=H["[object String]"]=H["[object Symbol]"]=H["[object Uint8Array]"]=H["[object Uint8ClampedArray]"]=H["[object Uint16Array]"]=H["[object Uint32Array]"]=!0;H["[object Error]"]=H["[object Function]"]=H["[object WeakMap]"]=!1;var Pb={"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A",
"\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c","\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o",
"\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u","\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss"},Qb={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Tb={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},W={"function":!0,object:!0},Rb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Hg=parseFloat,Ze=parseInt,
xa=W[typeof exports]&&exports&&!exports.nodeType?exports:k,oa=W[typeof module]&&module&&!module.nodeType?module:k,ie=oa&&oa.exports===xa?xa:k,Jc=pa(xa&&oa&&"object"==typeof global&&global),ob=pa(W[typeof self]&&self),$a=pa(W[typeof window]&&window),W=pa(W[typeof this]&&this),ma=Jc||$a!==(W&&W.window)&&$a||ob||W||Function("return this")(),Da=Oc();($a||ob||{})._=Da;"function"==typeof define&&"object"==typeof define.amd&&define.amd?define("third_party/lo-dash/lo-dash.min",[],function(){return Da}):xa&&
oa?(ie&&((oa.exports=Da)._=Da),xa._=Da):ma._=Da}).call(this);
define("qowtRoot/errors/localisedError",["qowtRoot/utils/typeUtils","qowtRoot/utils/i18n","third_party/lo-dash/lo-dash.min"],function(h,e){var c=function(a){a=a||"";this.name="LocalisedError";h.isObject(a)&&_.extend(this,a);this.message=(this.code?this.code+": ":"")+(this.message||JSON.stringify(a)||this.title||this.details||this.additionalInfo);a.localised||this instanceof QOWTSilentError||(this.title=e.getMessage(this.title),this.details=a.fileName?e.getMessage(this.details,a.fileName):e.getMessage(this.details),
this.linkData&&this.linkData.msg&&(this.linkData.msg=e.getMessage(this.linkData.msg)||this.linkData.msg));Error.captureStackTrace(this,c)};c.prototype=Object.create(Error.prototype);return c.prototype.constructor=c});
define("qowtRoot/errors/qowtException",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTException";Error.captureStackTrace(this,e);this.fatal=!0};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTException=e});
define("background/store/fileDetails",["qowtRoot/utils/typeUtils","qowtRoot/errors/qowtException"],function(h,e){var c=function(a){this.mimeType=a.mimeType||a.mimeType_;this.streamURL=a.streamURL||a.streamURL_;this.originalURL=a.originalURL||a.originalURL_;this.preferredFilename=a.preferredFilename||a.preferredFilename_;this.driveDocId=a.driveDocId||a.driveDocId_;this.driveDocResourceKey=a.driveDocResourceKey||a.driveDocResourceKey_;this.embedded=a.embedded||a.embedded_;this.userFile=a.userFile||
a.userFile_;this.newDocument=a.newDocument;this.tabId=a.tabId||a.tabId_;this.privateFilePath=a.privateFilePath||a.privateFilePath_;this.downloadFilePath=a.downloadFilePath||a.downloadFilePath_;this.timestamp=a.timestamp||a.timestamp_;this.observerFunc_=void 0;Object.seal(this)};c.prototype=Object.create(Object.prototype,{tabId:{set:function(a){this.tabId_=a;this.invokeObserver_()},get:function(){return this.tabId_}},privateFilePath:{set:function(a){this.privateFilePath_=a;this.invokeObserver_()},
get:function(){return this.privateFilePath_}},downloadFilePath:{set:function(a){this.downloadFilePath_=a;this.invokeObserver_()},get:function(){return this.downloadFilePath_}},timestamp:{set:function(a){this.timestamp_=a;this.invokeObserver_()},get:function(){return this.timestamp_}},mimeType:{set:function(a){this.mimeType_=a;this.invokeObserver_()},get:function(){return this.mimeType_}},streamURL:{set:function(a){this.streamURL_=a;this.invokeObserver_()},get:function(){return this.streamURL_}},originalURL:{set:function(a){this.originalURL_=
a;this.invokeObserver_()},get:function(){return this.originalURL_}},preferredFilename:{set:function(a){this.preferredFilename_=a;this.invokeObserver_()},get:function(){return this.preferredFilename_}},userFile:{set:function(a){this.userFile_=a;this.invokeObserver_()},get:function(){return this.userFile_}},driveDocId:{set:function(a){this.driveDocId_=a;this.invokeObserver_()},get:function(){return this.driveDocId_}}});c.prototype.constructor=c;c.prototype.addObserver=function(a){if(!h.isFunction(a))throw new e("Non-function observer provided to FileDetails object");
this.observerFunc_=a};c.prototype.hasExpired=function(){return!this.tabId&&(new Date).getTime()-this.timestamp>a};c.prototype.toJSON=function(){var a=_.extend({},this);a.userFile_=void 0;return a};var a=7776E6;c.prototype.invokeObserver_=function(){this.observerFunc_&&this.observerFunc_()};return c});
define("qowtRoot/utils/localStorageManager",["qowtRoot/errors/qowtException"],function(h){return{setItem:function(e,c){try{window.localStorage.setItem(e,c)}catch(a){throw new h({title:"storage_quota_exceed_error_short_msg",details:"storage_quota_exceed_error_msg",message:a.message});}},getItem:function(e){return window.localStorage.getItem(e)}}});
define("qowtRoot/utils/uuid",[],function(){return{generateUUID:function(){var h=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var c=(h+16*Math.random())%16|0;h=Math.floor(h/16);return("x"===e?c:c&7|8).toString(16)})}}});
define("background/store/fileStore",["background/store/fileDetails","qowtRoot/utils/localStorageManager","qowtRoot/utils/uuid"],function(h,e,c){var a={init:function(){return r().then(v).then(w)},addEntry:function(a){var e;a instanceof h&&(a.addObserver(p),e=c.generateUUID(),u[e]=a,p());return e},getEntry:function(a){var c=u[a];!c&&(c=g[a])&&(c=Object.create(c),c.lsUsed=!0);return c},findTabId:function(a){var c=[];if(a){for(var e in u)u[e].tabId===a&&c.push(e);if(0===c.length)for(e in g)g[e].tabId===
a&&c.push(e)}return 0<c.length?c:void 0},removeAllTabIds:function(){for(var a in u)u[a].tabId=void 0;for(a in g)g[a].tabId=void 0},deleteOrphans:function(a){for(var c=[],e=a.length,h=0;h<e;h++){var l=a[h];if(!l.isDirectory){var l=l.fullPath,n;n=void 0;if(l){var r=void 0;for(r in u)if(u[r].privateFilePath===l||u[r].downloadFilePath===l){n=r;break}}if(!u[n]||u[n].hasExpired())c.push(l),delete u[n];n=void 0;if(l)for(r in r=void 0,g)if(g[r].privateFilePath===l||g[r].downloadFilePath===l){n=r;break}g[n]&&
!g[n].hasExpired()||delete g[n]}}p();return c},window__:function(){return window}},g,u,w=function(){return l().then(t)},t=function(){return new Promise(function(a){try{g=(g=e.getItem("qo_file_store"))?JSON.parse(g):{}}catch(c){g={},console.warn("Failed to initialize file store so resetting it to be empty: "+c)}for(var l in g){var r=new h(g[l]);r.addObserver(p);g[l]=r}a()})},l=function(){return new Promise(function(a){chrome.storage.local.get(["qo_file_store"],function(c){c=c.qo_file_store;u=!c||0===
Object.keys(c).length&&c.constructor===Object?{}:JSON.parse(c);for(var e in u)c=new h(u[e]),c.addObserver(p),u[e]=c;a()})})},p=function(){var c;a.window__()&&(c=JSON.stringify(u),chrome.storage.local.set({qo_file_store:c},function(){}))},r=function(){return new Promise(function(a){chrome.storage.local.get(["chrome_store_ready"],function(c){a(c.chrome_store_ready)})})},v=function(a){return new Promise(function(c){if(a)c();else{var g=e.getItem("qo_file_store");chrome.storage.local.set({qo_file_store:g?
g:""},function(){chrome.storage.local.set({chrome_store_ready:!0},function(){c()})})}})};return a});
define("background/fileReaper",["background/store/fileStore","qowtRoot/utils/typeUtils","qowtRoot/third_party/when/when","qowtRoot/features/utils","third_party/lo-dash/lo-dash.min"],function(h,e,c,a){var g={init:function(){c(r()).then(v)},addLock:function(a){l.push(a)},removeLock:function(a){a=l.indexOf(a);-1!==a&&l.splice(a,1)}},u,w=!1,t=[],l=[],p=0,r=function(){var a;return function(){var e=c.defer();a?e.resolve(a):window.webkitRequestFileSystem(window.TEMPORARY,1048576,function(c){a=c;e.resolve(a)},
function(){e.reject(Error("File Reaper failed to access the file system"))});return e.promise}}(),v=function(){var a=_.throttle(G,3E4);chrome.tabs.onRemoved.addListener(function(c){g.removeLock(c);h.findTabId(c)&&a()})},G=function(){p||0<l.length||a.isEnabled("suppressFileReapear")||(h.removeAllTabIds(),w=!1,u=window.setTimeout(x,3E5),chrome.windows.getAll({populate:!0},function(a){for(var c=a.length,e=0;e<c;e++)a[e].tabs.forEach(function(a){p++;chrome.tabs.sendMessage(a.id,"reaperCheck",z.bind(this,
a.id))})}))},z=function(a,c){if(w)P(c)&&console.warn("Reaper received a belated Quickoffice tab response - this may result in its private temp file being incorrectly deleted");else{if(P(c)){var e=h.getEntry(c.uuid);e&&(e.tabId=a)}1===p?(window.clearTimeout(u),0<l.length?p=0:q()):p--}},x=function(){w=!0;0<l.length?p=0:q()},q=function(){c(r()).then(function(a){t=[];var c=a.root.createReader(),e=function(){c.readEntries(function(a){0<a.length?(a.forEach(function(a){t.push(a)}),e()):A(t)},A)};e()})},
A=function(a){0<l.length||!e.isList(a)||h.deleteOrphans(a).forEach(function(a){n(a)});p=0},n=function(a){a&&c(r()).then(function(c){c.root.getFile(a,{create:!1},function(c){c.remove(function(){console.log("File Reaper has deleted file "+a)})})})},P=function(a){return e.isObject(a)&&a.hasOwnProperty("uuid")};return g});
define("utils/logUtils",["qowtRoot/utils/typeUtils"],function(h){return{logError:function(e){e&&e.stack?h.isList(e.stack)?(console.error(e.message),e.stack.forEach(function(c){console.error(c.toString())})):console.error(e.stack):console.error(e)}}});
define("background/chromeHandler",["background/store/fileStore","background/store/fileDetails","background/fileReaper","utils/logUtils","qowtRoot/third_party/when/when"],function(h,e,c,a,g){function u(c,e,h,r){var u=c.length,z=[];return e?G(e,c[0],h):t(r).catch(function(){return w()}).catch(function(){return l()}).catch(function(){return p()}).then(function(a){if(x(a)){for(var e=0;e<u;e++)0===e&&a.useTabId?z.push(G(a.useTabId,c[e],h)):z.push(v(a.id,c[e],h));return g.all(z)}throw Error("Could not find valid window");
}).catch(a.logError)}function w(){return g.promise(function(a,c){chrome.windows.getLastFocused({populate:!1},function(e){r(e,a,c)})})}function t(a){return g.promise(function(c,e){chrome.windows.get(a,{populate:!1},function(a){r(a,c,e)})})}function l(){return g.promise(function(a,c){chrome.windows.getCurrent({populate:!1},function(e){r(e,a,c)})})}function p(){return g.promise(function(a,c){chrome.windows.create({type:"normal",focused:!0},function(e){x(e)?(e.useTabId=e.tabs[0].id,a(e)):c(Error("invalid window"))})})}
function r(a,c,e){x(a)?c(a):e(Error("invalid window"))}function v(a,c,e){var h={active:e?e:!1,windowId:a,url:"../views/app.html?uuid="+c};return g.promise(function(a){chrome.tabs.create(h,a)})}function G(a,c,e){var l={active:e?e:!1,url:"../views/app.html?uuid="+c};return g.promise(function(e,g){var n=h.getEntry(c);n?(n.tabId=a,chrome.tabs.update(a,l,e)):g()})}function z(a){return a&&void 0!==a.id}c.init();var x=function(a){return a&&void 0!==a.id&&!a.incognito};return{handleIncomingMsg:function(a,
c){"driveEnabled"===c.msg&&a.postMessage({driveEnabled:!0,supportsTeamDrives:!0})},handleChromeOSFile:function(a){var c,l=g.reject(Error("No file entries were passed to open"));x=z;if(a){c=[];for(var p=0;p<a.length;++p){var r=new e({userFile:a[p].entry});c.push(h.addEntry(r))}c=u(c,void 0,!0)}return c||l},handleDriveDoc:function(a,c){var l,p,r=g.reject(Error("No drive doc ids were passed to open"));if(a){p=[];for(var t=0;t<a.length;++t){var v=new e({driveDocId:a[t],driveDocResourceKey:c?c[a[t]]:void 0}),
v=h.addEntry(v);0===t?l=v:p.push(v)}p=0===p.length?g.resolve(l):u(p).yield(l)}return p||r},handleNewCreate:function(a,c,l){var p=g.reject(Error("No file type was passed."));x=z;var r=[];a=new e({newDocument:a,mimeType:c});r.push(h.addEntry(a));return u(r,void 0,!0,l)||p}}});
define("qowtRoot/configs/common",[],function(){var h={SUPPORTED_IMAGE_FORMATS:{jpg:!0,jpeg:!0,gif:!0,png:!0,pic:!1,pict:!1,bmp:!0,tif:!0,tiff:!0},ZOOM:{current:void 0,next:void 0,levels:void 0},LAYOUT_DEFAULT_MAXZOOM:void 0,LAYOUT_DEFAULT_MINZOOM:void 0,LAYOUT_DEFAULT_ZOOM_LEVEL:void 0,DOC_VERIFY_DEBOUNCE:50,DEFAULT_COLORS:"#6B9CD4 #DE7872 #B7D37C #A48CC2 #6CC7E1 #F3AB63 #AEC8EE".split(" "),TEXT_STYLE:{defaultHighlightColor:"rgb(255, 255, 255)",defaultTxtColor:"rgb(0, 0, 0)",shadowText:{setValue:"#000000 0.07em 0.07em 0.07em",
getValue:"rgb(0, 0, 0) 0.07em 0.07em 0.07em"},outlineText:{webkitTextFillColor:"transparent",webkitTextStroke:".05em #000000",webkitTextStrokeWidth:"0.05em",webkitTextStrokeColor:"rgb(0, 0, 0)"},embossedText:{setColor:"#ffffff",getColor:"rgb(255, 255, 255)",setShadow:"#000000 1px 1px 2px",getShadow:"rgb(0, 0, 0) 1px 1px 2px"},engravedText:{setColor:"#999999",getColor:"rgb(153, 153, 153)",setShadow:"#000000 -1px -1px 2px",getShadow:"rgb(0, 0, 0) -1px -1px 2px"}},DEFAULT_BLIP_FILL_PROPERTIES:{tileProps:{Sx:100,
Sy:100,Tx:0,Ty:0,align:"TL"},type:"tileFill"},kMESSAGE_BUS_CONNECTION_RETRY:10,kMESSAGE_BUS_CONNECTION_TIMEOUT:3E4,kMESSAGE_BUS_CONNECTION_TIMEOUT_MSG:"MessageBus: Connection timeout",create:function(){return{SUPPORTED_IMAGE_FORMATS:h.SUPPORTED_IMAGE_FORMATS,DIALOGUE_CONFIG:h.DIALOGUE_CONFIG,DEFAULT_COLORS:h.DEFAULT_COLORS,ZOOM:h.ZOOM,LAYOUT_DEFAULT_MAXZOOM:h.LAYOUT_DEFAULT_MAXZOOM,LAYOUT_DEFAULT_MINZOOM:h.LAYOUT_DEFAULT_MINZOOM,LAYOUT_DEFAULT_ZOOM_LEVEL:h.LAYOUT_DEFAULT_ZOOM_LEVEL}}};return h});
define("qowtRoot/messageBus/messageBusImpl",["qowtRoot/utils/typeUtils","qowtRoot/configs/common","qowtRoot/third_party/when/when"],function(h,e,c){var a=function(a){this.myWin_=a||window;this.pendingConnections_=[];this.acceptedConnections_=[];this.completedConnections_=[];this.acknowledgements_=[];this.listeners_=[];this.msgQueue_=[];this.pendingMsgs_=[];this.myWin_.addEventListener("message",this.handleIncomingMessage_.bind(this),!1)};a.prototype=Object.create(Object.prototype);a.prototype.constructor=
a;a.prototype.connect=function(a,e){if(!a||null===a||!h.isObject(a)||!a.postMessage)throw Error("MessageBus: A valid HTML window object has not been provided to connect()");if(a===this.myWin_)throw Error("MessageBus: Trying to connect to its own window");if(e&&!h.isFunction(e))throw Error("MessageBus: The provided callback function is not of the correct type");for(var g=this.pendingConnections_.length,t=0;t<g;t++)if(this.pendingConnections_[t].win===a)throw Error("MessageBus: Trying to connect to a window that we are already trying to connect to");
g=this.acceptedConnections_.length;for(t=0;t<g;t++)if(this.acceptedConnections_[t].win===a)throw Error("MessageBus: Trying to connect to a window that we are already trying to connect to");g=this.completedConnections_.length;for(t=0;t<g;t++)if(this.completedConnections_[t].win===a)throw Error("MessageBus: Trying to connect to a window that has already been connected");g={win:a,callback:e,currentWaitTime:0,deferred:c.defer()};this.pendingConnections_.push(g);this.tryToConnect_(g);return g.deferred.promise};
a.prototype.pushMessage=function(a){if(!h.isObject(a))throw Error("MessageBus: A valid message object has not been provided to pushMessage()");var c=this.completedConnections_.length;if(0===c)this.pendingMsgs_.push(a);else{if(!h.isObject(a))throw Error("Cannot mark non-object value as quickoffice message");a.qoMessageBus=!0;this.msgQueue_.length>=g&&this.msgQueue_.shift();this.msgQueue_.push(a);for(var e=0;e<c;e++)this.completedConnections_[e].win.postMessage(a,"*")}};a.prototype.listen=function(a,
c){if(!h.isFunction(a))throw Error("MessageBus: A valid listener function has not been provided to listen()");if(c&&!h.isFunction(c))throw Error("MessageBus: The provided filter function is not of the correct type");this.listeners_.push({listener:a,filter:c})};a.prototype.stopListening=function(a){if(!h.isFunction(a))throw Error("MessageBus: A valid listener function has not been provided to stopListening()");for(var c=this.listeners_.length,e=0;e<c;e++)if(this.listeners_[e].listener===a){this.listeners_.splice(e,
1);break}};a.prototype.isConnectedTo=function(a){for(var c=!1,e=this.completedConnections_.length,g=0;g<e;g++)if(a===this.completedConnections_[g].win){c=!0;break}return c};a.prototype.tryToConnect_=function(a){a.currentWaitTime>e.kMESSAGE_BUS_CONNECTION_TIMEOUT?this.handleTimeOut_(a):(a.currentWaitTime+=e.kMESSAGE_BUS_CONNECTION_RETRY,-1!==this.pendingConnections_.indexOf(a)&&a.win.postMessage(u,"*"),a.timeoutId=setTimeout(this.tryToConnect_.bind(this,a),e.kMESSAGE_BUS_CONNECTION_RETRY))};a.prototype.handleTimeOut_=
function(a){var c=e.kMESSAGE_BUS_CONNECTION_TIMEOUT_MSG;window.connectFromAppToQowt&&(c=window.connectFromQowtToApp?Math.abs(Math.round(window.connectFromQowtToApp-window.connectFromAppToQowt)/1E3)>Math.round(e.kMESSAGE_BUS_CONNECTION_TIMEOUT/1E3*.8)?c+":qowt too late to connect":c+":qowt and app connected:handshake failed?":c+":qowt failed to connect");a.deferred.reject(Error(c))};a.prototype.handleIncomingMessage_=function(a){if(a){if(-1!==this.msgQueue_.indexOf(a.data))throw Error("MessageBus: A message that was pushed onto thisbus has arrived back on it - we have a circular dependancy!");
a.data===u?this.handleConnectionRequestMsg_(a):a.data===w?this.handleConnectionAcceptedMsg_(a):a.data===t?this.handleConnectionAckMsg_(a):a&&a.data&&!0===a.data.qoMessageBus&&("chrome-extension://gbkeegbaiigmenfmjfclcdgdpimamgkj"===a.origin||"chrome-extension://bpmcpldpdmajfigpchkicefoigmkfalc"===a.origin||"chrome-extension://ehibbfinohgbchlgdbfpikodjaojhccn"===a.origin)&&this.handleClientMsg_(a)}};a.prototype.handleConnectionRequestMsg_=function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionRequest message");
a.source.postMessage(w,"*")};a.prototype.handleConnectionAcceptedMsg_=function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionAccepted message");for(var c=this.pendingConnections_.length,e=0;e<c;e++)if(this.pendingConnections_[e].win===a.source){c=this.pendingConnections_.splice(e,1)[0];a=this.acknowledgements_.indexOf(a.source);-1===a?this.acceptedConnections_.push(c):(this.acknowledgements_.splice(a,1),this.connectionCompleted_(c));c.win.postMessage(t,"*");break}};a.prototype.handleConnectionAckMsg_=
function(a){if(!a.source)throw Error("MessageBus: Unknown source of qoConnectionAck message");for(var c=this.acceptedConnections_.length,e=0;e<c;e++)if(this.acceptedConnections_[e].win===a.source){a=this.acceptedConnections_.splice(e,1)[0];this.connectionCompleted_(a);return}this.acknowledgements_.push(a.source)};a.prototype.handleClientMsg_=function(a){if(a.source){for(var c=this.listeners_.slice(),e=c.length,g=0;g<e;g++){var h=c[g];!h||h.filter&&!h.filter.call(this,a)||h.listener.call(this,a)}e=
this.completedConnections_.length;for(g=0;g<e;g++)this.completedConnections_[g].win!==a.source&&this.completedConnections_[g].win.postMessage(a.data,"*")}};a.prototype.connectionCompleted_=function(a){this.completedConnections_.push(a);clearTimeout(a.timeoutId);for(a.callback&&a.callback.call(this);0<this.pendingMsgs_.length;)this.pushMessage(this.pendingMsgs_.shift());a.deferred.resolve()};var g=10,u="qoConnectionRequest",w="qoConnectionAccepted",t="qoConnectionAck";return a});
define("qowtRoot/messageBus/messageBus",["qowtRoot/messageBus/messageBusImpl"],function(h){return new h});
define("qowtRoot/pubsub/pubsub",["third_party/lo-dash/lo-dash.min"],function(){function h(a,c){var g=[],h=[],w=[],z=[];u[a]&&u[a].length&&(t++,u[a].forEach(function(a){a.config.after?h.push(a):g.push(a);a.config.once&&z.push(a)}),g.concat(h).forEach(function(e){w.push(e.callback(a,c))}),z.forEach(function(a){e(a.token)}));return Promise.all(w)}function e(a){var c;_.values(u).some(function(e){return e.some(function(g,h){return g.token===a?(c=e.splice(h,1)[0],!0):!1})});return c}function c(a){var c=
0;return c=a?u[a]?u[a].length:0:_.values(u).reduce(function(a,c){return a+c.length},0)}function a(){u={}}var g=Object.create(Object.prototype,{subscriberCount:{get:function(){return c()}},registeredSignals:{get:function(){return _.keys(u)}},publishCount:{get:function(){return t}}});g.subscribe=function(a,c,e){if(!_.isString(a)||!a)throw new TypeError("invalid signal");if(!_.isFunction(c))throw new TypeError("invalid callback");e=e||{};e.once=!!e.once;e.after=!!e.after;var g=(++w).toString();u[a]=
u[a]||[];u[a].push({token:g,callback:c,config:e});return g};g.publish=function(a,c){if(!_.isString(a)||!a)throw new TypeError("invalid signal");c=c||{};return h(a,c)};g.doAction=function(a,c){if(!_.isString(a)||!a)throw new TypeError("invalid action");c=c||{};c=_.isString(c)?{contentType:c}:c;return h("qowt:doAction",{action:a,context:c})};g.unsubscribe=function(a){if(void 0!==a){if(!_.isString(a)||!a)throw new TypeError("invalid token");return e(a)}};g.subscriberCountForSignal=function(a){if(!_.isString(a)||
!a)throw new TypeError("invalid signal");return c(a)};g.clear=a;g.reset=function(){a();t=w=0};var u={},w=0,t=0;return g});define("qowtRoot/errors/qowtError",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTError";Error.captureStackTrace(this,e);this.fatal=!1};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTError=e});
define("qowtRoot/errors/qowtSilentError",["qowtRoot/errors/localisedError"],function(h){var e=function(){h.apply(this,arguments);this.name="QOWTSilentError";Error.captureStackTrace(this,e);this.fatal=!1;this.silent=!0};e.prototype=Object.create(h.prototype);e.prototype.constructor=e;return window.QOWTSilentError=e});
define("qowtRoot/errors/errorCatcher","qowtRoot/utils/typeUtils qowtRoot/messageBus/messageBus qowtRoot/pubsub/pubsub qowtRoot/errors/qowtError qowtRoot/errors/qowtSilentError qowtRoot/errors/qowtException".split(" "),function(h,e,c,a,g,u){function w(a){a.error?(console.error("%s caught js exception: %s",x,a.error.name||a.error.message?a.error.name+": "+a.error.message:a.error),console.error(a.error.stack),void 0===a.error.fatal&&(a.error.fatal=!0),l(a.error)):console.error(a)}function t(a,c){console.log("%s caught deprecated error",
x);console.log(c);c.isDeprecatedError=!0;l(c)}function l(c){if(c instanceof Error)void 0===c.fatal&&(c.fatal=!0);else{console.log("%s converting deprecated/bad error",x);switch(!0){case h.isObject(c)&&c.isDeprecatedError:var l={title:c.errorId?c.errorId+"_short_msg":void 0,details:c.errorId?c.errorId+"_msg":void 0,linkData:c.linkData,message:c.additionalInfo};c=c.fatal?new u(l):c.silent?new g(l):new a(l);break;case h.isNumber(c):c=new u({code:c});break;case h.isString(c):c=new u(c);break;default:c=
new u(c.toString())}c.stack=void 0}A.push(c);p(c);if(!c.isSynced){console.log("%s pushing error to msg bus",x);l=_.extend({},c);l.name=c.name;l.message=c.message;l.stack=c.stack;try{e.pushMessage({id:G,error:JSON.stringify(l)})}catch(q){}}}function p(a){console.log("%s dispatching error to observers",x);z.forEach(function(c){try{c.call(c,a)}catch(e){console.warn("Error observer %s threw an exception; ignored",c.name||""),console.warn(e.stack)}})}function r(a){if(a&&a.data&&a.data.error){console.log("%s receiving error from msg bus",
x);a=JSON.parse(a.data.error);var c={},c=["QOWTError","QOWTSilentError","QOWTException"];-1!=="Error EvalError RangeError ReferenceError SyntaxError TypeError URIError QOWTError QOWTSilentError QOWTException".split(" ").indexOf(a.name)?(console.log("cast to %s",a.name),-1!==c.indexOf(a.name)&&(a.localised=!0),c=new window[a.name](a)):(console.log("cast fallback to Error"),c=Error());_.extend(c,a);void 0===a.stack&&(c.stack=void 0);a=c;a.isSynced=!0;l(a)}}function v(a){return a&&a.data&&a.data.id===
G}var G="errorSync",z=[],x="sandbox"===window.name?"QOWT":"App",q,A=[];return{init:function(){q=c.subscribe("qowt:error",t);window.addEventListener("error",w);e.listen(r,v);Error.stackTraceLimit=Infinity},reset:function(){c.unsubscribe(q);window.removeEventListener("error",w);e.stopListening(r);z=[]},handleError:function(a){l(a)},addObserver:function(a){h.isFunction(a)?z.push(a):console.warn("Error observer must be a function")},observers:function(){return z},lastError:function(){return A[A.length-
1]}}});
define("background/pageAPI","background/fileReaper background/store/fileDetails background/store/fileStore background/chromeHandler qowtRoot/errors/errorCatcher qowtRoot/errors/qowtSilentError".split(" "),function(h,e,c,a,g,u){function w(a){if(a&&(a=a["Content-Disposition"]||a["content-disposition"]))try{return a.split("=")[1].trim().replace(/\"/g,"")}catch(c){g.handleError(new u("Failed to parse Content-Disposition Header: "+c))}}window.handleDriveDoc=function(c,e){return a.handleDriveDoc(c,e)};
window.registerMimeHandlerStream=function(a){return c.addEntry(new e({mimeType:a.mimeType,streamURL:a.streamUrl,originalURL:a.originalUrl,tabId:a.tabId,preferredFilename:w(a.responseHeaders),embedded:a.embedded}))};window.getFileDetails=function(a){return c.getEntry(a)};window.addReaperLock=function(a){h.addLock(a)};window.removeReaperLock=function(a){h.removeLock(a)};window.cacheTabId=function(a,e){var g=c.getEntry(a);g&&(g.tabId=e)};window.cachePrivateFilePath=function(a,e){var g=c.getEntry(a);
g&&(g.privateFilePath=e)};window.cacheDownloadFilePath=function(a,e){var g=c.getEntry(a);g&&(g.downloadFilePath=e)};window.cacheTimestamp=function(a){if(a=c.getEntry(a))a.timestamp=(new Date).getTime()};return{}});
(function(){function h(c){console.error(c.stack?c.stack:c)}var e=(new Promise(function(c){require(["background/store/fileStore","background/chromeHandler","background/pageAPI"],function(a,e){a.init().then(function(){window.isReady=!0;c(e)})})})).catch(h);(function(){var c=chrome&&chrome.runtime&&chrome.runtime.onConnectExternal&&chrome.runtime.onConnectExternal.addListener;c||console.warn("Missing Chrome Connect API... drive integration wont work");return c})()&&chrome.runtime.onConnectExternal.addListener(function(c){c.onDisconnect.addListener(function(){});
c.onMessage.addListener(function(a){e.then(function(e){e.handleIncomingMsg(c,a)}).catch(h)})});(function(){var c=chrome&&chrome.app&&chrome.app.runtime&&chrome.app.runtime.onLaunched&&chrome.app.runtime.onLaunched.addListener;c||console.warn("Missing ChromeOS Runtime OnLaunched API... opening documents from file browser wont work");return c})()&&chrome.app.runtime.onLaunched.addListener(function(c){"qo_documents"===c.id&&e.then(function(a){a.handleChromeOSFile(c.items)}).catch(h)});chrome.runtime.onMessage.addListener(function(c,
a,g){e.then(function(a){g({newCreate:"Creating new document"});a.handleNewCreate(c.newCreate,c.mimeType,c.currentWindowId)}).catch(h);return!0})})();define("background/backgroundMain",function(){});
