"use strict";(self.webpackChunk_planyway_planyway=self.webpackChunk_planyway_planyway||[]).push([[629],{74951:(e,t,r)=>{r.d(t,{B:()=>j});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(86981),k=r.n(y),g=r(62079),_=r.n(g),w=r(52020),D=r.n(w),E=r(88546),b=r.n(E),C=r(66775),S=r.n(C),P=r(2201),T=r.n(P),A=r(26171),z=r(26881),I=r(88946),x=r.n(I),R=r(73324),$=r.n(R),F=r(59863),N=r.n(F),M=r(76555),O=r.n(M),L=r(35820),W=r.n(L),K=r(82617),B=r(56777),G=r(8937),H=r(29704);function ownKeys(e,t){var r=_()(e);if(D()){var i=D()(e);t&&(i=$()(i).call(i,(function(t){return b()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?s()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,A.Z)(e,t,n[t])})):S()?T()(e,S()(n)):s()(i=ownKeys(Object(n))).call(i,(function(t){l()(e,t,b()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return x()(t=(0,z.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:x()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let j=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=k()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(x()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,H.SG)(["$scope","$log","$translate","dialogSrv","iCalIntegrationSrv","notificationSrv","planywayIntegrationSrv","platformSrv","settingsSrv","telemetrySrv","collectionSrv","mdPanelRef","account","accountType"])],(function(e){return{F:class AddAccountDialogController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f){e(this),this._$scope=t,this._$log=r,this._$translate=i,this._dialogSrv=n,this._iCalIntegrationSrv=o,this._notificationSrv=s,this._planywayIntegrationSrv=a,this._platformSrv=l,this._settingsSrv=c,this._telemetrySrv=d,this._collectionSrv=u,this._mdPanelRef=p,this._account=h,this._accountType=f,this._account?(this._accountType=this._account.accountType,this._accounts=[]):(async()=>{try{this.isBusy=!0,await this._loadAvailableAccountsAsync()}finally{this.isBusy=!1}})()}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"addAccountDialogCtrl"}},{kind:"get",key:"title",value:function title(){return this._account?this._$translate.instant("DIALOGS.RECONNECT_ACCOUNT"):this._$translate.instant("DIALOGS.ADD_ACCOUNT_TITLE")}},{kind:"get",key:"isBusy",value:function isBusy(){return this._isBusy}},{kind:"set",key:"isBusy",value:function isBusy(e){this._$scope.$evalAsync((()=>this._isBusy=e))}},{kind:"get",key:"connectProviders",value:function connectProviders(){if(!this._connectProviders){var e;let t;t=this._accountType?[G.Xq[(0,B.fL)(this._accountType)]]:x()(B.sP).call(B.sP,(e=>G.Xq[e])),this._connectProviders=x()(e=$()(t).call(t,(e=>!!e&&(!(e.type===B.xT&&!this._account&&this._planywayIntegrationSrv.isProviderConnected(e.type))&&N()(this._settingsSrv).connect)))).call(e,(e=>_objectSpread(_objectSpread({},e),{},{text:this._$translate.instant(e.text)})))}return this._connectProviders}},{kind:"get",key:"userId",value:function userId(){return this._planywayIntegrationSrv.userId}},{kind:"method",key:"connectAsync",value:async function connectAsync(e){try{this.isBusy=!0;let t=await this._planywayIntegrationSrv.connectAccountAsync(e);if(!t)return;this._telemetrySrv.logSessionEvent(G.cN.GeneralEvents.AccountConnected,{accountType:t.accountType});let r=(0,B.dS)(t.accountType);await r.addAccountToCurrentCollectionAsync(t),this._connectProviders=null,this._mdPanelRef.close(t)}finally{this.isBusy=!1}}},{kind:"get",key:"isAddCalendarByUrlAvailable",value:function isAddCalendarByUrlAvailable(){return N()(this._settingsSrv).connect&&!this._accountType}},{kind:"method",key:"addCalendarByUrlAsync",value:async function addCalendarByUrlAsync(){try{this.isBusy=!0;let e=await this._iCalIntegrationSrv.connectAccountAsync();if(!e)return;this._telemetrySrv.logSessionEvent(G.cN.GeneralEvents.AccountConnected,{accountType:K.Qm.ICal});let t=(0,B.dS)(K.Qm.ICal);await t.addAccountToCurrentCollectionAsync(e),this._connectProviders=null,this._mdPanelRef.close(e)}finally{this.isBusy=!1}}},{kind:"get",key:"accounts",value:function accounts(){return this._accounts}},{kind:"method",key:"getAccountIcon",value:function getAccountIcon(e){switch(e){case K.Qm.Trello:return"icons-24:trello-outline";case K.Qm.Google:return"icons-24:google-outline";case K.Qm.Outlook:return"icons-24:microsoft-outline";case K.Qm.GitHub:return"icons-24:github-outline";case K.Qm.ICal:return"icons-24:calendar-outline"}}},{kind:"method",key:"addAccountToCurrentCollectionAsync",value:async function addAccountToCurrentCollectionAsync(e){this.isBusy=!0;try{let t=(0,B.dS)(e.accountType);await t.addAccountToCurrentCollectionAsync(e),this._mdPanelRef.close(e)}finally{this.isBusy=!1}}},{kind:"method",key:"disconnectAccountAsync",value:async function disconnectAccountAsync(e){if(await this._dialogSrv.showConfirmAsync(this._$translate.instant("DIALOGS.SIGN_OUT_OF_ACCOUNT_TITLE"),this._$translate.instant("DIALOGS.SIGN_OUT_OF_ACCOUNT_CONFIRM",{accountName:e.accountName}),{buttons:[{text:this._$translate.instant("BUTTONS.SIGN_OUT"),isPrimary:!0,isDangerous:!0,dialogResult:!0}]}))try{let t;if(this.isBusy=!0,e.accountType===K.Qm.ICal)t=await this._iCalIntegrationSrv.disconnectAccountAsync(e);else t=await this._planywayIntegrationSrv.disconnectAccountAsync(e);if(!t)return;this._telemetrySrv.logSessionEvent(G.cN.GeneralEvents.AccountDisconnected,{accountType:e.accountType});let r=(0,B.dS)(e.accountType);await r.removeAccountFromAllCollectionsAsync(e),this._connectProviders=null,await this._loadAvailableAccountsAsync()}finally{this.isBusy=!1}}},{kind:"method",key:"hideDialog",value:function hideDialog(){this._mdPanelRef.close()}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}},{kind:"get",key:"_currentCollectionId",value:function _currentCollectionId(){return this._collectionSrv.currentCollectionId}},{kind:"method",key:"_loadAvailableAccountsAsync",value:async function _loadAvailableAccountsAsync(){var e,t,r,i;let n=$()(e=this._planywayIntegrationSrv.getConnectedAccounts()).call(e,(e=>{let{accountId:t}=e;return!this._userSettings.global.settings.collection[this._currentCollectionId].account[t]}));this._accounts=O()(t=$()(r=x()(n).call(n,(e=>_objectSpread(_objectSpread({},e),{},{avatarAvailable:!1})))).call(r,(e=>{let{isPrimary:t}=e;return!!N()(this._settingsSrv).connect||t}))).call(t,((e,t)=>{let r=(0,B.dS)(e.accountType),i=(0,B.dS)(t.accountType),n=G.Tr[r.type]-G.Tr[i.type];return 0===n&&(n=(0,H.A5)(e.accountName-t.accountName)),n})),await W().all(x()(i=this._accounts).call(i,(async e=>{try{let t=(0,B.dS)(e.accountType),r=await t.getAccountUserAsync(e.accountId);switch(e.accountName=r.fullName,e.accountEmail=r.email,e.isInvalid=t.invalidAccountIds.has(e.accountId),e.accountType){case K.Qm.Trello:e.avatarUrl=r.avatarUrlNormal,e.avatarAvailable=!0;break;case K.Qm.Google:case K.Qm.GitHub:e.avatarUrl=r.avatarUrl,e.avatarAvailable=!0}}catch(t){e.isInvalid=!0,this._$log.error("Planyway load account error:"),this._$log.error(t),this._telemetrySrv.logError("Planyway load account error",t,{class:this.constructor.name,method:this._loadAvailableAccountsAsync.name})}})))}}]}}))},77979:(e,t,r)=>{r.d(t,{L:()=>R});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(26881),k=r(88946),g=r.n(k),_=r(60312),w=r.n(_),D=r(86981),E=r.n(D),b=r(29704),C=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=(0,y.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const S="minutes",P="hours",T="days",A="weeks",z="plural",I="singular",x={[z]:{[S]:"MISC.REMINDER_UNIT_MINUTES",[P]:"MISC.REMINDER_UNIT_HOURS",[T]:"MISC.REMINDER_UNIT_DAYS",[A]:"MISC.REMINDER_UNIT_WEEKS"},[I]:{[S]:"MISC.REMINDER_UNIT_MINUTE",[P]:"MISC.REMINDER_UNIT_HOUR",[T]:"MISC.REMINDER_UNIT_DAY",[A]:"MISC.REMINDER_UNIT_WEEK"}};let R=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=E()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(g()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,b.SG)(["$translate","licenseSrv","planywayNotificationsSrv","mdPanelRef","isEditingMode","isAllDay","isNegativeReminderAvailable","type","remindBefore"])],(function(e){return{F:class AddCustomReminderDialogController{constructor(t,r,i,n,o,s,a,l,c){if(e(this),this._$translate=t,this._licenseSrv=r,this._planywayNotificationsSrv=i,this._mdPanelRef=n,this._isEditingMode=o,this._isAllDay=s,this._isNegativeReminderAvailable=a,this._type=l,this._remindBefore=c,this._isAllDay){let e,t,r=this._remindBefore%1440,i=this._remindBefore+1440-r,n=1440-r;this._remindBefore>0?({unit:e,value:t}=(0,b.GP)(i)):(e=T,t=0),this._remindUnit=e,this._remindValue=(0,b.uZ)(t,e===T?0:this.minRemindValue,this.maxRemindValue),this._remindTime=(0,b.mH)(this.remindTimeDayStart,n>1440?Math.abs(r):n)}else{let e,t,r=this._remindBefore;({unit:e,value:t}=(0,b.GP)(r)),this._remindUnit=e,this._remindValue=t}}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"addCustomReminderDialogCtrl"}},{kind:"get",key:"isEditingMode",value:function isEditingMode(){return this._isEditingMode}},{kind:"get",key:"type",value:function type(){return this._type}},{kind:"get",key:"remindBefore",value:function remindBefore(){return this._remindBefore}},{kind:"get",key:"minRemindValue",value:function minRemindValue(){return this._isAllDay&&!this._isNegativeReminderAvailable?1:0}},{kind:"get",key:"maxRemindValue",value:function maxRemindValue(){switch(this._remindUnit){case A:return 4;case T:return 28;case P:return 672;case S:return 40320}}},{kind:"get",key:"remindTimeDayStart",value:function remindTimeDayStart(){return this._planywayNotificationsSrv.remindTimeDayStart}},{kind:"get",key:"minRemindTime",value:function minRemindTime(){return this.remindTimeDayStart}},{kind:"get",key:"maxRemindTime",value:function maxRemindTime(){return this._maxRemindTime||(this._maxRemindTime=(0,b.mH)(this.minRemindTime,1440)),this._maxRemindTime}},{kind:"get",key:"availableRemindUnits",value:function availableRemindUnits(){if(!this._availableUnits){let e;e=this.isAllDay?[T,A]:[S,P,T,A],this._availableUnits=g()(e).call(e,(e=>({title:this._$translate.instant(x[1===this.remindValue?I:z][e]),unit:e})))}return this._availableUnits}},{kind:"set",key:"remindValue",value:function remindValue(e){if(w()(e)&&(e<this.minRemindValue?e=this.minRemindValue:e>this.maxRemindValue&&(e=this.maxRemindValue),this._remindValue!==e&&this._licenseSrv.checkPaidFeatureAvailable(C.ZV.Reminders,!0)))if(this._hasChanges=!0,this._remindValue=e,this._availableUnits=null,this.isAllDay){let t=1440-(0,b.CX)(this.remindTimeDayStart,this._remindTime),r=(0,b.a5)(this._remindUnit,e);this._remindBefore=r-1440+t}else{let t=(0,b.a5)(this._remindUnit,e);this._remindBefore=t}}},{kind:"get",key:"remindValue",value:function remindValue(){return this._remindValue}},{kind:"set",key:"selectedRemindUnit",value:function selectedRemindUnit(e){if(this._remindUnit!==e.unit&&this._licenseSrv.checkPaidFeatureAvailable(C.ZV.Reminders,!0))if(this._hasChanges=!0,this._remindUnit=e.unit,this._remindValue<this.minRemindValue?this._remindValue=this.minRemindValue:this._remindValue>this.maxRemindValue&&(this._remindValue=this.maxRemindValue),this.isAllDay){let t=1440-(0,b.CX)(this.remindTimeDayStart,this._remindTime),r=(0,b.a5)(e.unit,this._remindValue);this._remindBefore=r-1440+t}else{let t=(0,b.a5)(e.unit,this._remindValue);this._remindBefore=t}}},{kind:"get",key:"selectedRemindUnit",value:function selectedRemindUnit(){var e;return E()(e=this.availableRemindUnits).call(e,(e=>e.unit===this._remindUnit))}},{kind:"get",key:"isAllDay",value:function isAllDay(){return this._isAllDay}},{kind:"set",key:"remindTime",value:function remindTime(e){if(e&&!(0,b.rs)(this._remindTime,e)&&this._licenseSrv.checkPaidFeatureAvailable(C.ZV.Reminders,!0)&&(this._hasChanges=!0,this._remindTime=e,this.isAllDay)){let e=1440-(0,b.CX)(this.remindTimeDayStart,this._remindTime),t=(0,b.a5)(this._remindUnit,this._remindValue);this._remindBefore=t-1440+e}}},{kind:"get",key:"remindTime",value:function remindTime(){if(this.isAllDay)return this._remindTime}},{kind:"method",key:"addCustomReminder",value:function addCustomReminder(){this._mdPanelRef.close("success")}}]}}))},76224:(e,t,r)=>{r.d(t,{m:()=>b});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(86981),w=r.n(_),D=r(29704),E=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let b=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,D.SG)(["$translate","mdPanelRef","isEditingMode","linkedCardFilter","linkType","linkedCard"])],(function(e){return{F:class AddDependencyDialogController{constructor(t,r,i,n,o,s){e(this),this._$translate=t,this._mdPanelRef=r,this._isEditingMode=i,this._linkedCardFilter=n,this._linkType=null!=o?o:E.z7.IsBlockedBy,this._linkedCard=s}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"addDependencyDialogCtrl"}},{kind:"get",key:"isEditingMode",value:function isEditingMode(){return this._isEditingMode}},{kind:"get",key:"linkType",value:function linkType(){return this._linkType}},{kind:"get",key:"linkedCard",value:function linkedCard(){return this._linkedCard}},{kind:"set",key:"linkedCard",value:function linkedCard(e){this._linkedCard=e}},{kind:"get",key:"linkedCardFilter",value:function linkedCardFilter(){return this._linkedCardFilter}},{kind:"get",key:"availableCardLinkTypes",value:function availableCardLinkTypes(){return this._availableCardLinkTypes||(this._availableCardLinkTypes=[{value:E.z7.IsBlockedBy,title:this._$translate.instant("MENU.CARD_LINK_IS_BLOCKED_BY"),color:"#ff9800",description:this._$translate.instant("MENU.CARD_LINK_IS_BLOCKED_BY_DESCRIPTION"),placeholder:this._$translate.instant("MENU.CARD_LINK_ADD_WAITING_ON_CARD")},{value:E.z7.Blocks,title:this._$translate.instant("MENU.CARD_LINK_BLOCKS"),color:"#ef6a6e",description:this._$translate.instant("MENU.CARD_LINK_BLOCKS_DESCRIPTION"),placeholder:this._$translate.instant("MENU.CARD_LINK_ADD_CARD_THAT_IS_BLOCKED")}]),this._availableCardLinkTypes}},{kind:"get",key:"selectedLinkType",value:function selectedLinkType(){var e;return w()(e=this.availableCardLinkTypes).call(e,(e=>e.value===this.linkType))}},{kind:"set",key:"selectedLinkType",value:function selectedLinkType(e){this._linkType=e.value}},{kind:"method",key:"addDependency",value:function addDependency(){this._mdPanelRef.close("success")}}]}}))},63162:(e,t,r)=>{r.d(t,{A:()=>x});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(58218),E=r.n(D),b=r(19755),C=r.n(b),S=r(83423),P=r.n(S),T=r(8937),A=r(29704),z=r(95877);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const I="iframe";let x=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,A.SG)(["$element","$log","$scope","$window","htmlHelperSrv","platformSrv","telemetrySrv"])],(function(e){return{F:class AuthWindowController{constructor(t,r,i,n,o,s,a){e(this),this._$element=t,this._$log=r,this._$scope=i,this._$window=n,this._htmlHelperSrv=o,this._platformSrv=s,this._telemetrySrv=a,this.authWindowType===I&&this._initializeIframe()}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"authWindowCtrl"}},{kind:"field",key:"_providers",value:void 0},{kind:"field",key:"_userId",value:void 0},{kind:"field",key:"_onAuthorize",value:void 0},{kind:"field",key:"_size",value:()=>T.wT.Medium},{kind:"field",key:"_setIsBusy",value:void 0},{kind:"get",key:"isBusy",value:function isBusy(){return this._isBusy}},{kind:"set",key:"isBusy",value:function isBusy(e){this._$scope.$evalAsync((()=>{this._isBusy=e,this._setIsBusy({value:e})}))}},{kind:"get",key:"authWindowType",value:function authWindowType(){return I}},{kind:"get",key:"providers",value:function providers(){return this._providers}},{kind:"get",key:"userId",value:function userId(){return this._userId}},{kind:"get",key:"size",value:function size(){return this._size}},{kind:"get",key:"isInsideTeams",value:function isInsideTeams(){return this._platformSrv.isInsideTeams()}},{kind:"method",key:"onSuccess",value:function onSuccess(e){e&&this._onAuthorize({authData:e})}},{kind:"method",key:"onFailure",value:function onFailure(e){this._$log.error("Authorization error:"),this._$log.error(e),this._telemetrySrv.logError("Authorization error",e,{class:this.constructor.name,method:this.onFailure.name})}},{kind:"method",key:"onTelemetryEvent",value:function onTelemetryEvent(e,t){this._telemetrySrv.logSingleEvent(e,t)}},{kind:"method",key:"_initializeIframe",value:function _initializeIframe(){var e=this;this._htmlHelperSrv.elementAdded(this._$element,".pw-js-auth-iframe",(()=>{this._$scope.$evalAsync((async()=>{const onMessageReceived=function(){let{data:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.type===T.Nx.GenericEvent)if("telemetry"===t.action)e.onTelemetryEvent(t.eventType,t.eventData)};try{this._$window.addEventListener("message",onMessageReceived,!1),C()(".pw-js-auth-iframe").on("load",(()=>C()(".pw-js-auth-iframe").removeClass("pw-auth-window__iframe--loading")));let e=await this._platformSrv.exchangeSiteDataAsync(T.jj.GetAuthData,E()({currentLanguage:this._getLanguage(),providers:this.providers,userId:this.userId,size:this.size,isInsideTeams:this.isInsideTeams}),".pw-js-auth-iframe");this.onSuccess(e)}catch(e){if(this._$scope.$$destroyed)return;this.onFailure(e),this._initializeIframe()}finally{this._$window.removeEventListener("message",onMessageReceived,!1)}}))}),!0)}},{kind:"method",key:"_getLanguage",value:function _getLanguage(e){return(e||this._getLocale()).replace("-","_")}},{kind:"method",key:"_getLocale",value:function _getLocale(){try{let e=z.Xb.planywayLocale;if(e)return e}catch(e){this._$log.error("Planyway get locale error:"),this._$log.error(e)}return(0,A.C9)(P().replace("_","-"))}}]}}))},38495:(e,t,r)=>{r.d(t,{O:()=>I});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(86981),k=r.n(y),g=r(26881),_=r(88946),w=r.n(_),D=r(87994),E=r.n(D),b=r(73324),C=r.n(b),S=r(91829),P=r.n(S),T=r(82617),A=r(56777),z=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return w()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:w()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let I=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=k()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(w()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,r(29704).SG)(["$injector","$scope","collectionSrv","googleIntegrationSrv","iCalIntegrationSrv","outlookIntegrationSrv"])],(function(e){return{F:class CalendarSelectController{constructor(t,r,i,n,o,s){e(this),this._$injector=t,this._$scope=r,this._collectionSrv=i,this._googleIntegrationSrv=n,this._iCalIntegrationSrv=o,this._outlookIntegrationSrv=s;let reloadAccounts=()=>{this._accounts=null,this._shownAccounts=null,this._selectedCalendar=null};this._$scope.$on(z.FK.CollectionAccountReady,reloadAccounts),this._$scope.$on(z.FK.CollectionChanged,reloadAccounts),this._$scope.$on(z.FK.CalendarsChanged,reloadAccounts),this._$scope.$on(z.FK.GitHubProjectSelectionChanged,reloadAccounts),this._$scope.$on(z.FK.GoogleCalendarSelectionChanged,reloadAccounts),this._$scope.$on(z.FK.OutlookCalendarSelectionChanged,reloadAccounts),this._$scope.$on(z.FK.TrelloBoardSelectionChanged,reloadAccounts)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"calendarSelectCtrl"}},{kind:"field",key:"setCalendar",value:void 0},{kind:"field",key:"isReadOnly",value:()=>!1},{kind:"field",key:"providerWhitelist",value:void 0},{kind:"field",key:"_isSearchEnabled",value:()=>!0},{kind:"field",key:"_isDisabled",value:()=>!1},{kind:"get",key:"_githubIntegrationSrv",value:function _githubIntegrationSrv(){return this._githubIntegrationSrvLazy||(this._githubIntegrationSrvLazy=this._$injector.get("githubIntegrationSrv")),this._githubIntegrationSrvLazy}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"get",key:"isDisabled",value:function isDisabled(){return this._isDisabled||this.isReadOnly}},{kind:"get",key:"accountId",value:function accountId(){return this._accountId}},{kind:"set",key:"accountId",value:function accountId(e){this._accountId!==e&&(this._accountId=e,this._accounts=null,this._shownAccounts=null,this._selectedCalendar=null)}},{kind:"get",key:"calendarId",value:function calendarId(){return this._calendarId}},{kind:"set",key:"calendarId",value:function calendarId(e){this._calendarId!==e&&(this._calendarId=e,this._accounts=null,this._shownAccounts=null,this._selectedCalendar=null)}},{kind:"get",key:"isSearchEnabled",value:function isSearchEnabled(){return this._isSearchEnabled}},{kind:"get",key:"searchString",value:function searchString(){return this._searchString}},{kind:"set",key:"searchString",value:function searchString(e){this._searchString=e,this._shownAccounts=null}},{kind:"get",key:"accounts",value:function accounts(){var e,t,r;this._accounts||(this._accounts=w()(e=E()(t=C()(r=this._collectionSrv.getCurrentCollectionConnectedProviders()).call(r,(e=>{var t;return!this.providerWhitelist||P()(t=this.providerWhitelist).call(t,e.type)}))).call(t,(e=>{var t;return C()(t=e.getCurrentCollectionConnectedAccounts()).call(t,(t=>{let{accountId:r}=t;return!!e.isCurrentCollectionAccountReady(r)&&(!this.accountId||r===this.accountId)}))}))).call(e,(e=>{var t;let r=(0,A.dS)(e.accountType),i={id:e.accountId,type:e.accountType,name:e.accountName,sortIndex:z.Tr[(0,A.fL)(e.accountType)]},n=r.getCurrentCollectionSelectedCalendarIds(e.accountId);switch(e.accountType){case T.Qm.Trello:let r=w()(n).call(n,(t=>this._trelloIntegrationSrv.getTrelloBoardById(e.accountId,t)));i.icon="icons-16:trello",i.calendars=w()(r).call(r,(t=>({id:t.id,accountId:e.accountId,accountType:e.accountType,name:t.name,starredPosition:t.starredPosition})));break;case T.Qm.Google:let o=C()(t=w()(n).call(n,(t=>this._googleIntegrationSrv.getGoogleCalendarById(e.accountId,t)))).call(t,(e=>!e.isReadOnly||this.calendarId&&this.calendarId===e.id));i.icon="icons-16:google-outline",i.calendars=w()(o).call(o,(t=>({id:t.id,accountId:e.accountId,accountType:e.accountType,name:t.name})));break;case T.Qm.Outlook:let s=w()(n).call(n,(t=>this._outlookIntegrationSrv.getOutlookCalendarById(e.accountId,t)));i.icon="icons-16:outlook-calendar",i.calendars=w()(s).call(s,(t=>({id:t.id,accountId:e.accountId,accountType:e.accountType,name:t.name})));break;case T.Qm.GitHub:let a=w()(n).call(n,(t=>this._githubIntegrationSrv.getGitHubProjectById(e.accountId,t)));i.icon="icons-16:github-outline",i.calendars=w()(a).call(a,(t=>({id:t.id,accountId:e.accountId,accountType:e.accountType,name:t.name})));break;case T.Qm.ICal:let l=w()(n).call(n,(t=>this._iCalIntegrationSrv.getICalCalendarById(e.accountId,t)));i.icon="icons-16:ical",i.calendars=w()(l).call(l,(t=>({id:t.id,accountId:e.accountId,accountType:e.accountType,name:t.name})))}if(this.calendarId&&!this.selectedCalendar)for(let e of i.calendars)e.id===this.calendarId&&(this._selectedCalendar=e);return i})),this._shownAccounts=null);return this._accounts}},{kind:"get",key:"shownAccounts",value:function shownAccounts(){var e;this._shownAccounts||(this._shownAccounts=C()(e=this.accounts).call(e,(e=>{var t;return e.type!==T.Qm.ICal&&(e.shownCalendars=C()(t=e.calendars).call(t,(e=>{var t;return!this.searchString||P()(t=e.name.toLowerCase()).call(t,this.searchString.toLowerCase())})),e.shownCalendars.length>0)})));return this._shownAccounts}},{kind:"get",key:"selectedCalendar",value:function selectedCalendar(){return this._selectedCalendar}},{kind:"set",key:"selectedCalendar",value:function selectedCalendar(e){if(this._selectedCalendar===e)return;if(this._selectedCalendar=e,!this.setCalendar)return;const{accountId:t,id:r}=this._selectedCalendar;let i;switch(this._selectedCalendar.accountType){case T.Qm.Trello:i=this._trelloIntegrationSrv.getTrelloBoardById(t,r);break;case T.Qm.Google:i=this._googleIntegrationSrv.getGoogleCalendarById(t,r);break;case T.Qm.Outlook:i=this._outlookIntegrationSrv.getOutlookCalendarById(t,r);break;case T.Qm.GitHub:i=this._githubIntegrationSrv.getGitHubProjectById(t,r)}this.setCalendar(i)}},{kind:"method",key:"onSearchMenuKeydown",value:function onSearchMenuKeydown(e,t){this.isSearchEnabled&&e.keyCode!==z.VD.Escape&&$(t).trigger("focus")}}]}}))},4205:(e,t,r)=>{r.d(t,{R:()=>E});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(86981),k=r.n(y),g=r(26881),_=r(88946),w=r.n(_),D=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return w()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:w()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let E=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=k()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(w()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,r(29704).SG)(["$scope","collectionSrv"])],(function(e){return{F:class CardContextMenuController{constructor(t,r){e(this),this._$scope=t,this._collectionSrv=r,this._$scope.$on(D.FK.AccountAdded,(()=>this._providerContextMenus=null)),this._$scope.$on(D.FK.AccountDeleted,(()=>this._providerContextMenus=null)),this._$scope.$on(D.FK.CollectionChanged,(()=>this._providerContextMenus=null))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"cardContextMenuCtrl"}},{kind:"get",key:"source",value:function source(){return this._source}},{kind:"set",key:"source",value:function source(e){this._source=e}},{kind:"get",key:"onSetContextMenu",value:function onSetContextMenu(){return this._onSetContextMenu}},{kind:"set",key:"onSetContextMenu",value:function onSetContextMenu(e){this._onSetContextMenu=e}},{kind:"get",key:"providerContextMenus",value:function providerContextMenus(){var e;this._providerContextMenus||(this._providerContextMenus=w()(e=this._collectionSrv.getCurrentCollectionConnectedProviders()).call(e,(e=>e.getCardContextMenuHtml())));return this._providerContextMenus}}]}}))},7473:(e,t,r)=>{r.d(t,{L:()=>x});var i=r(40024),n=r.n(i),o=r(57445),s=r.n(o),a=r(51791),l=r.n(a),c=r(90143),d=r.n(c),u=r(56626),p=r.n(u),h=r(67552),f=r.n(h),m=r(26881),v=r(54847),y=r.n(v),k=r(88946),g=r.n(k),_=r(76555),w=r.n(_),D=r(73324),E=r.n(D),b=r(99595),C=r.n(b),S=r(86981),P=r.n(S),T=r(19755),A=r.n(T),z=(r(82617),r(56777)),I=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}s()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),C()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==l()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];d()(s).call(s,l()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,n[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&i.push(c.finisher);var u=c.extras;if(u){for(var p=0;p<u.length;p++)this.addElementPlacement(u[p],t);r.push.apply(r,u)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return s()(t,p(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=(0,m.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:f()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return s()(t,p(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let x=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=P()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(g()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,r(29704).SG)(["$injector","$scope","$timeout","calendarCardsSrv","iCalIntegrationSrv","googleIntegrationSrv","outlookIntegrationSrv"])],(function(e){return{F:class CardSelectController{constructor(t,r,i,n,o,s,a){e(this),this._$injector=t,this._$scope=r,this._$timeout=i,this._calendarCardsSrv=n,this._iCalIntegrationSrv=o,this._googleIntegrationSrv=s,this._outlookIntegrationSrv=a,this._$scope.$on("$mdMenuOpened",(e=>this._menuScope=e.targetScope));const onChangeCards=()=>this._selectableCards=null;this._$scope.$on(I.FK.CardsReloaded,(()=>onChangeCards())),this._$scope.$on(I.FK.CardTypeChanged,(()=>onChangeCards())),this._calendarCardsSrv.addCalendarCardEventListener("added",onChangeCards),this._calendarCardsSrv.addCalendarCardEventListener("updated",onChangeCards),this._calendarCardsSrv.addCalendarCardEventListener("deleted",onChangeCards),this._calendarCardsSrv.addCalendarCardEventListener("cleared",onChangeCards),this._$scope.$on("$destroy",(()=>{this._calendarCardsSrv.removeCalendarCardEventListener("added",onChangeCards),this._calendarCardsSrv.removeCalendarCardEventListener("updated",onChangeCards),this._calendarCardsSrv.removeCalendarCardEventListener("deleted",onChangeCards),this._calendarCardsSrv.removeCalendarCardEventListener("cleared",onChangeCards)}))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"cardSelectCtrl"}},{kind:"field",key:"autofocus",value:()=>!1},{kind:"field",key:"positionMode",value:()=>"left bottom"},{kind:"field",key:"_type",value:()=>"input"},{kind:"field",key:"_showSelectedCardTitle",value:()=>!0},{kind:"field",key:"_cardCounts",value:()=>new(y())},{kind:"get",key:"_githubIntegrationSrv",value:function _githubIntegrationSrv(){return this._githubIntegrationSrvLazy||(this._githubIntegrationSrvLazy=this._$injector.get("githubIntegrationSrv")),this._githubIntegrationSrvLazy}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"get",key:"calendarCard",value:function calendarCard(){return this._calendarCard}},{kind:"set",key:"calendarCard",value:function calendarCard(e){this._calendarCard=e,this._selectedCard=null}},{kind:"get",key:"type",value:function type(){return this._type}},{kind:"set",key:"type",value:function type(e){this._type=e}},{kind:"get",key:"onSelect",value:function onSelect(){return this._onSelect}},{kind:"set",key:"onSelect",value:function onSelect(e){this._onSelect=e}},{kind:"set",key:"filter",value:function filter(e){this._filter=e}},{kind:"get",key:"selectableCards",value:function selectableCards(){var e;return this._selectableCards||this._loadSelectableCardsPromise||null===(e=this._menuScope)||void 0===e||!e.$mdMenuIsOpen||(this._loadSelectableCardsPromise=(async()=>{try{var e,t,r;this._cardCounts.clear();let i=await this._calendarCardsSrv.getCalendarCardsAsync();this._selectableCards=g()(e=w()(t=E()(i).call(i,(e=>this._filter({card:e})))).call(t,((e,t)=>e.compare(t)))).call(e,(e=>this._convertFromCalendarCard(e))),C()(r=this._selectableCards).call(r,(e=>e.isAccountShown=this._cardCounts.get(e.id)>1)),this._$scope.$evalAsync((()=>this._selectedCard=null))}finally{this._loadSelectableCardsPromise=null}})()),this._selectableCards||[]}},{kind:"get",key:"selectedCard",value:function selectedCard(){var e;!this._selectedCard&&this.calendarCard&&(this._selectedCard=P()(e=this.selectableCards).call(e,(e=>e.id===this.calendarCard.id))||this._convertFromCalendarCard(this.calendarCard));return this._selectedCard}},{kind:"set",key:"selectedCard",value:function selectedCard(e){var t;this._selectedCard=e,this._calendarCard=e?this._calendarCardsSrv.getCalendarCardById(e.accountId,e.cardType,e.id):null,null===(t=this.onSelect)||void 0===t||t.call(this,{selectedCard:this._calendarCard})}},{kind:"get",key:"searchCardString",value:function searchCardString(){var e,t;return this._searchCardString||""===this._searchCardString?null!==(t=this._searchCardString)&&void 0!==t?t:"":this._showSelectedCardTitle?null===(e=this._calendarCard)||void 0===e?void 0:e.title:""}},{kind:"set",key:"searchCardString",value:function searchCardString(e){this._searchCardString=e}},{kind:"method",key:"clear",value:function clear(){this.selectedCard=null,this.searchCardString=""}},{kind:"method",key:"setFocus",value:function setFocus(){A()(".pw-js-card-select-search-input").trigger("focus")}},{kind:"method",key:"onKeydown",value:function onKeydown(e){e.keyCode!==I.VD.Escape&&this.setFocus()}},{kind:"method",key:"_convertFromCalendarCard",value:function _convertFromCalendarCard(e){var t,r,i,n,o,s;let a,l,c;switch(e.providerType){case I.lP.GitHub:a=I.kK.GitHubProject,l=null===(t=this._githubIntegrationSrv.getGitHubProjectById(e.accountId,e.providerCard.projectId))||void 0===t?void 0:t.name,c=(0,z.VH)(I.lP.GitHub).getAccountName(e.accountId);break;case I.lP.Google:a=I.kK.GoogleCalendar,l=null===(r=this._googleIntegrationSrv.getGoogleCalendarById(e.accountId,e.providerCard.googleCalendarId))||void 0===r?void 0:r.name,c=(0,z.VH)(I.lP.Google).getAccountName(e.accountId);break;case I.lP.ICal:a=I.kK.ICalCalendar,l=null===(i=this._iCalIntegrationSrv.getICalCalendarById(e.accountId,e.providerCard.iCalCalendarId))||void 0===i?void 0:i.name,c=(0,z.VH)(I.lP.ICal).getAccountName(e.accountId);break;case I.lP.Outlook:a=I.kK.OutlookCalendar,l=null===(n=this._outlookIntegrationSrv.getOutlookCalendarById(e.accountId,e.providerCard.outlookCalendarId))||void 0===n?void 0:n.name,c=(0,z.VH)(I.lP.Outlook).getAccountName(e.accountId);break;case I.lP.Trello:a=I.kK.TrelloBoard,l=null===(o=this._trelloIntegrationSrv.getTrelloBoardById(e.accountId,e.providerCard.boardId))||void 0===o?void 0:o.name,c=(0,z.VH)(I.lP.Trello).getAccountName(e.accountId)}return this._cardCounts.set(e.id,(null!==(s=this._cardCounts.get(e.id))&&void 0!==s?s:0)+1),{id:e.id,accountId:e.accountId,uniqueId:`${e.accountId}-${e.id}`,accountName:c,cardType:e.cardType,cardRole:e.cardRole,title:e.title,calendarType:a,calendarName:l}}}]}}))},91250:(e,t,r)=>{r.d(t,{C:()=>K});var i=r(40024),n=r.n(i),o=r(51791),s=r.n(o),a=r(56626),l=r.n(a),c=r(67552),d=r.n(c),u=r(86981),p=r.n(u),h=(r(52020),r(88546),r(66775),r(2201),r(26171),r(26881)),f=r(76555),m=r.n(f),v=r(88946),y=r.n(v),k=r(73324),g=r.n(k),_=r(27525),w=r.n(_),D=r(90143),E=r.n(D),b=r(99595),C=r.n(b),S=(r(39290),r(59863),r(57445)),P=r.n(S),T=(r(58218),r(88106),r(62079),r(82617)),A=r(8937),z=r(20115),I=r(29704),x=r(8058),R=r.n(x),$=r(56777);r(95877);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;C()(r=["method","field"]).call(r,(function(r){C()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}P()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(C()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),C()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==s()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var a=t[e.placement];E()(a).call(a,s()(a).call(a,e.key),1);var l=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,n[o])(l)||l);e=c.element,this.addElementPlacement(e,t),c.finisher&&i.push(c.finisher);var d=c.extras;if(d){for(var u=0;u<d.length;u++)this.addElementPlacement(d[u],t);r.push.apply(r,d)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return P()(t,l(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return y()(t=(0,h.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:d()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:y()(e).call(e,this.fromElementDescriptor,this)};return P()(t,l(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const F="productTour",N="videoTour",M="news",O="upgrade",L="users",W="logOut";let K=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=p()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(y()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,I.SG)(["$rootScope","$scope","$translate","$window","appCommonSrv","chatSrv","collectionSrv","dialogSrv","licenseSrv","notificationSrv","onboardingSrv","planywayIntegrationSrv","platformSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class CollectionsPanelController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m){e(this),this._$rootScope=t,this._$scope=r,this._$translate=i,this._$window=n,this._appCommonSrv=o,this._chatSrv=s,this._collectionSrv=a,this._dialogSrv=l,this._licenseSrv=c,this._notificationSrv=d,this._onboardingSrv=u,this._planywayIntegrationSrv=p,this._platformSrv=h,this._settingsSrv=f,this._telemetrySrv=m;const onSourceChanged=()=>{this._$scope.$evalAsync((()=>this._collections=null))};this._$scope.$on(A.FK.CollectionChanged,onSourceChanged),this._$scope.$on(A.FK.CollectionUpdated,onSourceChanged)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"collectionsPanelCtrl"}},{kind:"get",key:"isMainSidebarShown",value:function isMainSidebarShown(){return this._appCommonSrv.isMainSidebarShown()}},{kind:"get",key:"isSaleActive",value:function isSaleActive(){return this._licenseSrv.isSubscriptionAvailable()&&this._licenseSrv.isSaleActive()}},{kind:"get",key:"isTrialActive",value:function isTrialActive(){return this._licenseSrv.isTrialActive()}},{kind:"get",key:"pricingUrl",value:function pricingUrl(){return z.w}},{kind:"method",key:"onPricingClick",value:function onPricingClick(e){let t,r;switch(e){case"menu":t=A.ou.CollectionsPanelMenu,r=A.ev.Upgrade;break;case"panel":t=A.ou.CollectionsPanel,r=A.ev.SeePlans}this._telemetrySrv.logSessionEvent(A.cN.GeneralEvents.UpgradeClicked,{where:t,callToAction:r})}},{kind:"get",key:"isBusy",value:function isBusy(){return this._appCommonSrv.isSchedulerBusy()}},{kind:"get",key:"planywayLogoUrl",value:function planywayLogoUrl(){return this._platformSrv.getPlatformUrl(R())}},{kind:"get",key:"collections",value:function collections(){var e,t,r;this._collections||(this._collections=m()(e=y()(t=g()(r=this._collectionSrv.getCollections()).call(r,(e=>{var t;return w()(t=e.users).call(t,(e=>e.userId===this._planywayIntegrationSrv.userId&&e.type!==T.GV.Requester))}))).call(t,(e=>{var t,r,i;let n=null!==(t=e.name)&&void 0!==t?t:this._$translate.instant("MISC.UNNAMED_COLLECTION_NAME");return{id:e.id,abbreviation:(0,I.T6)(n),name:n,color:e.color,position:null!==(r=null===(i=this._userSettings.global.settings.collection[e.id])||void 0===i?void 0:i.position)&&void 0!==r?r:Number.POSITIVE_INFINITY}}))).call(e,((e,t)=>e.position-t.position)));return this._collections}},{kind:"get",key:"sortableCollectionOptions",value:function sortableCollectionOptions(){return this._sortableCollectionOptions||(this._sortableCollectionOptions={autoScroll:!0,group:z.M6,placeholder:e=>{let t=e.clone();return t.addClass("pw-collections-panel__collection--placeholder"),t.css({width:e.width()}),t},hint:e=>{let t=e.clone();return t.addClass("pw-collections-panel__collection--hint"),t.css({width:e.width()}),t}}),this._sortableCollectionOptions}},{kind:"get",key:"isCollectionDragAvailable",value:function isCollectionDragAvailable(){return!this._appCommonSrv.isSchedulerBusy()&&!this.isCollectionDragging}},{kind:"get",key:"isCollectionDragging",value:function isCollectionDragging(){return this._isCollectionDragging}},{kind:"method",key:"onCollectionDragStart",value:function onCollectionDragStart(e){this.isCollectionDragAvailable?this._isCollectionDragging=!0:e.preventDefault()}},{kind:"method",key:"onCollectionDragEnd",value:function onCollectionDragEnd(e){var t,r,i;if(this._isCollectionDragging=!1,e.newIndex!==e.oldIndex){if(e.sender.draggable.dropped=!0,"sort"===e.action)e.preventDefault(),E()(t=this.collections).call(t,e.newIndex,0,E()(r=this.collections).call(r,e.oldIndex,1)[0]),C()(i=this.collections).call(i,((e,t)=>{e.position=t,this._userSettings.global.settings.collection[e.id]?this._userSettings.global.settings.collection[e.id].position=t:this._userSettings.global.settings.collection[e.id]={account:{},position:t}})),this._userSettings.global.saveAsync(),this._telemetrySrv.logSessionEvent(A.cN.CollectionEvents.CollectionPositionChanged)}else e.preventDefault()}},{kind:"method",key:"onCollectionDragCancel",value:function onCollectionDragCancel(){this._isCollectionDragging=!1}},{kind:"method",key:"createCollectionAsync",value:async function createCollectionAsync(){this._telemetrySrv.logSessionEvent(A.cN.CollectionEvents.CollectionCreateDialogOpened),await this._dialogSrv.showCollectionDialogAsync()||this._telemetrySrv.logSessionEvent(A.cN.CollectionEvents.CollectionCreateDialogClosed)}},{kind:"get",key:"currentCollectionId",value:function currentCollectionId(){return this._collectionSrv.currentCollectionId}},{kind:"method",key:"changeCurrentCollectionAsync",value:function changeCurrentCollectionAsync(e){e!==this.currentCollectionId&&this._collectionSrv.changeCurrentCollectionAsync(e)}},{kind:"method",key:"isHelpMenuItemAvailable",value:function isHelpMenuItemAvailable(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w()(t).call(t,(e=>{switch(e){case F:if(!this._collectionSrv.isCurrentCollectionProviderConnected(A.lP.Trello))return!1;return!!(0,$.VH)(A.lP.Trello).hasCurrentCollectionSelectedCalendars()&&this._collectionSrv.isCurrentCollectionProviderConnected(A.lP.Trello);case N:case M:return this._planywayIntegrationSrv.isProviderConnected(A.lP.Trello);default:return!0}}))}},{kind:"method",key:"showShortcutsDialog",value:function showShortcutsDialog(){this._telemetrySrv.logSessionEvent(A.cN.GeneralEvents.ShortcutsOpened),this._dialogSrv.showShortcutsDialogAsync()}},{kind:"get",key:"quickStartUrl",value:function quickStartUrl(){return z.WA}},{kind:"method",key:"onQuickStartClicked",value:function onQuickStartClicked(){this._telemetrySrv.logSessionEvent(A.cN.GeneralEvents.QuickStartClicked)}},{kind:"method",key:"showProductTour",value:function showProductTour(){this._telemetrySrv.logSessionEvent(A.cN.OnboardingEvents.TourClicked),this._onboardingSrv.showProductTourAsync({force:!0})}},{kind:"method",key:"showVideoTourAsync",value:async function showVideoTourAsync(){this._telemetrySrv.logSingleEvent(A.cN.OnboardingEvents.OnboardingVideoOpened,{by:A.PT.HelpMenu}),await this._dialogSrv.showVideoPlayerDialogAsync(z.kM),this._telemetrySrv.logSingleEvent(A.cN.OnboardingEvents.OnboardingVideoClosed,{by:A.PT.HelpMenu})}},{kind:"method",key:"showNewsDialog",value:function showNewsDialog(){this._telemetrySrv.logSingleEvent(A.cN.GeneralEvents.NewsClicked,{newsDate:this._onboardingSrv.lastNewsDate}),this._dialogSrv.showNewsDialogAsync()}},{kind:"get",key:"helpUrl",value:function helpUrl(){return z.o5}},{kind:"method",key:"onHelpClick",value:function onHelpClick(){this._telemetrySrv.logSessionEvent(A.cN.GeneralEvents.HelpClicked)}},{kind:"get",key:"isFeedbackMenuItemShown",value:function isFeedbackMenuItemShown(){return!this._appCommonSrv.isMainSidebarShown()}},{kind:"method",key:"showFeedbackDialog",value:function showFeedbackDialog(){this._chatSrv.chatAvailable&&this._chatSrv.chatInitialized?this._chatSrv.showChat():(this._telemetrySrv.logSessionEvent(A.cN.FeedbackEvents.FeedbackOpened,{where:A.z.CollectionsPanelMenu}),this._dialogSrv.showFeedbackDialogAsync())}},{kind:"method",key:"showAboutDialog",value:function showAboutDialog(){this._dialogSrv.showAboutDialogAsync()}},{kind:"get",key:"userName",value:function userName(){return this._planywayIntegrationSrv.userName}},{kind:"get",key:"userAvatar",value:function userAvatar(){return this._planywayIntegrationSrv.userAvatar}},{kind:"method",key:"isProfileMenuItemAvailable",value:function isProfileMenuItemAvailable(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w()(t).call(t,(e=>{switch(e){case O:return this._licenseSrv.isSubscriptionAvailable();case L:return this._licenseSrv.isSubscriptionAdmin();case W:return!1;default:return!0}}))}},{kind:"get",key:"billingUrl",value:function billingUrl(){return z.Sk}},{kind:"method",key:"onBillingClick",value:function onBillingClick(){this._telemetrySrv.logSessionEvent(A.cN.GeneralEvents.BillingClicked)}},{kind:"get",key:"usersUrl",value:function usersUrl(){return z.U4}},{kind:"method",key:"onUsersClick",value:function onUsersClick(){this._telemetrySrv.logSessionEvent(A.cN.GeneralEvents.UsersClicked)}},{kind:"method",key:"showSettingsDialog",value:function showSettingsDialog(e){this._telemetrySrv.logSessionEvent(A.cN.SettingsEvents.UserSettingsDialogOpened),this._dialogSrv.showSettingsDialogAsync(e)}},{kind:"method",key:"logOutAsync",value:async function logOutAsync(){this._telemetrySrv.logSessionEvent(A.cN.GeneralEvents.LogOutClicked,{where:A.GP.CollectionsPanelMenu}),await this._planywayIntegrationSrv.signOutAsync()}},{kind:"get",key:"isInDebug",value:function isInDebug(){return!1}},{kind:"get",key:"isFlagsOverridden",value:function isFlagsOverridden(){}},{kind:"set",key:"isFlagsOverridden",value:function isFlagsOverridden(e){}},{kind:"get",key:"overriddenSettingsFlags",value:function overriddenSettingsFlags(){}},{kind:"get",key:"isLicenseOverridden",value:function isLicenseOverridden(){}},{kind:"set",key:"isLicenseOverridden",value:function isLicenseOverridden(e){}},{kind:"get",key:"availableLicenseTypes",value:function availableLicenseTypes(){}},{kind:"get",key:"overriddenLicenseType",value:function overriddenLicenseType(){}},{kind:"set",key:"overriddenLicenseType",value:function overriddenLicenseType(e){}},{kind:"get",key:"overriddenLicenseActive",value:function overriddenLicenseActive(){}},{kind:"set",key:"overriddenLicenseActive",value:function overriddenLicenseActive(e){}},{kind:"get",key:"overrideMaxMemberLanes",value:function overrideMaxMemberLanes(){}},{kind:"set",key:"overrideMaxMemberLanes",value:function overrideMaxMemberLanes(e){}},{kind:"get",key:"overriddenMaxMemberLanes",value:function overriddenMaxMemberLanes(){}},{kind:"set",key:"overriddenMaxMemberLanes",value:function overriddenMaxMemberLanes(e){}},{kind:"get",key:"isABTestsOverridden",value:function isABTestsOverridden(){}},{kind:"set",key:"isABTestsOverridden",value:function isABTestsOverridden(e){}},{kind:"get",key:"overriddenABTests",value:function overriddenABTests(){}},{kind:"get",key:"isTooltipsDisabled",value:function isTooltipsDisabled(){}},{kind:"set",key:"isTooltipsDisabled",value:function isTooltipsDisabled(e){}},{kind:"get",key:"isSignalRDisabled",value:function isSignalRDisabled(){}},{kind:"set",key:"isSignalRDisabled",value:function isSignalRDisabled(e){}},{kind:"get",key:"isNgStatusEnabled",value:function isNgStatusEnabled(){}},{kind:"set",key:"isNgStatusEnabled",value:function isNgStatusEnabled(e){}},{kind:"method",key:"revokeAuthAsync",value:async function revokeAuthAsync(){}},{kind:"method",key:"clearDataAsync",value:async function clearDataAsync(){}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}}]}}))},34988:(e,t,r)=>{r.d(t,{j:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(35820),w=r.n(_),D=r(86981),E=r.n(D),b=r(19755),C=r.n(b),S=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=E()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,S.SG)(["$element","$scope","$timeout","$translate","$mdMenu"])],(function(e){return{F:class DatePickerRangeController{constructor(t,r,i,n,o){e(this),this._$element=t,this._$scope=r,this._$timeout=i,this._$translate=n,this._$mdMenu=o,this._wrapperElement=this._$element.children(".pw-date-picker-range"),this._reopenMenuPromise=w().resolve()}},d:[{kind:"field",key:"isDisabled",value:void 0},{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"datePickerRangeCtrl"}},{kind:"get",key:"calendarWidget",value:function calendarWidget(){return this._calendarWidget}},{kind:"set",key:"calendarWidget",value:function calendarWidget(e){this._calendarWidget=e,this.navigateToStart()}},{kind:"get",key:"calendarWidgetOptions",value:function calendarWidgetOptions(){return{selectable:"range",range:{start:this._innerStart,end:this._innerEnd},weekNumber:this.weekNumber,footer:!1,change:e=>{let{start:t,end:r}=e.sender.selectRange();t&&r&&(this._innerStart=(0,S.$Y)(t),this._innerEnd=(0,S.h3)(r),this._setFilterByCurrentDates())},close:()=>{this.closeMenu()},hideCloseBtn:!0}}},{kind:"get",key:"start",value:function start(){return this._start}},{kind:"set",key:"start",value:function start(e){this._$scope.$evalAsync((()=>{this._innerStart=e,this._start=e,this._selectRange()}))}},{kind:"get",key:"end",value:function end(){return this._end}},{kind:"set",key:"end",value:function end(e){this._$scope.$evalAsync((()=>{this._innerEnd=e,this._end=e,this._selectRange()}))}},{kind:"get",key:"quickFilters",value:function quickFilters(){return this._quickFilters||(this._quickFilters=[{title:this._$translate.instant("BUTTONS.LAST_WEEK"),getInterval:()=>{let e=(0,S.OR)(),t=(0,S.vr)(),r=(0,S.jh)(new Date,-1);return{start:(0,S.$Y)((0,S.tE)(r,e)),end:(0,S.h3)((0,S.sD)(r,t))}}},{title:this._$translate.instant("BUTTONS.LAST_MONTH"),getInterval:()=>{let e=(0,S.zI)(new Date,-1);return{start:(0,S.$Y)((0,S.pW)(e)),end:(0,S.h3)((0,S.R2)(e))}}},{title:this._$translate.instant("BUTTONS.CUSTOM")}],this._setFilterByCurrentDates()),this._quickFilters}},{kind:"get",key:"selectedFilter",value:function selectedFilter(){return this._selectedFilter}},{kind:"set",key:"selectedFilter",value:function selectedFilter(e){this._$scope.$evalAsync((()=>{if(this._selectedFilter=e,!this._selectedFilter.getInterval)return this._innerStart||(this._innerStart=this.start),void(this._innerEnd||(this._innerEnd=this.end));let{start:t,end:r}=this._selectedFilter.getInterval();this._innerStart=t,this._innerEnd=r,this._selectRange(),this.navigateToStart()}))}},{kind:"get",key:"hasDates",value:function hasDates(){return(0,S.qb)(this.start)&&(0,S.qb)(this.end)}},{kind:"get",key:"hasInnerDates",value:function hasInnerDates(){return(0,S.qb)(this._innerStart)&&(0,S.qb)(this._innerEnd)}},{kind:"get",key:"longDate",value:function longDate(){if(this.hasDates)return(0,S.Ux)(this.start,this.end)}},{kind:"method",key:"navigateToStart",value:function navigateToStart(){var e,t;this._innerStart&&null!==(e=this.calendarWidget)&&void 0!==e&&e._views&&(null===(t=this.calendarWidget)||void 0===t||t.navigate(this._innerStart,"month"))}},{kind:"method",key:"todayClick",value:function todayClick(){let e=new Date;this._innerStart=(0,S.$Y)(e),this._innerEnd=(0,S.h3)(e),this._setFilterByCurrentDates(),this._selectRange(),this.navigateToStart()}},{kind:"method",key:"openMenu",value:function openMenu(e,t){this._reopenMenuPromise=(async()=>{await this._$mdMenu.hide(),e.open(t),this._$timeout((()=>{this._selectRange();let e=(C()(".pw-js-date-picker-range-content").innerWidth()-C()(".pw-js-date-picker-range-btn").innerWidth())/2;C()(".pw-js-date-picker-range-content").css("transform",`translateX(-${e}px)`)}),0,!1)})()}},{kind:"method",key:"applyDates",value:function applyDates(){this.start=this._innerStart,this.end=this._innerEnd}},{kind:"method",key:"closeMenu",value:async function closeMenu(){await this._reopenMenuPromise,this._$mdMenu.hide()}},{kind:"method",key:"_selectRange",value:function _selectRange(){var e,t;this._innerStart||this._innerEnd?null===(e=this.calendarWidget)||void 0===e||e.selectRange({start:this._innerStart,end:this._innerEnd}):null===(t=this.calendarWidget)||void 0===t||t.clearSelection()}},{kind:"method",key:"_setFilterByCurrentDates",value:function _setFilterByCurrentDates(){var e,t;let r=this._innerStart||this._start,i=this._innerEnd||this._end;r&&i&&(this.selectedFilter=null!==(e=E()(t=this.quickFilters).call(t,(e=>{if(!e.getInterval)return!1;let{start:t,end:n}=e.getInterval();return(0,S.rs)(r,t)&&(0,S.rs)(i,n)})))&&void 0!==e?e:this.quickFilters[2])}}]}}))},12784:(e,t,r)=>{r.d(t,{S:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(86981),w=r.n(_),D=r(35820),E=r.n(D),b=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const C=new Date(1900,0,1,0,0,0),S=new Date(2099,11,31,23,59,59);let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,b.SG)(["$element","$scope","$timeout","$mdMenu"])],(function(e){return{F:class DateTimePickerController{constructor(t,r,i,n){var o;e(this),this._$element=t,this._$scope=r,this._$timeout=i,this._$mdMenu=n,this._wrapperElement=this._$element.children(".pw-date-time-picker"),this._dateInputElement=w()(o=this._$element).call(o,".pw-js-date-input"),this._reopenMenuPromise=E().resolve()}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"dateTimePickerCtrl"}},{kind:"field",key:"isDisabled",value:void 0},{kind:"field",key:"_minDate",value:void 0},{kind:"field",key:"_maxDate",value:void 0},{kind:"field",key:"dateFormat",value:()=>"Dm"},{kind:"get",key:"calendarWidgetOptions",value:function calendarWidgetOptions(){return{weekNumber:this.weekNumber,close:()=>{this.closeMenu()}}}},{kind:"get",key:"placeholder",value:function placeholder(){return this._placeholder}},{kind:"set",key:"placeholder",value:function placeholder(e){this.placeholder!==e&&(this._placeholder=e,this.date||this._$timeout((()=>this._dateInputElement.trigger("resize")),0,!1))}},{kind:"get",key:"date",value:function date(){return this._date}},{kind:"set",key:"date",value:function date(e){e?(this._date=(0,b.q_)(e,this.date||e),this._date<this.minDate&&(this._date=this.minDate),this._date>this.maxDate&&(this._date=this.maxDate)):this._$scope.$evalAsync((()=>this._date=new Date(this._date)))}},{kind:"get",key:"dateString",value:function dateString(){return kendo.toString(this.date,this.dateFormat)}},{kind:"set",key:"dateString",value:function dateString(e){let t=(0,b.q_)(kendo.parseDate(e,this.dateFormat),this.date);if(t){kendo.toString(t,this.dateFormat)===e&&(this.date=t)}}},{kind:"get",key:"minDate",value:function minDate(){return this._minDate||C}},{kind:"get",key:"maxDate",value:function maxDate(){return this._maxDate||S}},{kind:"get",key:"time",value:function time(){return this._date}},{kind:"set",key:"time",value:function time(e){e?(this._date=e,this._date<this.minDate&&(this._date=this.minDate),this._date>this.maxDate&&(this._date=this.maxDate),(0,b.Tw)(this._wrapperElement)):this._$scope.$evalAsync((()=>this._date=new Date(this._date)))}},{kind:"get",key:"showDuration",value:function showDuration(){return this._showDuration}},{kind:"get",key:"minTime",value:function minTime(){return this._minDate&&0===(0,b.i2)(this.date,this.minDate)?this.minDate:(0,b.$Y)(this.date)}},{kind:"get",key:"maxTime",value:function maxTime(){return this._showDuration=!1,this._maxDate&&0===(0,b.i2)(this.date,this.maxDate)?(this._showDuration=!0,this.maxDate):this._minDate&&0===(0,b.i2)(this.date,this.minDate)?(this._showDuration=!0,(0,b.E4)(this.minDate,1)):this.minTime}},{kind:"method",key:"openMenu",value:function openMenu(e,t){this._reopenMenuPromise=(async()=>{await this._$mdMenu.hide(),e.open(t)})()}},{kind:"method",key:"closeMenu",value:async function closeMenu(){await this._reopenMenuPromise,this._$mdMenu.hide()}},{kind:"method",key:"selectDateInputContent",value:function selectDateInputContent(){this.isDisabled||this._dateInputElement[0].selectionEnd-this._dateInputElement[0].selectionStart==0&&this._dateInputElement.trigger("select")}}]}}))},69117:(e,t,r)=>{r.d(t,{o:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(35820),E=r.n(D),b=r(29704),C=r(46930);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const S=["d","Dm","D","m","M"];let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,b.SG)(["$element","$scope","$timeout","$mdMenu"])],(function(e){return{F:class DateTimePickerRangeController{constructor(t,r,i,n){e(this),this._$element=t,this._$scope=r,this._$timeout=i,this._$mdMenu=n,this._wrapperElement=this._$element.children(".pw-date-time-picker-range"),this._reopenMenuPromise=E().resolve()}},d:[{kind:"field",key:"showCloseButton",value:void 0},{kind:"field",key:"useFullDateFormat",value:void 0},{kind:"field",key:"weekNumber",value:void 0},{kind:"field",key:"changeDates",value:void 0},{kind:"field",key:"removeDates",value:void 0},{kind:"field",key:"isDisabled",value:void 0},{kind:"field",key:"isSingleDate",value:void 0},{kind:"field",key:"_defaultDateRangeMode",value:void 0},{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"dateTimePickerRangeCtrl"}},{kind:"get",key:"defaultDateRangeMode",value:function defaultDateRangeMode(){return!this.isSingleDate&&this._defaultDateRangeMode}},{kind:"get",key:"hasDates",value:function hasDates(){return(0,b.qb)(this.start)&&(0,b.qb)(this.end)}},{kind:"get",key:"shortDate",value:function shortDate(){if(this.hasDates)return(0,b.kC)(this.start,this.end)}},{kind:"get",key:"fullDate",value:function fullDate(){if(this.hasDates)return(0,b.KA)(this.start,this.end,!0)}},{kind:"method",key:"onRemoveDatesClick",value:function onRemoveDatesClick(){this._removeDates()}},{kind:"method",key:"openMenu",value:function openMenu(e,t){this._reopenMenuPromise=(async()=>{await this._$mdMenu.hide(),e.open(t),this._startDateString=null,this._endDateString=null,this._isDateRangeMode=this.start&&this.end?!(0,b.KC)(this.start,this.end):this.defaultDateRangeMode,this.start&&this.end||(this._isOnlyDate=!0),this._$timeout((()=>this._selectRange()),0,!1)})()}},{kind:"method",key:"closeMenu",value:async function closeMenu(){await this._reopenMenuPromise,this._$mdMenu.hide()}},{kind:"method",key:"navigateToStart",value:function navigateToStart(){var e,t;this.start&&null!==(e=this.calendarWidget)&&void 0!==e&&e._views&&(null===(t=this.calendarWidget)||void 0===t||t.navigate((0,b.$Y)(this.start),"month"))}},{kind:"get",key:"calendarWidget",value:function calendarWidget(){return this._calendarWidget}},{kind:"set",key:"calendarWidget",value:function calendarWidget(e){this._calendarWidget=e,this.navigateToStart()}},{kind:"get",key:"calendarWidgetOptions",value:function calendarWidgetOptions(){return{selectable:this.isDateRangeMode&&!this.isSingleDate?"range":"single",range:{start:this.start,end:this.end},weekNumber:this.weekNumber,footer:!1,change:e=>{let t,r;this.isSingleDate||!this.isDateRangeMode?(t=e.sender.value(),r=t):({start:t,end:r}=e.sender.selectRange()),this._$scope.$evalAsync((()=>{t&&(this._start=this.isOnlyDate||!this.start?new Date(t):(0,b.q_)(new Date(t),this.start),this._startDateString=null),r&&(this._end=this.isOnlyDate||!this.end?new Date(r):(0,b.q_)(new Date(r),this.end),this._endDateString=null),t&&r&&this._changeDates()}))},close:()=>{this.closeMenu()}}}},{kind:"get",key:"minDate",value:function minDate(){return new Date(1900,0,1)}},{kind:"get",key:"maxDate",value:function maxDate(){return new Date(2100,0,1)}},{kind:"get",key:"start",value:function start(){return this._start}},{kind:"set",key:"start",value:function start(e){this._start=this.isOnlyDate||!this.start?new Date(e):(0,b.q_)(new Date(e),this.start),this._startDateString=null}},{kind:"get",key:"startDateString",value:function startDateString(){return this._startDateString||(this._startDateString=this.start?kendo.toString(this.start,"d"):""),this._startDateString}},{kind:"set",key:"startDateString",value:function startDateString(e){let t=this.start?(0,b.q_)(kendo.parseDate(e,S),this.start):kendo.parseDate(e,S),r=this._getCalculatedEndDate(this.start,t);t&&(this.start=this._correctInputDate(t),this.end=this._correctInputDate(r),this._$timeout((()=>{this._selectRange(),this.navigateToStart()}),0,!1))}},{kind:"method",key:"clearStart",value:function clearStart(){this._startDateString=null,this.start&&(this.endDateString?(this.isDateRangeMode=!1,this._start=this.end,this.end=this._end,this._$timeout((()=>this._selectRange()),0,!1)):this._removeDates())}},{kind:"get",key:"end",value:function end(){return this._end}},{kind:"set",key:"end",value:function end(e){!this.isOnlyDate||!this.isSingleDate&&this.isDateRangeMode||(this.start=e),this._end=this.isOnlyDate||!this.end?new Date(e):(0,b.q_)(new Date(e),this.end),this.end<this.start&&(this._end=this.start),this._endDateString=null,this._changeDates()}},{kind:"get",key:"endDateString",value:function endDateString(){return this._endDateString||(this._endDateString=this.end?kendo.toString(this.end,"d"):""),this._endDateString}},{kind:"set",key:"endDateString",value:function endDateString(e){let t=this.end?(0,b.q_)(kendo.parseDate(e,S),this.end):kendo.parseDate(e,S);t&&(this.isDateRangeMode&&this.start?(this.startDateString||(this.start=this._correctInputDate(t)),(0,b.Ax)(this.start,t)?this.end=this._correctInputDate(this.start):this.end=this._correctInputDate(t)):(this.end=this._correctInputDate(t),this.start=this._correctInputDate(t)),this._$timeout((()=>this._selectRange()),0,!1))}},{kind:"method",key:"clearEnd",value:function clearEnd(){this._endDateString=null,this.end&&(this.startDateString&&this.isDateRangeMode&&!this.isSingleDate?(this.isDateRangeMode=!1,this.end=this.start,this._$timeout((()=>this._selectRange()),0,!1)):this._removeDates())}},{kind:"get",key:"isDateRangeMode",value:function isDateRangeMode(){return this._isDateRangeMode}},{kind:"set",key:"isDateRangeMode",value:function isDateRangeMode(e){this._isDateRangeMode=e}},{kind:"method",key:"onAddDateRangeClick",value:function onAddDateRangeClick(){this.isDateRangeMode=!0,this.end&&(this.start=this.end,this._$timeout((()=>{var e;return null===(e=this.calendarWidget)||void 0===e?void 0:e.selectRange({start:this.start})}),0,!1))}},{kind:"method",key:"onRemoveStartDateClick",value:function onRemoveStartDateClick(){this.clearStart(),this.isDateRangeMode=!1}},{kind:"get",key:"isOnlyDate",value:function isOnlyDate(){return this._isOnlyDate}},{kind:"set",key:"isOnlyDate",value:function isOnlyDate(e){this._isOnlyDate=e,this.isOnlyDate?(this._start=(0,b.$Y)(this.start),this._end=(0,b.$Y)(this.end)):(this._start=(0,b.nT)(this.start),this.isSingleDate?this._end=this.start:this._end=(0,b.mH)(this.start,C.XM)),this._changeDates()}},{kind:"method",key:"onAddTimeClick",value:function onAddTimeClick(){this.start||(this._start=new Date,this._startDateString=null,this._$timeout((()=>this._selectRange()),0,!1)),this.isOnlyDate=!1}},{kind:"method",key:"onRemoveTimeClick",value:function onRemoveTimeClick(){this.isOnlyDate=!0}},{kind:"get",key:"minStartTime",value:function minStartTime(){return(0,b.$Y)(this.startTime)}},{kind:"get",key:"maxStartTime",value:function maxStartTime(){return this.minStartTime}},{kind:"get",key:"startTime",value:function startTime(){return this._start}},{kind:"set",key:"startTime",value:function startTime(e){let t=this.isSingleDate?new Date(e):this._getCalculatedEndDate(this.start,new Date(e));this._start=new Date(e),this._end=t,this._endDateString=null,this._changeDates(),(0,b.KC)(this.start,this.end)||(this.isDateRangeMode=!0)}},{kind:"get",key:"minEndTime",value:function minEndTime(){return(0,b.KC)(this.startTime,this.endTime)?this.startTime:(0,b.$Y)(this.endTime)}},{kind:"get",key:"maxEndTime",value:function maxEndTime(){return this._showDuration=!1,(0,b.KC)(this.startTime,this.endTime)?(this._showDuration=!0,(0,b.h3)(this.startTime)):this.minEndTime}},{kind:"get",key:"endTime",value:function endTime(){return this._end}},{kind:"set",key:"endTime",value:function endTime(e){this._end=new Date(e),this._changeDates(),(0,b.Tw)(this._wrapperElement)}},{kind:"get",key:"showDuration",value:function showDuration(){return this._showDuration}},{kind:"method",key:"_correctInputDate",value:function _correctInputDate(e){switch(!0){case(0,b.Ax)(e,this.maxDate):return this.isOnlyDate?this.maxDate:(0,b.q_)(this.maxDate,e);case(0,b.Ax)(this.minDate,e):return this.isOnlyDate?this.minDate:(0,b.q_)(this.minDate,e);default:return e}}},{kind:"method",key:"_changeDates",value:function _changeDates(){this.changeDates({isOnlyDate:this.isOnlyDate,start:this.start,end:this.end,rollbackDates:(e,t,r)=>{this._isOnlyDate=e,this._start=t,this._startDateString=null,this._end=r,this._endDateString=null}})}},{kind:"method",key:"_removeDates",value:function _removeDates(){var e;this.removeDates(),this._start=null,this._end=null,this._startDateString=null,this._endDateString=null,this._isDateRangeMode=this.defaultDateRangeMode,null===(e=this.calendarWidget)||void 0===e||e.clearSelection()}},{kind:"method",key:"_selectRange",value:function _selectRange(){var e;if(this.start||this.end)if(this.isSingleDate||!this.isDateRangeMode){var t;null===(t=this.calendarWidget)||void 0===t||t.value(this.start)}else{var r;null===(r=this.calendarWidget)||void 0===r||r.selectRange({start:this.start,end:this.end})}else null===(e=this.calendarWidget)||void 0===e||e.clearSelection()}},{kind:"method",key:"_getCalculatedEndDate",value:function _getCalculatedEndDate(e,t){if(!this.end)return t;if(this.isOnlyDate){let r=(0,b.i2)(e,this.end);return(0,b.E4)(t,r)}let r=(0,b.CX)(e,this.end);return(0,b.mH)(t,r)}}]}}))},74874:(e,t,r)=>{r.d(t,{o:()=>S});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(26881),k=r(88946),g=r.n(k),_=r(86981),w=r.n(_),D=r(19755),E=r.n(D),b=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return g()(t=(0,y.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:g()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const C=(0,b.$Y)(new Date("2020-09-03"));let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(g()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,b.SG)(["$element","$scope","$timeout","$mdMenu"])],(function(e){return{F:class DurationPickerController{constructor(t,r,i,n){e(this),this._$element=t,this._$scope=r,this._$timeout=i,this._$mdMenu=n,this._wrapperElement=this._$element.children(".pw-duration-picker")}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"durationPickerCtrl"}},{kind:"field",key:"pickerFormat",value:void 0},{kind:"field",key:"isDisabled",value:void 0},{kind:"field",key:"placeholder",value:void 0},{kind:"field",key:"autocorrectMenuPosition",value:()=>!0},{kind:"field",key:"autoscrollParent",value:()=>!0},{kind:"field",key:"_isDuration",value:void 0},{kind:"field",key:"_start",value:void 0},{kind:"field",key:"_end",value:void 0},{kind:"field",key:"_maxEnd",value:void 0},{kind:"field",key:"_focusOnCreate",value:void 0},{kind:"field",key:"_openAfterCreate",value:void 0},{kind:"method",key:"onTimePickerMousedown",value:function onTimePickerMousedown(e){if(this.isDuration){var t;this.isDuration=!1;let r=E()(e.target).closest("md-menu-content"),i=g()(t=e.target.className.split(" ")).call(t,(e=>`.${e}`)).join("");this._$timeout((()=>w()(r).call(r,i).trigger("focus")),0,!1)}}},{kind:"get",key:"calendarWidget",value:function calendarWidget(){return this._calendarWidget}},{kind:"set",key:"calendarWidget",value:function calendarWidget(e){this._calendarWidget=e}},{kind:"get",key:"calendarWidgetOptions",value:function calendarWidgetOptions(){return{weekNumber:this.weekNumber,footer:!1,change:e=>{this._$scope.$evalAsync((()=>{this._start=e.sender.value(),this._end=(0,b.q_)(this._start,this.durationTime),this._minStart=null,this._maxStart=null,this._minEnd=null}))},close:()=>{this.closeMenu()}}}},{kind:"get",key:"isDuration",value:function isDuration(){return this._isDuration}},{kind:"set",key:"isDuration",value:function isDuration(e){this._isDuration!==e&&(this._isDuration=e,this._$timeout((()=>{var e;return null===(e=this.calendarWidget)||void 0===e?void 0:e.value(this._start)}),0,!1))}},{kind:"get",key:"start",value:function start(){return this.isDuration?"":this._start}},{kind:"get",key:"minStart",value:function minStart(){return this._minStart||(this._minStart=(0,b.$Y)(this._start)),this._minStart}},{kind:"get",key:"maxStart",value:function maxStart(){return this._maxStart||(this._maxStart=(0,b.h3)(this._start)),this._maxStart}},{kind:"set",key:"start",value:function start(e){e&&(this._start=e,this._minStart=null,this._maxStart=null,this._minEnd=null)}},{kind:"get",key:"end",value:function end(){return this.isDuration?"":this._end}},{kind:"set",key:"end",value:function end(e){e&&(this._end=e)}},{kind:"get",key:"minEnd",value:function minEnd(){return this._start}},{kind:"get",key:"maxEnd",value:function maxEnd(){return this._maxEnd}},{kind:"get",key:"durationMinutes",value:function durationMinutes(){return this._durationMinutes}},{kind:"set",key:"durationMinutes",value:function durationMinutes(e){this.durationMinutes!==e&&(this._durationMinutes=e,this._durationTime=null)}},{kind:"get",key:"durationTime",value:function durationTime(){return this._durationTime||(this._durationTime=(0,b.mH)(C,this.durationMinutes)),this._durationTime}},{kind:"set",key:"durationTime",value:function durationTime(e){e&&!(0,b.rs)(this.durationTime,e)&&(this._durationTime=e,this._durationMinutes=(0,b.CX)(C,e),(0,b.Tw)(this._wrapperElement))}},{kind:"get",key:"minDurationTime",value:function minDurationTime(){return C}},{kind:"get",key:"maxDurationTime",value:function maxDurationTime(){return this._maxDurationTime||(this._maxDurationTime=(0,b.h3)(this.minDurationTime)),this._maxDurationTime}},{kind:"get",key:"focusOnCreate",value:function focusOnCreate(){return this._focusOnCreate}},{kind:"get",key:"openAfterCreate",value:function openAfterCreate(){return this._openAfterCreate}},{kind:"method",key:"removeTime",value:function removeTime(){this.isDuration=!0}},{kind:"method",key:"openMenu",value:function openMenu(e,t){this.isDisabled||"duration"!==this.pickerFormat&&(this._$timeout((()=>{var e;return w()(e=this._wrapperElement).call(e,".pw-js-duration-picker-time-picker").trigger("focus")}),0,!1),this._reopenMenuPromise=(async()=>{await this._$mdMenu.hide(),e.open(t),this._$timeout((()=>{var e;return null===(e=this.calendarWidget)||void 0===e?void 0:e.value(this._start)}),0,!1)})())}}]}}))},76029:(e,t,r)=>{r.d(t,{B:()=>D});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let D=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,r(29704).SG)(["mdPanelRef","attachment"])],(function(e){return{F:class EditAttachmentDialogController{constructor(t,r){e(this),this._mdPanelRef=t,this._type=r.type,this._url=r.url,this._name=r.name}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"editAttachmentDialogCtrl"}},{kind:"get",key:"type",value:function type(){return this._type}},{kind:"get",key:"url",value:function url(){return this._url}},{kind:"set",key:"url",value:function url(e){this._url=e}},{kind:"get",key:"name",value:function name(){return this._name}},{kind:"set",key:"name",value:function name(e){this._name=e}},{kind:"get",key:"isSaveAvailable",value:function isSaveAvailable(){switch(this.type){case"file":return!!this.name;case"link":return!!this.url}}},{kind:"method",key:"save",value:function save(){if(!this.name)switch(this.type){case"file":return;case"link":this.name=this.url}this._mdPanelRef&&this._mdPanelRef.close("success")}},{kind:"method",key:"hideDialog",value:function hideDialog(){this._mdPanelRef.close()}}]}}))},41092:(e,t,r)=>{r.d(t,{Z:()=>V});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(62079),_=r.n(g),w=r(52020),D=r.n(w),E=r(73324),b=r.n(E),C=r(88546),S=r.n(C),P=r(66775),T=r.n(P),A=r(2201),z=r.n(A),I=r(26171),x=r(26881),R=r(86981),$=r.n(R),F=r(61539),N=r.n(F),M=r(88106),O=r.n(M),L=r(35820),W=r.n(L),K=r(19755),B=r.n(K),G=r(69843),H=r(56777),j=(r(46930),r(8937)),U=r(29704);function ownKeys(e,t){var r=_()(e);if(D()){var i=D()(e);t&&(i=b()(i).call(i,(function(t){return S()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,x.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let V=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=$()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,U.SG)(["$element","$scope","$window","$timeout","$mdPanel","appCommonSrv","htmlHelperSrv","telemetrySrv","mdPanelRef","calendarCard","cardElement","cardTypes","isDetailed","forceDetailedMode","hasChanges","openerContext","scrollToCommentId"])],(function(e){return{F:class EditCardDialogController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m,v,y){var k;e(this),this._$element=t,this._$scope=r,this._$window=i,this._$timeout=n,this._$mdPanel=o,this._appCommonSrv=s,this._htmlHelperSrv=a,this._telemetrySrv=l,this._mdPanelRef=c,this._calendarCard=d.isTempCard?d:d.clone(),this._cardElement=u,this._cardTypes=p,this._isDetailed=h,this._forceDetailedMode=f,this._hasChanges=null!=m&&m,this._openerContext=v,this._scrollToCommentId=y,this._dialogPosition=this._createDialogPosition(),this._mdPanelRef.config.position=this._dialogPosition,this._$scope.$watch((()=>this._mdPanelRef.innerWrapper.height()),((e,t)=>{var r;if(this.isDetailed)return;let{innerWrapper:i,panelContainer:n}=this._mdPanelRef;if("above"===(null===(r=this._dialogPosition.getActualPosition())||void 0===r?void 0:r.y)&&t){var o;let r=(null!==(o=this._rawTop)&&void 0!==o?o:i.offset().top)-e+t;r<8?(this._rawTop=r,i.offset({top:8})):(this._rawTop=null,i.offset({top:r}))}e>n.height()?i.offset({top:8}):i.offset().top+e>=n.height()&&i.offset({top:n.height()-i.height()-8})})),this._$scope.$on(j.FK.CardDialogSwitchDetailedModeRequested,(async(e,t)=>{var r;await this._switchDetailedModeAsync(),null==t||null===(r=t.resolve)||void 0===r||r.call(t),(0,U.Tw)(this._mdPanelRef.panelEl)})),this._$scope.$on(j.FK.CardDialogSetHasChangesRequested,((e,t)=>{this._hasChanges=t.hasChanges,this.hasChanges&&!this.calendarCard.isTempCard&&(this._dialogResult=j.Xs.CardEdited)})),this._$scope.$on(j.FK.CardDialogKeepScrollFocusRequested,(()=>this._keepScrollFocus())),this._$scope.$on(j.FK.CardDialogHideRequested,((e,t)=>this.hideDialog(t.dialogResult))),this._$scope.$on(j.FK.CardDialogLogCardEventRequested,((e,t)=>this._logCardEvent(t))),$()(k=this._$element).call(k,".md-panel").on("keydown",(e=>this._$scope.$broadcast(j.FK.CardDialogKeyDown,{keyboardEvent:e}))),this._$element.on("wheel",".pw-dialog",(e=>e.stopPropagation()));const g=this._$scope.$watch((()=>this._mdPanelRef.panelEl),(e=>{g();const adaptDialogMode=()=>{e.toggleClass("pw-dialog-edit-card--detailed",this.isDetailed).toggleClass("pw-dialog-edit-card--compact",!this.isDetailed)};adaptDialogMode(),this._$scope.$watch((()=>this.isDetailed),(()=>adaptDialogMode()));const adaptDialogDense=()=>{let t=this._$window.innerWidth<774;this._$scope.$evalAsync((()=>this._isDense=t)),e.toggleClass("pw-dialog-edit-card--dense",t),this._$scope.$broadcast("md-resize-textarea")};adaptDialogDense(),this._resizeSensor=new G.ResizeSensor(e,(()=>adaptDialogDense()))}));this._$scope.$on("$destroy",(()=>{var e;null===(e=this._resizeSensor)||void 0===e||e.detach()}))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"editCardDialogCtrl"}},{kind:"get",key:"calendarCard",value:function calendarCard(){return this._calendarCard}},{kind:"get",key:"cardEditorHtml",value:function cardEditorHtml(){return(0,H.VH)(this._calendarCard.providerType).getCardEditorHtml()}},{kind:"get",key:"cardTypes",value:function cardTypes(){return this._cardTypes}},{kind:"get",key:"isDetailed",value:function isDetailed(){return this._forceDetailedMode||this._isDetailed}},{kind:"set",key:"isDetailed",value:function isDetailed(e){e!==this.isDetailed&&this._switchDetailedModeAsync()}},{kind:"get",key:"forceDetailedMode",value:function forceDetailedMode(){return this._forceDetailedMode}},{kind:"get",key:"hasChanges",value:function hasChanges(){return this._hasChanges}},{kind:"get",key:"isDense",value:function isDense(){return this._isDense&&this.isDetailed}},{kind:"get",key:"openerContext",value:function openerContext(){return this._openerContext}},{kind:"get",key:"scrollToCommentId",value:function scrollToCommentId(){return this._scrollToCommentId}},{kind:"method",key:"registerCardEditorControllerAsync",value:function registerCardEditorControllerAsync(e){this._$editorCtrl=e}},{kind:"get",key:"preventEscape",value:function preventEscape(){var e;return null===(e=this._$editorCtrl)||void 0===e?void 0:e.preventEscape}},{kind:"get",key:"dialogResult",value:function dialogResult(){return this._dialogResult}},{kind:"method",key:"confirmCloseAsync",value:function confirmCloseAsync(){return(0,U.Tw)(this._mdPanelRef.panelEl),!this._$editorCtrl||!this._$editorCtrl.confirmCloseAsync||this._$editorCtrl.confirmCloseAsync()}},{kind:"method",key:"hideDialog",value:function hideDialog(e){!e||this._dialogResult&&e===j.Xs.Cancelled||(this._dialogResult=e),this._mdPanelRef.close()}},{kind:"method",key:"_createDialogPosition",value:function _createDialogPosition(){if(this.isDetailed)return this._$mdPanel.newPanelPosition().absolute().centerHorizontally().top("0");if(this._cardElement&&this._htmlHelperSrv.isElementOnScreen(this._cardElement,!1)){let e=this._$mdPanel.newPanelPosition().relativeTo(this._cardElement);this.openerContext.setupCompactDialogPosition(e);const t=e._calculatePanelPosition;return e._calculatePanelPosition=function(){for(var e,r,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];t.apply(this,n),null!==(e=this._top)&&void 0!==e&&N()(e).call(e,"px")&&(this._top=`${O()(this._top,10)}px`),null!==(r=this._left)&&void 0!==r&&N()(r).call(r,"px")&&(this._left=`${O()(this._left,10)}px`)},e}return this._$mdPanel.newPanelPosition().relativeTo(B()("body")).addPanelPosition(this._$mdPanel.xPosition.CENTER,this._$mdPanel.yPosition.CENTER)}},{kind:"method",key:"_switchDetailedModeAsync",value:function _switchDetailedModeAsync(){return new(W())((e=>this._$timeout((()=>{this._isDetailed=!this.isDetailed,this._cardElement&&!this._htmlHelperSrv.isElementOnScreen(this._cardElement,!1)&&this.openerContext.reattachCardElement&&(this._cardElement=this.openerContext.reattachCardElement(this._cardElement)),this.isDetailed?(this._mdPanelRef.panelContainer.addClass("pw-dialog-backdrop"),this._mdPanelRef.panelContainer.css("pointer-events",""),this._mdPanelRef.panelEl.css("pointer-events","")):(this._mdPanelRef.panelContainer.removeClass("pw-dialog-backdrop"),this._mdPanelRef.panelContainer.css("pointer-events","none"),this._mdPanelRef.panelEl.css("pointer-events","all")),this._dialogPosition=this._createDialogPosition(),this._mdPanelRef.updatePosition(this._dialogPosition),this._$timeout((()=>{this._$scope.$broadcast("md-resize-textarea"),this._$scope.$broadcast(j.FK.AutosizeControlsResizeRequested),e()}),0,!1)}))))}},{kind:"method",key:"_keepScrollFocus",value:function _keepScrollFocus(){B()(this._$window.document.activeElement).parents(".pw-dialog-edit-card")[0]||(0,U.Tw)(this._mdPanelRef.panelEl)}},{kind:"method",key:"_logCardEvent",value:function _logCardEvent(e){this._telemetrySrv.logSessionEvent(e.event,function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?l()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,I.Z)(e,t,n[t])})):T()?z()(e,T()(n)):l()(i=ownKeys(Object(n))).call(i,(function(t){d()(e,t,S()(n,t))}))}return e}({cardType:this.calendarCard.cardType,cardRole:this.calendarCard.cardRole,isNewCard:this.calendarCard.isTempCard,isAllDay:this.calendarCard.isAllDay,start:this.calendarCard.start,end:this.calendarCard.end,recurrenceRule:this.calendarCard.recurrenceRule,priority:this.calendarCard.providerCard.priority,where:this.openerContext.telemetryWhere,by:j.AH.Dialog,isEditDialogDetailed:this.isDetailed},e.data))}}]}}))},46579:(e,t,r)=>{r.d(t,{M:()=>O});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(62079),D=r.n(w),E=r(52020),b=r.n(E),C=r(73324),S=r.n(C),P=r(88546),T=r.n(P),A=r(66775),z=r.n(A),I=r(2201),x=r.n(I),R=r(26171),$=r(26881),F=r(56777),N=r(8937),M=r(20115);function ownKeys(e,t){var r=D()(e);if(b()){var i=b()(e);t&&(i=S()(i).call(i,(function(t){return T()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?l()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,R.Z)(e,t,n[t])})):z()?x()(e,z()(n)):l()(i=ownKeys(Object(n))).call(i,(function(t){d()(e,t,T()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,$.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let O=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,r(29704).SG)(["$scope","$sce","$log","$translate","appCommonSrv","dialogSrv","notificationSrv","planywayIntegrationSrv","platformSrv","telemetrySrv","mdPanelRef","canClose"])],(function(e){return{F:class LoginDialogController{constructor(t,r,i,n,o,s,a,l,c,d,u,p){e(this),this._$scope=t,this._$sce=r,this._$log=i,this._$translate=n,this._appCommonSrv=o,this._dialogSrv=s,this._notificationSrv=a,this._planywayIntegrationSrv=l,this._platformSrv=c,this._telemetrySrv=d,this._mdPanelRef=u,this._canClose=p}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"loginDialogCtrl"}},{kind:"get",key:"isBusy",value:function isBusy(){return this._isBusy}},{kind:"set",key:"isBusy",value:function isBusy(e){this._$scope.$evalAsync((()=>this._isBusy=e))}},{kind:"get",key:"canClose",value:function canClose(){return this._canClose}},{kind:"get",key:"authorizeConsent",value:function authorizeConsent(){return this._$sce.trustAsHtml(this._$translate.instant("MISC.SIGN_IN_CONSENT",{termsOfUseUrl:M.lQ,privacyPolicyUrl:M.hO}))}},{kind:"get",key:"authProviders",value:function authProviders(){if(!this._authProviders){const e=N.Xq[F.xT];this._authProviders=[_objectSpread(_objectSpread({},e),{},{text:this._$translate.instant(e.text)})]}return this._authProviders}},{kind:"get",key:"authControlsSize",value:function authControlsSize(){return N.wT.Large}},{kind:"method",key:"authorizeAsync",value:async function authorizeAsync(e){try{this.isBusy=!0,await this._planywayIntegrationSrv.signInAsync(e)&&(this._mdPanelRef.close("success"),this._platformSrv.reloadAppAsync(!0))}finally{this.isBusy=!1}}},{kind:"get",key:"helpUrl",value:function helpUrl(){return M.o5}},{kind:"method",key:"onHelpClick",value:function onHelpClick(){this._telemetrySrv.logSingleEvent(N.cN.GeneralEvents.HelpClicked)}},{kind:"method",key:"showFeedbackDialog",value:function showFeedbackDialog(){this._telemetrySrv.logSingleEvent(N.cN.FeedbackEvents.FeedbackOpened,{where:N.z.LoginDialog}),this._dialogSrv.showFeedbackDialogAsync()}},{kind:"method",key:"cancelDialog",value:function cancelDialog(){this._mdPanelRef.close()}}]}}))},34144:(e,t,r)=>{r.d(t,{j:()=>z});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(86981),w=r.n(_),D=r(31082),E=r.n(D),b=r(13572),C=r(8937),S=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const P=16,T={[C.sF.Scheduler]:650,[C.sF.WorkPanel]:360},A={[C.sF.Scheduler]:140,[C.sF.WorkPanel]:140};let z=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,S.SG)(["$element","$scope","$timeout","appCommonSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class MainContainerController{constructor(t,r,i,n,o,s){var a;e(this),this._$element=t,this._$scope=r,this._$timeout=i,this._appCommonSrv=n,this._settingsSrv=o,this._telemetrySrv=s,this._containerElement=w()(a=this._$element).call(a,".pw-main-container");const applyContainerMinSize=()=>{let e=this._appCommonSrv.getExpandedLayoutPanel();switch(this._appCommonSrv.getLayoutOrientation()){case C.BF.Horizontal:case C.BF.HorizontalReverse:this._containerElement.css({"--minWidth":`${e?T[e]:Math.max(...E()(T))}px`});break;case C.BF.Vertical:case C.BF.VerticalReverse:this._containerElement.css({"--minWidth":`${e?T[e]:T[C.sF.WorkPanel]+P+T[C.sF.Scheduler]}px`})}},createSplitter=()=>{this._splitter&&this._splitter.destroy();const{direction:e,minSizesPx:t,getSizes:r,setSizes:i}=this._getSplitterConfig();this._initializeSplitter(e,t,r(),(e=>{this._$scope.$evalAsync((()=>{i(e),this._collectionSettings.local.save()}))}))},ensurePanelsMinSize=()=>{const{getContainerSizePx:e,minSizesPx:t,getSizes:r,setSizes:i}=this._getSplitterConfig();let n=e(),o=r();for(let e=0;e<2;e++){if(n*o[e]/100-8<t[e]){var s;let r=(t[e]+8)/n*100,o=0===e?[r,100-r]:[100-r,r];return null===(s=this._splitter)||void 0===s||s.setSizes(o),void this._$scope.$evalAsync((()=>{i(o),this._collectionSettings.local.save()}))}}};this._$scope.$on(C.FK.CollectionChanging,(()=>{this._schedulerWidthLazy=void 0,this._schedulerHeightLazy=void 0,this._workPanelWidthLazy=void 0,this._workPanelHeightLazy=void 0,applyContainerMinSize(),createSplitter(),ensurePanelsMinSize()})),this._$scope.$watch((()=>this._appCommonSrv.getLayoutOrientation()),(()=>{applyContainerMinSize(),createSplitter(),ensurePanelsMinSize()})),this._$scope.$watch((()=>this._appCommonSrv.getExpandedLayoutPanel()),(e=>{applyContainerMinSize(),e||this._$timeout((()=>{createSplitter(),ensurePanelsMinSize()}))}));for(let e of[C.FK.ResizeListenerWindowResized,C.FK.ResizeListenerElementResized])this._$scope.$on(e,((e,t)=>{if(t.targetElement!==this._$element)return;this._appCommonSrv.getExpandedLayoutPanel()||ensurePanelsMinSize()}))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"mainContainerCtrl"}},{kind:"get",key:"mainContainerExtraClasses",value:function mainContainerExtraClasses(){let e=[];switch(this._appCommonSrv.getLayoutOrientation()){case C.BF.Horizontal:e.push("pw-main-container--orientation_horizontal");break;case C.BF.HorizontalReverse:e.push("pw-main-container--orientation_horizontal-reverse");break;case C.BF.Vertical:e.push("pw-main-container--orientation_vertical");break;case C.BF.VerticalReverse:e.push("pw-main-container--orientation_vertical-reverse")}return e.join(" ")}},{kind:"get",key:"schedulerStyles",value:function schedulerStyles(){let e=this._appCommonSrv.getExpandedLayoutPanel();if(e)return e!==C.sF.Scheduler?{display:"none"}:{display:"flex",flexGrow:"1"};switch(this._appCommonSrv.getLayoutOrientation()){case C.BF.Horizontal:case C.BF.HorizontalReverse:return{display:"flex",width:"100%",minWidth:"100%",height:`calc(${this._schedulerHeight}% - 8px)`,minHeight:`calc(${this._schedulerHeight}% - 8px)`};case C.BF.Vertical:case C.BF.VerticalReverse:return{display:"flex",width:`calc(${this._schedulerWidth}% - 8px)`,minWidth:`calc(${this._schedulerWidth}% - 8px)`,height:"100%",minHeight:"100%"}}}},{kind:"get",key:"workPanelStyles",value:function workPanelStyles(){let e=this._appCommonSrv.getExpandedLayoutPanel();if(e)return e!==C.sF.WorkPanel?{display:"none"}:{display:"flex",width:"100%",minWidth:"100%",height:"100%",minHeight:"100%"};switch(this._appCommonSrv.getLayoutOrientation()){case C.BF.Horizontal:case C.BF.HorizontalReverse:return{display:"flex",width:"100%",minWidth:"100%",height:`calc(${this._workPanelHeight}% - 8px)`,minHeight:`calc(${this._workPanelHeight}% - 8px)`};case C.BF.Vertical:case C.BF.VerticalReverse:return{display:"flex",width:`calc(${this._workPanelWidth}% - 8px)`,minWidth:`calc(${this._workPanelWidth}% - 8px)`,height:"100%",minHeight:"100%"}}}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}},{kind:"get",key:"_schedulerWidth",value:function _schedulerWidth(){return void 0===this._schedulerWidthLazy&&(this._schedulerWidthLazy=this._collectionSettings.local.settings.layout.schedulerWidth),this._schedulerWidthLazy}},{kind:"set",key:"_schedulerWidth",value:function _schedulerWidth(e){this._schedulerWidthLazy=e,this._collectionSettings.local.settings.layout.schedulerWidth=e}},{kind:"get",key:"_schedulerHeight",value:function _schedulerHeight(){return void 0===this._schedulerHeightLazy&&(this._schedulerHeightLazy=this._collectionSettings.local.settings.layout.schedulerHeight),this._schedulerHeightLazy}},{kind:"set",key:"_schedulerHeight",value:function _schedulerHeight(e){this._schedulerHeightLazy=e,this._collectionSettings.local.settings.layout.schedulerHeight=e}},{kind:"get",key:"_workPanelWidth",value:function _workPanelWidth(){return void 0===this._workPanelWidthLazy&&(this._workPanelWidthLazy=this._collectionSettings.local.settings.layout.workPanelWidth),this._workPanelWidthLazy}},{kind:"set",key:"_workPanelWidth",value:function _workPanelWidth(e){this._workPanelWidthLazy=e,this._collectionSettings.local.settings.layout.workPanelWidth=e}},{kind:"get",key:"_workPanelHeight",value:function _workPanelHeight(){return void 0===this._workPanelHeightLazy&&(this._workPanelHeightLazy=this._collectionSettings.local.settings.layout.workPanelHeight),this._workPanelHeightLazy}},{kind:"set",key:"_workPanelHeight",value:function _workPanelHeight(e){this._workPanelHeightLazy=e,this._collectionSettings.local.settings.layout.workPanelHeight=e}},{kind:"method",key:"_getSplitterConfig",value:function _getSplitterConfig(){switch(this._appCommonSrv.getLayoutOrientation()){case C.BF.Horizontal:return{direction:"vertical",getContainerSizePx:()=>Math.max(this._containerElement.height(),A[C.sF.WorkPanel]+P+A[C.sF.Scheduler]),minSizesPx:[A[C.sF.WorkPanel],A[C.sF.Scheduler]],getSizes:()=>[this._workPanelHeight,this._schedulerHeight],setSizes:e=>{let[t,r]=e;this._workPanelHeight=t,this._schedulerHeight=r}};case C.BF.HorizontalReverse:return{direction:"vertical",getContainerSizePx:()=>Math.max(this._containerElement.height(),A[C.sF.Scheduler]+P+A[C.sF.WorkPanel]),minSizesPx:[A[C.sF.Scheduler],A[C.sF.WorkPanel]],getSizes:()=>[this._schedulerHeight,this._workPanelHeight],setSizes:e=>{let[t,r]=e;this._schedulerHeight=t,this._workPanelHeight=r}};case C.BF.Vertical:return{direction:"horizontal",getContainerSizePx:()=>Math.max(this._containerElement.width(),T[C.sF.WorkPanel]+P+T[C.sF.Scheduler]),minSizesPx:[T[C.sF.WorkPanel],T[C.sF.Scheduler]],getSizes:()=>[this._workPanelWidth,this._schedulerWidth],setSizes:e=>{let[t,r]=e;this._workPanelWidth=t,this._schedulerWidth=r}};case C.BF.VerticalReverse:return{direction:"horizontal",getContainerSizePx:()=>Math.max(this._containerElement.width(),T[C.sF.Scheduler]+P+T[C.sF.WorkPanel]),minSizesPx:[T[C.sF.Scheduler],T[C.sF.WorkPanel]],getSizes:()=>[this._schedulerWidth,this._workPanelWidth],setSizes:e=>{let[t,r]=e;this._schedulerWidth=t,this._workPanelWidth=r}}}}},{kind:"method",key:"_initializeSplitter",value:function _initializeSplitter(e,t,r,i){this._splitter=(0,b.Z)([".pw-js-main-container-split-left",".pw-js-main-container-split-right"],{direction:e,sizes:r,minSize:t,expandToMin:!0,gutterSize:P,snapOffset:0,onDragEnd:i})}}]}}))},76463:(e,t,r)=>{r.d(t,{H:()=>V});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(86981),k=r.n(y),g=r(26881),_=r(59863),w=r.n(_),D=r(88946),E=r.n(D),b=r(73324),C=r.n(b),S=r(31082),P=r.n(S),T=r(27525),A=r.n(T),z=r(19755),I=r.n(z),x=r(90869),R=r.n(x),$=r(56777),F=r(8937),N=r(20115),M=r(29704),O=r(82530),L=r.n(O),W=r(69026),K=r.n(W);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return E()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:E()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const B="edit",G="share",H="addAccount",j="leave",U="delete";let V=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=k()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(E()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,M.SG)(["$element","$scope","$sce","$window","$log","$translate","appCommonSrv","chatSrv","collectionSrv","dialogSrv","licenseSrv","notificationSrv","planywayIntegrationSrv","platformSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class MainSidebarController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m,v){e(this),this._$element=t,this._$scope=r,this._$sce=i,this._$window=n,this._$log=o,this._$translate=s,this._appCommonSrv=a,this._chatSrv=l,this._collectionSrv=c,this._dialogSrv=d,this._licenseSrv=u,this._notificationSrv=p,this._planywayIntegrationSrv=h,this._platformSrv=f,this._settingsSrv=m,this._telemetrySrv=v;const onSourceChanged=()=>{this._$scope.$evalAsync((()=>{this._hasConnectedAccounts=null}))};this._$scope.$on(F.FK.AccountAdded,onSourceChanged),this._$scope.$on(F.FK.AccountDeleted,onSourceChanged),this._$scope.$on(F.FK.CollectionChanged,onSourceChanged),this._$scope.$on(F.FK.ToggleSidebarIsShownRequested,((e,t)=>{var r;this.isShown=null!==(r=t.isShown)&&void 0!==r?r:!this.isShown})),this._$scope.$on(F.FK.HideProviderCalloutRequested,(()=>this._$scope.$evalAsync((()=>this._sidebarPanels=null)))),this._$scope.$watch((()=>this.isShown),(e=>{e?this._addOutsideClickListeners():this._removeOutsideClickListeners()})),this._$scope.$watch((()=>this.isPinned),(e=>{e?this._removeOutsideClickListeners():this.isShown&&this._addOutsideClickListeners()})),this._$scope.$on("$destroy",(()=>this._removeOutsideClickListeners()))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"mainSidebarCtrl"}},{kind:"field",key:"_hasConnectedAccounts",value:()=>null},{kind:"get",key:"isShown",value:function isShown(){return this._appCommonSrv.isMainSidebarShown()}},{kind:"set",key:"isShown",value:function isShown(e){this.isShown!==e&&(this._telemetrySrv.logSessionEvent(e?F.cN.CalendarEvents.SidebarOpened:F.cN.CalendarEvents.SidebarClosed),this._appCommonSrv.setMainSidebarShown(e))}},{kind:"get",key:"isPinned",value:function isPinned(){return!this._appCommonSrv.isMiniLayout()}},{kind:"get",key:"canAddAccount",value:function canAddAccount(){return w()(this._settingsSrv).connect&&this.hasConnectedAccounts}},{kind:"get",key:"addAccountCalloutImageUrl",value:function addAccountCalloutImageUrl(){return this._addAccountCalloutImageUrl||(this._addAccountCalloutImageUrl=this._platformSrv.getPlatformUrl(L())),this._addAccountCalloutImageUrl}},{kind:"get",key:"addAccountCalloutHtml",value:function addAccountCalloutHtml(){return this._addAccountCalloutHtml||(this._addAccountCalloutHtml=this._$sce.trustAsHtml(this._$translate.instant("MISC.ADD_ACCOUNT_CALLOUT_TEXT"))),this._addAccountCalloutHtml}},{kind:"get",key:"hasConnectedAccounts",value:function hasConnectedAccounts(){return null===this._hasConnectedAccounts&&(this._hasConnectedAccounts=this._collectionSrv.getCurrentCollectionConnectedAccounts().length>0),this._hasConnectedAccounts}},{kind:"get",key:"providerSidebarPanels",value:function providerSidebarPanels(){var e;this._sidebarPanels||(this._sidebarPanels=E()(e=C()($.yI).call($.yI,(e=>!!w()(this._settingsSrv).connect||e===$.xT))).call(e,((e,t)=>({providerType:e,sidebarPanelHtml:(0,$.IB)(e).getSidebarPanelHtml(),sortOrder:t}))));return this._sidebarPanels}},{kind:"get",key:"isVideoTourPreviewShown",value:function isVideoTourPreviewShown(){return!this._userSettings.global.settings.isOnboardingVideoTourPreviewClosed&&(!(!this._userSettings.global.settings.isOnboardingProductTourClosed&&!this._userSettings.global.settings.isOnboardingProductTourMinimized)&&(!!this._planywayIntegrationSrv.isProviderConnected(F.lP.Trello)&&(this._isVideoTourPreviewShown||(this._isVideoTourPreviewShown=!0,this._telemetrySrv.logSingleEvent(F.cN.OnboardingEvents.OnboardingVideoPreviewShown)),!0)))}},{kind:"get",key:"videoTourPreviewImageUrl",value:function videoTourPreviewImageUrl(){return this._videoTourPreviewImageUrl||(this._videoTourPreviewImageUrl=this._platformSrv.getPlatformUrl(K())),this._videoTourPreviewImageUrl}},{kind:"method",key:"showVideoTourAsync",value:async function showVideoTourAsync(){this._telemetrySrv.logSingleEvent(F.cN.OnboardingEvents.OnboardingVideoOpened,{by:F.PT.VideoPreview}),await this._dialogSrv.showVideoPlayerDialogAsync(N.kM),this._telemetrySrv.logSingleEvent(F.cN.OnboardingEvents.OnboardingVideoClosed,{by:F.PT.VideoPreview})}},{kind:"method",key:"closeVideoTourPreview",value:function closeVideoTourPreview(){this._telemetrySrv.logSingleEvent(F.cN.OnboardingEvents.OnboardingVideoPreviewClosed),this._userSettings.global.settings.isOnboardingVideoTourPreviewClosed=!0,this._userSettings.global.saveAsync()}},{kind:"get",key:"isSaleActive",value:function isSaleActive(){return this._licenseSrv.isSubscriptionAvailable()&&this._licenseSrv.isSaleActive()}},{kind:"get",key:"saleText",value:function saleText(){if(!this._saleText){var e;let t=Math.max(...E()(e=P()(F.Vc)).call(e,(e=>e.discount)));this._saleText=this._$translate.instant("MISC.SALE",{discountPercent:100*t})}return this._saleText}},{kind:"get",key:"isTrialActive",value:function isTrialActive(){return this._licenseSrv.isTrialActive()}},{kind:"get",key:"trialDaysLeft",value:function trialDaysLeft(){return this._licenseSrv.getTrialDaysLeft()}},{kind:"get",key:"trialDaysText",value:function trialDaysText(){let e=this.trialDaysLeft;return this._trialDaysLeft!==e&&(this._trialDaysLeft=e,this._trialDaysText=this._$translate.instant("MISC.TRIAL",{days:this.trialDaysLeft},"messageformat")),this._trialDaysText}},{kind:"method",key:"onPricingClick",value:function onPricingClick(){this._telemetrySrv.logSessionEvent(F.cN.GeneralEvents.UpgradeClicked,{where:F.ou.Sidebar,callToAction:F.ev.SeePlans}),this._$window.open(`${N.w}`,"_blank")}},{kind:"get",key:"isFeedbackButtonShown",value:function isFeedbackButtonShown(){return!0}},{kind:"method",key:"showFeedbackDialog",value:function showFeedbackDialog(){this._chatSrv.chatAvailable&&this._chatSrv.chatInitialized?this._chatSrv.showChat():(this._telemetrySrv.logSessionEvent(F.cN.FeedbackEvents.FeedbackOpened,{where:F.z.Sidebar}),this._dialogSrv.showFeedbackDialogAsync())}},{kind:"get",key:"currentCollection",value:function currentCollection(){return this._collectionSrv.currentCollection}},{kind:"get",key:"unnamedCollectionName",value:function unnamedCollectionName(){return this._unnamedCollectionName||(this._unnamedCollectionName=this._$translate.instant("MISC.UNNAMED_COLLECTION_NAME")),this._unnamedCollectionName}},{kind:"method",key:"isCollectionMenuItemVisible",value:function isCollectionMenuItemVisible(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return A()(t).call(t,(e=>{switch(e){case B:return this._collectionSrv.isCurrentCollectionAdmin;case G:return this._collectionSrv.isCurrentCollectionUserCanShare;case H:return w()(this._settingsSrv).connect?!this._collectionSrv.isCurrentCollectionUnavailable&&!this._collectionSrv.isCurrentCollectionReadOnly:!this.hasConnectedAccounts;case j:return!this._collectionSrv.isCurrentCollectionUnavailable&&!this._collectionSrv.isCurrentCollectionSingleAdmin;case U:return this._collectionSrv.isCurrentCollectionAdmin&&this._platformSrv.canDeleteCollection(this._currentCollectionId);default:return!0}}))}},{kind:"method",key:"editCollectionAsync",value:async function editCollectionAsync(e){this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionEditDialogOpened),await this._dialogSrv.showCollectionDialogAsync(e)||this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionEditDialogClosed)}},{kind:"method",key:"duplicateCollectionAsync",value:async function duplicateCollectionAsync(e,t){try{this._appCommonSrv.setSchedulerBusy(!0);let e=await this._collectionSrv.duplicateCollectionAsync(t.id);e&&(await this._settingsSrv.duplicateCurrentCollectionSettingsAsync(e),this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionDuplicated),this._collectionSrv.changeCurrentCollectionAsync(e.id))}finally{this._appCommonSrv.setSchedulerBusy(!1)}}},{kind:"method",key:"showCollectionShareDialog",value:function showCollectionShareDialog(){this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionShareDialogOpened,{where:F.Zz.Sidebar}),this._dialogSrv.showCollectionShareDialogAsync()}},{kind:"method",key:"addAccountToCollectionAsync",value:async function addAccountToCollectionAsync(e){switch(e){case"addAccount":e=F.Zz.SidebarAddAccount;break;case"collectionMenu":e=F.Zz.CollectionMenu}this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionAddAccountDialogOpened,{where:e});let t=await this._dialogSrv.showAddAccountDialogAsync();t?(this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionAccountAdded,{accountType:t.accountType}),this._$scope.$evalAsync((()=>this._sidebarPanels=null))):this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionAddAccountDialogClosed,{where:e})}},{kind:"method",key:"deleteCurrentCollectionAsync",value:async function deleteCurrentCollectionAsync(){if(await this._dialogSrv.showConfirmAsync(this._$translate.instant("DIALOGS.DELETE_COLLECTION_TITLE"),this._$translate.instant("DIALOGS.DELETE_COLLECTION_CONFIRM",{collectionName:R()(this.currentCollection.name,36)}),{buttons:[{text:this._$translate.instant("BUTTONS.DELETE"),isPrimary:!0,isDangerous:!0,dialogResult:!0}]})){this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionDeleted);try{this._appCommonSrv.setSchedulerBusy(!0),await this._collectionSrv.deleteCollectionAsync(this._currentCollectionId)}catch(e){this._$log.error("Planyway delete collection error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway delete collection error",e,{class:this.constructor.name,method:this.deleteCurrentCollectionAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.DELETE_COLLECTION_ERROR"),F.k$.Error)}finally{this._appCommonSrv.setSchedulerBusy(!1)}}}},{kind:"method",key:"leaveCurrentCollectionAsync",value:async function leaveCurrentCollectionAsync(){if(await this._dialogSrv.showConfirmAsync(this._$translate.instant("DIALOGS.LEAVE_COLLECTION_TITLE"),this._$translate.instant("DIALOGS.LEAVE_COLLECTION_CONFIRM",{collectionName:this.currentCollection.name}),{buttons:[{text:this._$translate.instant("BUTTONS.LEAVE"),isPrimary:!0,isDangerous:!0,dialogResult:!0}]})){this._telemetrySrv.logSessionEvent(F.cN.CollectionEvents.CollectionLeaved);try{this._appCommonSrv.setSchedulerBusy(!0),this._collectionSrv.leaveCollectionAsync(this._currentCollectionId)}catch(e){this._$log.error("Planyway leave collection error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway leave collection error",e,{class:this.constructor.name,method:this.leaveCurrentCollectionAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.LEAVE_COLLECTION_ERROR"),F.k$.Error)}finally{this._appCommonSrv.setSchedulerBusy(!1)}}}},{kind:"method",key:"_addOutsideClickListeners",value:function _addOutsideClickListeners(){I()("body, #board, pw-scheduler, .js-list.list-wrapper").on("mousedown.pwEvent pointerdown.pwEvent",(e=>{if(this.isShown&&!this.isPinned){if(this._$element[0].contains(e.target))return;if(I()("md-menu.md-open")[0])return;if(I()(e.target).closest(".md-dialog-container, .md-panel")[0])return;this._$scope.$evalAsync((()=>this.isShown=!1))}}))}},{kind:"method",key:"_removeOutsideClickListeners",value:function _removeOutsideClickListeners(){I()("body, #board, pw-scheduler, .js-list.list-wrapper").off("mousedown.pwEvent pointerdown.pwEvent")}},{kind:"get",key:"_currentCollectionId",value:function _currentCollectionId(){return this._collectionSrv.currentCollectionId}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}}]}}))},98743:(e,t,r)=>{r.d(t,{E:()=>pe});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(56626),l=r.n(a),c=r(67552),d=r.n(c),u=r(62079),p=r.n(u),h=r(52020),f=r.n(h),m=r(88546),v=r.n(m),y=r(66775),k=r.n(y),g=r(2201),_=r.n(g),w=r(26171),D=r(26881),E=r(54847),b=r.n(E),C=r(86981),S=r.n(C),P=r(76555),T=r.n(P),A=r(73324),z=r.n(A),I=r(91829),x=r.n(I),R=r(27525),$=r.n(R),F=r(8244),N=r.n(F),M=r(88946),O=r.n(M),L=r(57445),W=r.n(L),K=r(51791),B=r.n(K),G=r(90143),H=r.n(G),j=r(89221),U=r.n(j),V=r(57170),Z=r.n(V),q=r(19755),Y=r.n(q),Q=r(82617),X=r(56777),J=r(20115),ee=r(8937),te=r(29704),re=r(95877);function ownKeys(e,t){var r=p()(e);if(f()){var i=f()(e);t&&(i=z()(i).call(i,(function(t){return v()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?s()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,w.Z)(e,t,n[t])})):k()?_()(e,k()(n)):s()(i=ownKeys(Object(n))).call(i,(function(t){W()(e,t,v()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}W()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==B()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];H()(s).call(s,B()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return W()(t,l(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return O()(t=(0,D.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:d()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:O()(e).call(e,this.fromElementDescriptor,this)};return W()(t,l(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const ie="showSidebar",ne="moreMenu",oe="modeMenu",se="timer",ae="pricing",le="share",ce={[ee.U1.Top]:ee.BF.HorizontalReverse,[ee.U1.Left]:ee.BF.Vertical,[ee.U1.Right]:ee.BF.VerticalReverse,[ee.U1.Bottom]:ee.BF.Horizontal},de={[ee.BF.Horizontal]:ee.U1.Bottom,[ee.BF.HorizontalReverse]:ee.U1.Top,[ee.BF.Vertical]:ee.U1.Left,[ee.BF.VerticalReverse]:ee.U1.Right},ue={[ee.U1.Top]:ee.U1.Bottom,[ee.U1.Left]:ee.U1.Right,[ee.U1.Right]:ee.U1.Left,[ee.U1.Bottom]:ee.U1.Top};let pe=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=S()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(O()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,te.SG)(["$element","$rootScope","$scope","$timeout","$translate","appCommonSrv","calendarCardsSrv","collectionSrv","dialogSrv","licenseSrv","onboardingSrv","planywayIntegrationSrv","platformSrv","settingsSrv","telemetrySrv","timeTrackingSrv"])],(function(e){return{F:class MainToolbarController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m,v){e(this),this._$element=t,this._$rootScope=r,this._$scope=i,this._$timeout=n,this._$translate=o,this._appCommonSrv=s,this._calendarCardsSrv=a,this._collectionSrv=l,this._dialogSrv=c,this._licenseSrv=d,this._onboardingSrv=u,this._planywayIntegrationSrv=p,this._platformSrv=h,this._settingsSrv=f,this._telemetrySrv=m,this._timeTrackingSrv=v,this._collapsedSchedulerModes=[];const onSourceChanged=()=>{this._$scope.$evalAsync((()=>{this._availableSchedulerModes=null,this._providerMainRightToolbars=null}))};this._$scope.$on(ee.FK.AccountAdded,onSourceChanged),this._$scope.$on(ee.FK.AccountDeleted,onSourceChanged),this._$scope.$on(ee.FK.CollectionChanged,onSourceChanged),this._$scope.$on(ee.FK.ChangeSchedulerViewRequested,(()=>this._availableSchedulerModes=null));for(let e of[ee.FK.CollectionAccountReady,ee.FK.CollectionChanged,ee.FK.SettingsChanged])this._$scope.$on(e,(()=>this._loadFilters()));this._loadFilters()}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"mainToolbarCtrl"}},{kind:"field",key:"filtersSearchString",value:void 0},{kind:"field",key:"_filterProviders",value:()=>new(b())},{kind:"method",key:"adaptWidth",value:function adaptWidth(){var e,t;const r=this._$element.width();let i=0,n=S()(e=this._$element).call(e,".pw-main-toolbar__right [data-min-width]");for(let e of n)Y()(e).addClass("pw-main-toolbar__btn--minimized"),i+=Number(Y()(e).attr("data-min-width"));let o=0,s=S()(t=this._$element).call(t,".pw-main-toolbar__left [data-max-width]");for(let e of s)o+=Number(Y()(e).attr("data-max-width"));T()(s).call(s,((e,t)=>Number(Y()(e).attr("data-adaptive"))-Number(Y()(t).attr("data-adaptive"))));const a=s.length;let l=0,c=[];for(;!(r-i>o)&&l<a;){o=0,l++;for(let e=0;e<a;e++)e<a-l?o+=Number(Y()(s[e]).attr("data-max-width")):(o+=Number(Y()(s[e]).attr("data-min-width")),Y()(s[e]).attr("name")&&c.push(Y()(s[e]).attr("name")))}if(c.length>0)return void this._$scope.$evalAsync((()=>{var e,t;this._collapsedSchedulerModes=z()(e=T()(t=this._appCommonSrv.getAvailableSchedulerModes()).call(t,((e,t)=>ee.zc[e.value]-ee.zc[t.value]))).call(e,(e=>x()(c).call(c,e.value)))}));this._collapsedSchedulerModes=[],T()(n).call(n,((e,t)=>Number(Y()(t).attr("data-adaptive"))-Number(Y()(e).attr("data-adaptive"))));let d=0;for(;r-o>i&&d<=n.length;){i=0,d++;for(let e=0;e<n.length;e++)i+=Number(e<d?Y()(n[e]).attr("data-max-width"):Y()(n[e]).attr("data-min-width"))}for(let e=0;e<d-1;e++)Y()(n[e]).removeClass("pw-main-toolbar__btn--minimized")}},{kind:"method",key:"onCreateAdaptableToolbarItem",value:function onCreateAdaptableToolbarItem(e){e.removeClass("pw-main-toolbar__btn--minimized"),e.attr("data-max-width",e.outerWidth()),this.adaptWidth()}},{kind:"method",key:"isToolbarButtonAvailable",value:function isToolbarButtonAvailable(){const e=this._appCommonSrv.getSchedulerMode(!0);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return $()(r).call(r,(t=>{var r,i,n,o;switch(t){case ie:return!this.isSidebarShown||this._appCommonSrv.isMiniLayout();case ne:return this.enabledSchedulerModes.length>1&&$()(r=this.enabledSchedulerModes).call(r,(e=>e.isCollapsed))&&$()(i=this.enabledSchedulerModes).call(i,(e=>!e.isCollapsed));case oe:return this.enabledSchedulerModes.length>1&&N()(n=this.enabledSchedulerModes).call(n,(e=>e.isCollapsed));case se:return $()(o=this._collectionSrv.getCurrentCollectionConnectedProviders()).call(o,(e=>e.isTimeTrackingAvailable()))&&this.isTimerStarted&&e!==ee.ud.TimeTracking;case ae:return this._licenseSrv.isSubscriptionAvailable()&&!this._licenseSrv.isTrialActive();case le:return this._collectionSrv.isCurrentCollectionUserCanShare;default:return!0}}))}},{kind:"get",key:"cardTooltipOptions",value:function cardTooltipOptions(){return this._cardTooltipOptions||(this._cardTooltipOptions={getCardForTooltip:(e,t,r)=>this.timerParentCard&&this.timerParentCard.id===t&&this.timerParentCard.cardType===r?this.timerParentCard:this._calendarCardsSrv.getCalendarCardById(e,r,t)}),this._cardTooltipOptions}},{kind:"get",key:"isSidebarShown",value:function isSidebarShown(){return this._appCommonSrv.isMainSidebarShown()}},{kind:"set",key:"isSidebarShown",value:function isSidebarShown(e){this.isSidebarShown!==e&&(this._telemetrySrv.logSessionEvent(e?ee.cN.CalendarEvents.SidebarOpened:ee.cN.CalendarEvents.SidebarClosed),this._appCommonSrv.setMainSidebarShown(e))}},{kind:"get",key:"availableSchedulerModes",value:function availableSchedulerModes(){var e,t;this._availableSchedulerModes||(this._availableSchedulerModes=O()(e=T()(t=this._appCommonSrv.getAvailableSchedulerModes()).call(t,((e,t)=>ee.zc[e.value]-ee.zc[t.value]))).call(e,(e=>{(e=_objectSpread({},e)).isNew&&"true"!==re.Xb[`planyway${(0,te.Oo)(e.value)}ViewVisited`]&&(e.badgeText=this._$translate.instant("MISC.NEW"));const t=e.value;return W()(e,"value",{get:()=>t,set:()=>{}}),W()(e,"paidFeatureAvailable",{get:()=>{let t=ee.lv[e.value];return!(t&&!this._licenseSrv.checkPaidFeatureAvailable(t,!1))}}),W()(e,"canBeDisabled",{get:()=>{if(e.value===this.selectedSchedulerMode.value){var t;if(1===this.enabledSchedulerModes.length)return!1;if(!$()(t=this.enabledSchedulerModes).call(t,(t=>t!==e&&t.paidFeatureAvailable)))return!1}return!0}}),W()(e,"isEnabled",{get:()=>{var t;return!(null!==(t=this._collectionSettings.global.settings.schedulerModesSettings[e.value])&&void 0!==t&&t.isDisabled)},set:t=>{var r;(this._collectionSettings.global.settings.schedulerModesSettings[e.value]=_objectSpread(_objectSpread({},this._collectionSettings.global.settings.schedulerModesSettings[e.value]),{},{isDisabled:!t}),t||this.selectedSchedulerMode.value!==e.value)||(this.selectedSchedulerMode=S()(r=this.enabledSchedulerModes).call(r,(e=>e.paidFeatureAvailable)));this._collectionSettings.global.saveAsync(),this._$timeout((()=>this.adaptWidth()))}}),W()(e,"isCollapsed",{get:()=>{var t;return $()(t=this._collapsedSchedulerModes).call(t,(t=>t.value===e.value))}}),e})));return this._availableSchedulerModes}},{kind:"get",key:"enabledSchedulerModes",value:function enabledSchedulerModes(){var e;return z()(e=this.availableSchedulerModes).call(e,(e=>e.isEnabled))}},{kind:"get",key:"selectedSchedulerMode",value:function selectedSchedulerMode(){var e;let t=this._appCommonSrv.getSchedulerMode(!0);return S()(e=this.availableSchedulerModes).call(e,(e=>e.value===t))}},{kind:"set",key:"selectedSchedulerMode",value:function selectedSchedulerMode(e){if(this.selectedSchedulerMode===e)return;let t=ee.lv[e.value];if(t&&!this._licenseSrv.checkPaidFeatureAvailable(t,!0))return;let r=this.selectedSchedulerMode.value!==e.value;this._collectionSettings.global.settings.schedulerMode=e.value,this._$rootScope.$broadcast(ee.FK.ChangeSchedulerViewRequested,{forceUpdate:r}),this._collectionSettings.global.saveAsync(),this._telemetrySrv.logSessionEvent(ee.cN.CalendarEvents.Opened)}},{kind:"method",key:"onModeMenuOpen",value:function onModeMenuOpen(){this._telemetrySrv.logSessionEvent(ee.cN.CalendarEvents.ModeMenuOpened)}},{kind:"get",key:"isTimerStarted",value:function isTimerStarted(){return this._timeTrackingSrv.isTimerStarted}},{kind:"get",key:"timerParentCard",value:function timerParentCard(){return this._timeTrackingSrv.timerParentCard}},{kind:"get",key:"timerTime",value:function timerTime(){if(this.isTimerStarted)return this._timeTrackingSrv.timerCounterText}},{kind:"method",key:"stopTimerAsync",value:async function stopTimerAsync(){if(this._timeTrackingSrv.isTimerBusy)return;let e=await this._timeTrackingSrv.stopTimerAsync();if(e){this._telemetrySrv.logSessionEvent(ee.cN.TimeTrackingEvents.TimerStopped,{where:ee.Fb.Toolbar});try{this._appCommonSrv.setSchedulerBusy(!0);let t=(0,X.VH)(e.providerType);await t.createTimeRecordCardByTimerAsync(e)}finally{this._appCommonSrv.setSchedulerBusy(!1)}}}},{kind:"get",key:"cardSearchString",value:function cardSearchString(){return this._cardSearchString||this._appCommonSrv.getFiltersCardSearchString()}},{kind:"set",key:"cardSearchString",value:function cardSearchString(e){this._cardSearchString!==e&&(this._cardSearchString=e,this._appCommonSrv.setFiltersCardSearchString(e),e&&this._telemetrySrv.logSessionEvent(ee.cN.FiltersEvents.SearchedByCardName),this._$rootScope.$broadcast(ee.FK.FiltersChanged))}},{kind:"method",key:"isFiltersGroupCollapsed",value:function isFiltersGroupCollapsed(e){var t;return x()(t=this._collectionSettings.local.settings.filters.collapsed).call(t,e)}},{kind:"method",key:"toggleFiltersGroupCollapsed",value:function toggleFiltersGroupCollapsed(e){let t=this._collectionSettings.local.settings.filters.collapsed,r=B()(t).call(t,e);-1===r?t.push(e):H()(t).call(t,r,1),this._collectionSettings.local.save()}},{kind:"get",key:"isFiltersActive",value:function isFiltersActive(){return this.activeFiltersCount>0}},{kind:"get",key:"activeFiltersCount",value:function activeFiltersCount(){let activeFiltersCount=this.completeStatusFiltersActiveCount;for(let t of U()(e=this._filterProviders).call(e)){var e;activeFiltersCount+=t.getActiveFiltersCount()}return activeFiltersCount}},{kind:"method",key:"clearAllFilters",value:function clearAllFilters(){if(!this.isFiltersActive)return;this._telemetrySrv.logSessionEvent(ee.cN.FiltersEvents.Cleared),this._filteredCardsVisibility=ee.Vh.All,this._collectionSettings.global.settings.filters.cardsVisibility=this._filteredCardsVisibility;for(let t of U()(e=this._filterProviders).call(e)){var e;t.clearAllFilters()}this._collectionSettings.global.saveAsync(),this._$rootScope.$broadcast(ee.FK.FiltersChanged)}},{kind:"get",key:"completeStatusFiltersActiveCount",value:function completeStatusFiltersActiveCount(){return this._filteredCardsVisibility===ee.Vh.All?0:1}},{kind:"get",key:"completeStatusFilters",value:function completeStatusFilters(){return this._completeStatusFilters||(this._completeStatusFilters=[{name:this._$translate.instant("MENU.COMPLETED_CARDS"),icon:"icons-16:checkbox-completed-card-outline",value:ee.Vh.Completed},{name:this._$translate.instant("MENU.INCOMPLETE_CARDS"),icon:"icons-16:checkbox-incompleted-card-outline",value:ee.Vh.Incompleted}]),this._completeStatusFilters}},{kind:"method",key:"isCompleteStatusFilterSelected",value:function isCompleteStatusFilterSelected(e){return this._filteredCardsVisibility===e.value}},{kind:"method",key:"toggleCompleteStatusFilter",value:function toggleCompleteStatusFilter(e){this._filteredCardsVisibility!==e.value?this._filteredCardsVisibility=e.value:this._filteredCardsVisibility=ee.Vh.All,this._saveFilters(),this._telemetrySrv.logSessionEvent(ee.cN.FiltersEvents.CardsVisibilityChanged)}},{kind:"method",key:"registerFilterProvider",value:function registerFilterProvider(e,t){this._filterProviders.set(e,t)}},{kind:"get",key:"providerFiltersMenus",value:function providerFiltersMenus(){var e,t;this._providerFiltersMenus||(this._providerFiltersMenus=z()(e=O()(t=this._collectionSrv.getCurrentCollectionConnectedProviders()).call(t,(e=>({providerType:e.type,filtersHtml:e.getMainToolbarFiltersMenuHtml()})))).call(e,(e=>e.filtersHtml)));return this._providerFiltersMenus}},{kind:"get",key:"pricingUrl",value:function pricingUrl(){return J.w}},{kind:"method",key:"onPricingClick",value:function onPricingClick(){this._telemetrySrv.logSessionEvent(ee.cN.GeneralEvents.UpgradeClicked,{where:ee.ou.Toolbar,callToAction:ee.ev.Upgrade})}},{kind:"method",key:"showCollectionShareDialog",value:function showCollectionShareDialog(e){this._telemetrySrv.logSessionEvent(ee.cN.CollectionEvents.CollectionShareDialogOpened,{where:ee.Zz.Toolbar}),this._dialogSrv.showCollectionShareDialogAsync(e)}},{kind:"get",key:"availableLayoutOrientations",value:function availableLayoutOrientations(){var e;return this._availableLayoutOrientations||(this._availableLayoutOrientations=[{value:ee.BF.Vertical,icon:"icons-16:orientation-vertical",title:this._$translate.instant("MENU.LAYOUT_VERTICAL")},{value:ee.BF.Horizontal,icon:"icons-16:orientation-horizontal",title:this._$translate.instant("MENU.LAYOUT_HORIZONTAL")},{value:ee.BF.VerticalReverse,icon:"icons-16:orientation-vertical",title:this._$translate.instant("MENU.LAYOUT_VERTICAL")},{value:ee.BF.HorizontalReverse,icon:"icons-16:orientation-horizontal",title:this._$translate.instant("MENU.LAYOUT_HORIZONTAL")}]),z()(e=this._availableLayoutOrientations).call(e,(e=>{let t;if(t=ce[this._appCommonSrv.getPlanywayOrientation()],e.value===t)return!0;switch(t){case ee.BF.Horizontal:return e.value===ee.BF.Vertical;case ee.BF.HorizontalReverse:return e.value===ee.BF.VerticalReverse;case ee.BF.Vertical:return e.value===ee.BF.Horizontal;case ee.BF.VerticalReverse:return e.value===ee.BF.HorizontalReverse}}))}},{kind:"get",key:"selectedLayoutOrientation",value:function selectedLayoutOrientation(){var e;let t;return t=ce[this._appCommonSrv.getPlanywayOrientation()],S()(e=this.availableLayoutOrientations).call(e,(e=>e.value===t))}},{kind:"set",key:"selectedLayoutOrientation",value:function selectedLayoutOrientation(e){this.selectedLayoutOrientation.value!==e.value&&(this._appCommonSrv.setPlanywayOrientation(de[e.value]),this._telemetrySrv.logSessionEvent(ee.cN.CalendarEvents.OrientationChanged,{by:ee.UR.OrientationMenu}))}},{kind:"method",key:"flipLayoutOrientation",value:function flipLayoutOrientation(){this._appCommonSrv.setPlanywayOrientation(ue[this._appCommonSrv.getPlanywayOrientation()]),this._telemetrySrv.logSessionEvent(ee.cN.CalendarEvents.OrientationFlipped,{by:ee.UR.OrientationMenu})}},{kind:"get",key:"isFlipLayoutOrientationHotkeyAvailable",value:function isFlipLayoutOrientationHotkeyAvailable(){return!1}},{kind:"method",key:"refresh",value:function refresh(){this._appCommonSrv.isSchedulerBusy()||(this._telemetrySrv.logSessionEvent(ee.cN.CalendarEvents.Refreshed),this._calendarCardsSrv.needReloadCalendarCards({reloadAdditionalData:!0}),this._$rootScope.$broadcast(ee.FK.CardsReloaded))}},{kind:"get",key:"openInNewTabUrl",value:function openInNewTabUrl(){let e=new(Z());return e.set(Q.pJ,this._currentCollectionId),e.set(Q.Ii,ee.Un.Fullscreen),e.set(Q.ck,this._platformSrv.getAppType()),`https://planyway.com/app?${e}`}},{kind:"method",key:"hidePlanywayAsync",value:function hidePlanywayAsync(){this._appCommonSrv.setPlanywayShown(!1),this._telemetrySrv.logSingleEvent(ee.cN.CalendarEvents.Hidden,{isBy:"close"})}},{kind:"get",key:"providerRightToolbars",value:function providerRightToolbars(){var e,t;this._providerMainRightToolbars||(this._providerMainRightToolbars=z()(e=O()(t=this._collectionSrv.getCurrentCollectionConnectedProviders()).call(t,(e=>({providerType:e.type,toolbarHtml:e.getMainToolbarRightHtml()})))).call(e,(e=>e.toolbarHtml)));return this._providerMainRightToolbars}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}},{kind:"get",key:"_currentCollectionId",value:function _currentCollectionId(){return this._collectionSrv.currentCollectionId}},{kind:"method",key:"_loadFilters",value:function _loadFilters(){let e=this._collectionSettings.global.settings.filters;this._filteredCardsVisibility=e.cardsVisibility}},{kind:"method",key:"_saveFilters",value:function _saveFilters(){this._collectionSettings.global.settings.filters.cardsVisibility=this._filteredCardsVisibility,this._collectionSettings.global.saveAsync(),this._$rootScope.$broadcast(ee.FK.FiltersChanged)}}]}}))},88093:(e,t,r)=>{r.d(t,{A:()=>M});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(62079),D=r.n(w),E=r(52020),b=r.n(E),C=r(73324),S=r.n(C),P=r(88546),T=r.n(P),A=r(66775),z=r.n(A),I=r(2201),x=r.n(I),R=r(26171),$=r(26881),F=r(82617),N=r(56777);function ownKeys(e,t){var r=D()(e);if(b()){var i=b()(e);t&&(i=S()(i).call(i,(function(t){return T()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?l()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,R.Z)(e,t,n[t])})):z()?x()(e,z()(n)):l()(i=ownKeys(Object(n))).call(i,(function(t){d()(e,t,T()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,$.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let M=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,r(29704).SG)(["$scope","$translate","settingsSrv","mdPanelRef","account"])],(function(e){return{F:class ManageAccountCalendarsDialogController{constructor(t,r,i,n,o){e(this),this._$scope=t,this._$translate=r,this._settingsSrv=i,this._mdPanelRef=n,this._account=o,this._provider=(0,N.dS)(this._account.accountType)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"manageAccountCalendarsDialogCtrl"}},{kind:"get",key:"account",value:function account(){return this._account}},{kind:"get",key:"icon",value:function icon(){if(!this._icon)switch(this._account.accountType){case F.Qm.GitHub:this._icon="icons-32:github-colorful";break;case F.Qm.Google:this._icon="icons-32:google-colorful";break;case F.Qm.Outlook:this._icon="icons-32:microsoft-colorful";break;case F.Qm.Trello:this._icon="icons-32:trello-colorful"}return this._icon}},{kind:"get",key:"title",value:function title(){if(!this._title)switch(this._account.accountType){case F.Qm.GitHub:this._title=this._$translate.instant("DIALOGS.MANAGE_GITHUB_PROJECT_TITLE");break;case F.Qm.Google:this._title=this._$translate.instant("DIALOGS.MANAGE_GOOGLE_CALENDARS_TITLE");break;case F.Qm.Outlook:this._title=this._$translate.instant("DIALOGS.MANAGE_OUTLOOK_CALENDARS_TITLE");break;case F.Qm.Trello:this._title=this._$translate.instant("DIALOGS.MANAGE_TRELLO_BOARDS_TITLE")}return this._title}},{kind:"get",key:"searchPlaceholder",value:function searchPlaceholder(){if(!this._searchPlaceholder)switch(this._account.accountType){case F.Qm.GitHub:this._searchPlaceholder=this._$translate.instant("DIALOGS.MANAGE_GITHUB_PROJECTS_PLACEHOLDER");break;case F.Qm.Google:this._searchPlaceholder=this._$translate.instant("DIALOGS.MANAGE_GOOGLE_CALENDARS_PLACEHOLDER");break;case F.Qm.Outlook:this._searchPlaceholder=this._$translate.instant("DIALOGS.MANAGE_OUTLOOK_CALENDARS_PLACEHOLDER");break;case F.Qm.Trello:this._searchPlaceholder=this._$translate.instant("DIALOGS.MANAGE_TRELLO_BOARDS_PLACEHOLDER")}return this._searchPlaceholder}},{kind:"get",key:"filterText",value:function filterText(){return this._filterText}},{kind:"set",key:"filterText",value:function filterText(e){this._$scope.$evalAsync((()=>{this._filterText=e}))}},{kind:"get",key:"calendarsPickerHtml",value:function calendarsPickerHtml(){return this._calendarsPickerHtml||(this._calendarsPickerHtml=this._provider.getCalendarsPickerHtml()),this._calendarsPickerHtml}},{kind:"get",key:"calendars",value:function calendars(){return this._calendars}},{kind:"set",key:"calendars",value:function calendars(e){this._calendars=e}},{kind:"method",key:"saveCalendarsSelection",value:function saveCalendarsSelection(){let e=this._account.accountId,t=[],r=[],i=[];for(let n of this.calendars){let o=this._provider.getCurrentCollectionConnectedCalendar(e,n.id);if(n.isConnected&&!o.isConnected){t.push(n.id);let e=_objectSpread(_objectSpread({},o),{},{calendarId:n.id,isConnected:!0,isSelected:!0});i.push(e)}else!n.isConnected&&o.isConnected&&(r.push(n.id),i.push(_objectSpread(_objectSpread({},o),{},{isConnected:!1,isSelected:!1})))}t.length>0||r.length>0?(this._provider.setCurrentCollectionConnectedCalendars(e,i),this._mdPanelRef.close({connectedCalendarIds:t,disconnectedCalendarIds:r})):this._mdPanelRef.close()}},{kind:"method",key:"cancelDialog",value:function cancelDialog(){this._mdPanelRef.close()}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}}]}}))},33439:(e,t,r)=>{r.d(t,{u:()=>C});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(8937),E=r(20115),b=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let C=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,b.SG)(["$injector","$scope","$translate","googleIntegrationSrv"])],(function(e){return{F:class MemberAvatarController{constructor(t,r,i,n){e(this),this._$injector=t,this._$scope=r,this._googleIntegrationSrv=n,this._avatarSize="small",this._showNameTooltip=!1,this._member={id:E.$d,fullName:i.instant("MISC.UNASSIGNED_MEMBER_FULL_NAME"),initials:i.instant("MISC.UNASSIGNED_MEMBER_INITIALS")}}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"memberAvatarCtrl"}},{kind:"field",key:"_memberType",value:void 0},{kind:"field",key:"accountId",value:void 0},{kind:"field",key:"membershipType",value:void 0},{kind:"field",key:"_member",value:void 0},{kind:"get",key:"_githubIntegrationSrv",value:function _githubIntegrationSrv(){return this._githubIntegrationSrvLazy||(this._githubIntegrationSrvLazy=this._$injector.get("githubIntegrationSrv")),this._githubIntegrationSrvLazy}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"set",key:"member",value:function member(e){e&&this._member.id!==e.id&&(this._member=e,this._$scope.$broadcast("$$rebind::member"))}},{kind:"set",key:"memberId",value:function memberId(e){switch(this._memberType){case D.wO.Trello:this.member=this._trelloIntegrationSrv.getTrelloMemberById(this.accountId,e);break;case D.wO.Google:this.member=this._googleIntegrationSrv.getGoogleContactByEmail(this.accountId,e);break;case D.wO.GitHub:this.member=this._githubIntegrationSrv.getGitHubMemberById(this.accountId,e)}}},{kind:"set",key:"memberType",value:function memberType(e){this._memberType=e,this._member&&(this.memberId=this._member.id)}},{kind:"get",key:"isUnassigned",value:function isUnassigned(){return this._member.id===E.$d}},{kind:"get",key:"avatarUrl",value:function avatarUrl(){switch(this._memberType){case D.wO.Trello:switch(this._avatarSize){case"small":return this._member.avatarUrlSmall;case"normal":return this._member.avatarUrlNormal}break;case D.wO.Google:case D.wO.GitHub:return this._member.avatarUrl}}},{kind:"get",key:"fullName",value:function fullName(){switch(this._memberType){case D.wO.Trello:return this._member.fullName;case D.wO.Google:return this._member.fullName||this._member.email;case D.wO.GitHub:return this._member.fullName}}},{kind:"get",key:"showNameTooltip",value:function showNameTooltip(){return this._showNameTooltip}},{kind:"get",key:"nameTooltip",value:function nameTooltip(){return this.membershipType===D.IM.Admin?`${this.fullName} (${(0,b.Oo)(this.membershipType)})`:this.fullName}},{kind:"get",key:"initials",value:function initials(){return this._member.initials}},{kind:"get",key:"memberColorHash",value:function memberColorHash(){return(0,b.mI)(this._member.id)}}]}}))},77159:(e,t,r)=>{r.d(t,{P:()=>ae});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(51791),l=r.n(a),c=r(90143),d=r.n(c),u=r(56626),p=r.n(u),h=r(67552),f=r.n(h),m=r(62079),v=r.n(m),y=r(52020),k=r.n(y),g=r(88546),_=r.n(g),w=r(66775),D=r.n(w),E=r(2201),b=r.n(E),C=r(26171),S=r(26881),P=r(73324),T=r.n(P),A=r(88946),z=r.n(A),I=r(27525),x=r.n(I),R=r(8244),$=r.n(R),F=r(35820),N=r.n(F),M=r(57445),O=r.n(M),L=r(60312),W=r.n(L),K=r(86981),B=r.n(K),G=r(90869),H=r.n(G),j=r(40405),U=r.n(j),V=r(82617),Z=r(56777),q=(r(43611),r(8937)),Y=r(29704);function ownKeys(e,t){var r=v()(e);if(k()){var i=k()(e);t&&(i=T()(i).call(i,(function(t){return _()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?s()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,C.Z)(e,t,n[t])})):D()?b()(e,D()(n)):s()(i=ownKeys(Object(n))).call(i,(function(t){O()(e,t,_()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}O()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==l()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];d()(s).call(s,l()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,n[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&i.push(c.finisher);var u=c.extras;if(u){for(var p=0;p<u.length;p++)this.addElementPlacement(u[p],t);r.push.apply(r,u)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return O()(t,p(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return z()(t=(0,S.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:f()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:z()(e).call(e,this.fromElementDescriptor,this)};return O()(t,p(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const Q=56,X=/(\p{L}|\p{N})/u,J={[q.AG.Before]:10,[q.AG.BeforeAllDay]:-540},ee="minutes",te="hours",re="days",ie="weeks",ne="plural",oe="singular",se={[ne]:{[ee]:"MISC.REMINDER_UNIT_MINUTES",[te]:"MISC.REMINDER_UNIT_HOURS",[re]:"MISC.REMINDER_UNIT_DAYS",[ie]:"MISC.REMINDER_UNIT_WEEKS"},[oe]:{[ee]:"MISC.REMINDER_UNIT_MINUTE",[te]:"MISC.REMINDER_UNIT_HOUR",[re]:"MISC.REMINDER_UNIT_DAY",[ie]:"MISC.REMINDER_UNIT_WEEK"}};let ae=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=B()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(z()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,Y.SG)(["$rootScope","$scope","$log","$sce","$timeout","$translate","$window","calendarCardsSrv","collectionSrv","dialogSrv","htmlHelperSrv","notificationSrv","planywayIntegrationSrv","planywayNotificationsSrv","settingsSrv","telemetrySrv","trelloIntegrationSrv","mdPanelRef","mode"])],(function(e){return{F:class NotificationCenterDialogController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m,v,y,k,g){e(this),this._$rootScope=t,this._$scope=r,this._$log=i,this._$sce=n,this._$timeout=o,this._$translate=s,this._$window=a,this._calendarCardsSrv=l,this._collectionSrv=c,this._dialogSrv=d,this._htmlHelperSrv=u,this._notificationSrv=p,this._planywayIntegrationSrv=h,this._planywayNotificationsSrv=f,this._settingsSrv=m,this._telemetrySrv=v,this._trelloIntegrationSrv=y,this._mdPanelRef=k,this._mode=g,this._notifications=null,this._$scope.$on(q.FK.NotificationsChanged,(()=>{this._notifications=null}));for(let e of this._provider.getCurrentCollectionConnectedAccountIds())this._previousReadDate[e]=this._planywayNotificationsSrv.getLastReadDate(e);this._$timeout((()=>{this._$scope.$$destroyed||this._$rootScope.$broadcast(q.FK.NotificationsRead)}),500)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"notificationCenterDialogCtrl"}},{kind:"field",key:"_provider",value:()=>(0,Z.VH)(q.lP.Trello)},{kind:"field",key:"_previousReadDate",value:()=>({})},{kind:"get",key:"mode",value:function mode(){return this._mode}},{kind:"set",key:"mode",value:function mode(e){this._mode=e}},{kind:"get",key:"notificationTypes",value:function notificationTypes(){return void 0===this._notificationTypes&&(this._notificationTypes=[{type:V.k$.MemberMentioned,title:this._$translate.instant("DIALOGS.NOTIFICATIONS_MENTIONED_TITLE"),description:this._$translate.instant("DIALOGS.NOTIFICATIONS_MENTIONED_DESCRIPTION"),showInFilters:!0,showInSettings:!0},{type:V.k$.MemberAssigned,title:this._$translate.instant("DIALOGS.NOTIFICATIONS_ASSIGNED_TITLE"),description:this._$translate.instant("DIALOGS.NOTIFICATIONS_ASSIGNED_DESCRIPTION"),showInFilters:!0,showInSettings:!0},{type:V.k$.RemindStart,title:this._$translate.instant("DIALOGS.NOTIFICATIONS_REMINDERS_TITLE"),description:this._$translate.instant("DIALOGS.NOTIFICATIONS_REMINDERS_DESCRIPTION"),showInFilters:!1,showInSettings:!0}]),this._notificationTypes}},{kind:"method",key:"isPushNotificationsEnabled",value:function isPushNotificationsEnabled(e){return this._planywayNotificationsSrv.isPushNotificationsEnabled(e)}},{kind:"method",key:"isPushNotificationChecked",value:function isPushNotificationChecked(e){return this.notificationsSettings[V.MY.Desktop][e.type]}},{kind:"method",key:"togglePushNotificationsAsync",value:async function togglePushNotificationsAsync(e){if(this.isSettingsBusy)return;let t=!this.isPushNotificationChecked(e);await this._saveNotificationSettingsAsync(this.selectedAccount.accountId,V.MY.Desktop,e.type,t),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.SettingsChanged,{accountId:this.selectedAccount.accountId,destination:V.MY.Desktop,type:e.type,value:t})}},{kind:"method",key:"isWebNotificationsEnabled",value:function isWebNotificationsEnabled(e){return this._planywayNotificationsSrv.isWebNotificationsEnabled(e)}},{kind:"method",key:"isWebNotificationChecked",value:function isWebNotificationChecked(e){return this.notificationsSettings[V.MY.Web][e.type]}},{kind:"method",key:"toggleWebNotificationsAsync",value:async function toggleWebNotificationsAsync(e){if(this.isSettingsBusy)return;let t=!this.isWebNotificationChecked(e);await this._saveNotificationSettingsAsync(this.selectedAccount.accountId,V.MY.Web,e.type,t),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.SettingsChanged,{accountId:this.selectedAccount.accountId,destination:V.MY.Web,type:e.type,value:t}),t||this.selectedNotificationType!==e.type||(this.selectedNotificationType=void 0)}},{kind:"method",key:"close",value:function close(){this._mdPanelRef.close()}},{kind:"get",key:"selectedNotificationType",value:function selectedNotificationType(){return this._selectedNotificationType}},{kind:"set",key:"selectedNotificationType",value:function selectedNotificationType(e){this._selectedNotificationType=e}},{kind:"get",key:"notifications",value:function notifications(){var e,t;null===this._notifications&&(this._notifications=T()(e=z()(t=this._planywayNotificationsSrv.notifications).call(t,(e=>this._convertNotification(e)))).call(e,(e=>e)));return this._notifications}},{kind:"method",key:"filterNotificationsByTypeAndSettings",value:function filterNotificationsByTypeAndSettings(){return e=>!this.selectedNotificationType||e.type===this.selectedNotificationType}},{kind:"get",key:"hasVisibleNotifications",value:function hasVisibleNotifications(){var e;let t=this.filterNotificationsByTypeAndSettings();return x()(e=this.notifications).call(e,(e=>t(e)))}},{kind:"get",key:"accounts",value:function accounts(){return this._accounts||(this._accounts=this._provider.getCurrentCollectionConnectedAccounts()),this._accounts}},{kind:"get",key:"isSelectedAccountAvailable",value:function isSelectedAccountAvailable(){return this.accounts&&this.accounts.length>0}},{kind:"get",key:"selectedAccount",value:function selectedAccount(){return this._selectedAccount||(this._selectedAccount=this.accounts[0]),this._selectedAccount}},{kind:"set",key:"selectedAccount",value:function selectedAccount(e){this._selectedAccount=e}},{kind:"method",key:"getAccountIcon",value:function getAccountIcon(e){switch(e){case V.Qm.Trello:return"icons-16:trello";case V.Qm.Google:return"icons-16:google-outline";case V.Qm.Outlook:return"icons-16:microsoft-outline";case V.Qm.ICal:default:return""}}},{kind:"method",key:"openCardAsync",value:async function openCardAsync(e){const{accountId:t,cardId:r,checkItemId:i}=e;let n;i&&(n=await this._calendarCardsSrv.getCalendarCardByIdAsync(t,V.eT.TrelloCheckItem,i)),n||(n=await this._calendarCardsSrv.getCalendarCardByIdAsync(t,V.eT.TrelloCard,r)),n?(this._provider.logCardEvent(n,q.cN.CardEvents.EditDialogOpened,{where:q.a6.Scheduler,by:q.AH.NotificationCenter}),await this._dialogSrv.showEditCardDialogAsync(n,{scrollToCommentId:e.commentId})||this._provider.logCardEvent(n,q.cN.CardEvents.EditDialogClosed,{where:q.a6.Scheduler,by:q.AH.NotificationCenter})):this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.CARD_IS_NOT_FOUND_ERROR"),q.k$.Warning)}},{kind:"get",key:"isPushNotificationsSupported",value:function isPushNotificationsSupported(){return this._planywayNotificationsSrv.isPushNotificationsSupported}},{kind:"get",key:"showEnableNotificationsAction",value:function showEnableNotificationsAction(){var e;return this.isPushNotificationsSupported&&!$()(e=this.accounts).call(e,(e=>this._planywayNotificationsSrv.isPushNotificationsEnabled(e.accountId)))}},{kind:"method",key:"enablePushNotificationsAsync",value:async function enablePushNotificationsAsync(){var e;let t=await N().all(z()(e=this.accounts).call(e,(e=>this._planywayNotificationsSrv.enablePushNotificationsAsync(e.accountId))));x()(t).call(t,(e=>e.success))&&this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.Enabled,{where:q.VI.Settings})}},{kind:"get",key:"notificationsSettings",value:function notificationsSettings(){return this._planywayNotificationsSrv.getNotificationsSettings(this.selectedAccount.accountId)}},{kind:"get",key:"isSettingsBusy",value:function isSettingsBusy(){return this._planywayNotificationsSrv.isNotificationsBusy}},{kind:"get",key:"defaultReminderTypes",value:function defaultReminderTypes(){return void 0===this._defaultNotificationTypes&&(this._defaultNotificationTypes=[{type:q.AG.Before,title:this._$translate.instant("DIALOGS.NOTIFICATIONS_DEFAULT_REMINDERS_TITLE"),description:this._$translate.instant("DIALOGS.NOTIFICATIONS_DEFAULT_REMINDERS_DESCRIPTION")},{type:q.AG.BeforeAllDay,title:this._$translate.instant("DIALOGS.NOTIFICATIONS_DEFAULT_REMINDERS_ALL_DAY_TITLE"),description:this._$translate.instant("DIALOGS.NOTIFICATIONS_DEFAULT_REMINDERS_ALL_DAY_DESCRIPTION")}]),this._defaultNotificationTypes}},{kind:"get",key:"defaultReminders",value:function defaultReminders(){return this._defaultReminders||(this._defaultReminders={[q.AG.Before]:this._toDefaultReminderSettings(q.AG.Before,this._userSettings.global.settings.defaultRemindBefore),[q.AG.BeforeAllDay]:this._toDefaultReminderSettings(q.AG.BeforeAllDay,this._userSettings.global.settings.defaultRemindBeforeAllDay)}),this._defaultReminders}},{kind:"method",key:"canAddDefaultReminder",value:function canAddDefaultReminder(e){return this.defaultReminders[e].length<this._planywayNotificationsSrv.maxRemindersPerCard}},{kind:"method",key:"addDefaultReminder",value:function addDefaultReminder(e){this._userSettings.global.settings[e].push(J[e]),this._defaultReminders=null,this.saveDefaultReminders(e),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.DefaultReminderAdded)}},{kind:"method",key:"saveDefaultReminders",value:function saveDefaultReminders(e){var t;let r=z()(t=this.defaultReminders[e]).call(t,(e=>{let{remindBefore:t}=e;return t}));this._userSettings.global.settings[e]=r,this._defaultReminders=null,this._debounceSaveLocalSettings()}},{kind:"get",key:"isDailyOverdueEmailEnabled",value:function isDailyOverdueEmailEnabled(){return this.overdueEmailSettings.isEnabled}},{kind:"set",key:"isDailyOverdueEmailEnabled",value:function isDailyOverdueEmailEnabled(e){void 0!==e&&(async()=>{await this._planywayNotificationsSrv.saveOverdueEmailSettingsAsync(this.selectedAccount.accountId,_objectSpread(_objectSpread({},this.overdueEmailSettings),{},{isEnabled:e})),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.OverdueEmailSettingsChanged,{accountId:this.selectedAccount.accountId,isEnabled:e,sendDate:this.dailyOverdueSendDate})})()}},{kind:"get",key:"dailyOverdueMinSendDate",value:function dailyOverdueMinSendDate(){return this._dailyOverdueMinSendDate||(this._dailyOverdueMinSendDate=(0,Y.$Y)(this.dailyOverdueSendDate)),this._dailyOverdueMinSendDate}},{kind:"get",key:"dailyOverdueMaxSendDate",value:function dailyOverdueMaxSendDate(){return this._dailyOverdueMaxSendDate||(this._dailyOverdueMaxSendDate=(0,Y.mH)(this.dailyOverdueMinSendDate,1440)),this._dailyOverdueMaxSendDate}},{kind:"get",key:"dailyOverdueSendDate",value:function dailyOverdueSendDate(){return this.overdueEmailSettings.sendDate}},{kind:"set",key:"dailyOverdueSendDate",value:function dailyOverdueSendDate(e){e&&!(0,Y.rs)(e,this.dailyOverdueSendDate)&&(async()=>{await this._planywayNotificationsSrv.saveOverdueEmailSettingsAsync(this.selectedAccount.accountId,_objectSpread(_objectSpread({},this.overdueEmailSettings),{},{sendDate:e})),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.OverdueEmailSettingsChanged,{accountId:this.selectedAccount.accountId,isEnabled:this.isDailyOverdueEmailEnabled,sendDate:e})})()}},{kind:"get",key:"overdueEmailSettings",value:function overdueEmailSettings(){return this._planywayNotificationsSrv.getOverdueEmailSettings(this.selectedAccount.accountId)}},{kind:"method",key:"_convertNotification",value:function _convertNotification(e){let t,r={id:e.id,accountType:e.accountType,accountId:e.accountId,accountName:this._provider.getAccountName(e.accountId),type:e.type,sentDate:e.sentDate,calendarId:e.calendarId,calendarName:e.calendarName&&H()(e.calendarName,Q),cardId:e.cardId,cardType:e.cardData.cardType,cardName:e.cardData.name&&H()(e.cardData.name,Q),isNew:!this._previousReadDate[e.accountId]||e.sentDate>this._previousReadDate,isExternal:!this._provider.getCurrentCollectionConnectedCalendar(e.accountId,e.calendarId).isSelected};switch(e.type){case V.k$.RemindStart:r.isAllDay=e.cardData.isAllDay,r.reminderDate=(0,Y.iS)(e.cardData.baseDate,e.cardData.isAllDay),t=e.sentDate;break;case V.k$.MemberAssigned:r.checkItemId=e.cardData.checkItemId,r.checkItemName=e.cardData.checkItemName&&H()(e.cardData.checkItemName,Q),r.assigner={id:e.cardData.assignerId,fullName:e.cardData.assignerName,initials:e.cardData.assignerInitials,avatarUrlNormal:e.cardData.assignerAvatarUrl&&`${e.cardData.assignerAvatarUrl}/50.png`},t=new Date(e.cardData.date);break;case V.k$.MemberMentioned:r.commentId=e.cardData.commentId,r.mentioner={id:e.cardData.mentionerId,fullName:e.cardData.mentionerName,initials:e.cardData.mentionerInitials,avatarUrlNormal:e.cardData.mentionerAvatarUrl&&`${e.cardData.mentionerAvatarUrl}/50.png`};let i=e.cardData.comment,n=this._trelloIntegrationSrv.getTrelloMember(e.accountId);if(n){let e=`@${n.userName}`,t=0,o=new RegExp(e,"g");for(;;){let r=o.exec(i);if(r){if(r.index>0&&X.test(i[r.index-1]))continue;if(r.index<i.length-e.length-1&&X.test(i[r.index+e.length]))continue;t=r.index}break}let s=i.substring(0,t),a=i.substring(t+e.length);r.comment=H()(s,Q,{side:"start"})+e+H()(a,Q)}else r.comment=H()(i,112);t=new Date(e.cardData.date);break;default:return}return r.relativeDate=(0,Y.zg)(t),r.fullDate=(0,Y.Tu)(t),r}},{kind:"method",key:"_saveNotificationSettingsAsync",value:async function _saveNotificationSettingsAsync(e,t,r,i){void 0!==i&&i!==this.notificationsSettings[t][r]&&await this._planywayNotificationsSrv.saveNotificationsSettingsAsync(e,{[t]:{[r]:i}})}},{kind:"method",key:"_toDefaultReminderSettings",value:function _toDefaultReminderSettings(e,t){const r=this._planywayNotificationsSrv.remindTimeDayStart;return z()(t).call(t,((t,i)=>{let n={id:i,remindBefore:t,delete:()=>{var t,r;let i=z()(t=T()(r=this.defaultReminders[e]).call(r,(e=>e.id!==n.id))).call(t,(e=>{let{remindBefore:t}=e;return t}));this._userSettings.global.settings[e]=i,this._defaultReminders=null,this._debounceSaveLocalSettings(),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.DefaultReminderDeleted)}};if(O()(n,"isAllDay",{get:()=>e===q.AG.BeforeAllDay}),O()(n,"minRemindValue",{get:()=>0}),O()(n,"maxRemindValue",{get:()=>{switch(n._remindUnit){case ie:return 4;case re:return 28;case te:return 672;case ee:return 40320}}}),n.isAllDay){let e,t,i=n.remindBefore%1440,o=n.remindBefore+1440-i,s=1440-i;n.remindBefore>0?({unit:e,value:t}=(0,Y.GP)(o)):(e=re,t=0),n._remindUnit=e,n._remindValue=(0,Y.uZ)(t,e===re?0:n.minRemindValue,n.maxRemindValue),n._remindTime=(0,Y.mH)(r,s>1440?Math.abs(i):s)}else{let e,t,r=n.remindBefore;({unit:e,value:t}=(0,Y.GP)(r)),n._remindUnit=e,n._remindValue=t}return O()(n,"remindValue",{get:()=>n._remindValue,set:t=>{if(W()(t)&&(t<n.minRemindValue?t=n.minRemindValue:t>n.maxRemindValue&&(t=n.maxRemindValue),n._remindValue!==t)){if(n._remindValue=t,n._availableUnits=null,n.isAllDay){let e=1440-(0,Y.CX)(r,n._remindTime),i=(0,Y.a5)(n._remindUnit,t);n.remindBefore=i-1440+e}else{let e=(0,Y.a5)(n._remindUnit,t);n.remindBefore=e}this.saveDefaultReminders(e),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.DefaultReminderChanged)}}}),O()(n,"availableRemindUnits",{get:()=>{if(!n._availableUnits){let e;e=n.isAllDay?[re,ie]:[ee,te,re,ie],n._availableUnits=z()(e).call(e,(e=>({title:this._$translate.instant(se[1===n.remindValue?oe:ne][e]),unit:e})))}return n._availableUnits}}),O()(n,"selectedRemindUnit",{get:()=>{var e;return B()(e=n.availableRemindUnits).call(e,(e=>e.unit===n._remindUnit))},set:t=>{if(n._remindUnit===t.unit)return;n._remindUnit=t.unit;let i=n.isAllDay&&"weeks"===n._remindUnit?1:n.minRemindValue;if(n._remindValue<i?n._remindValue=i:n._remindValue>n.maxRemindValue&&(n._remindValue=n.maxRemindValue),n.isAllDay){let e=1440-(0,Y.CX)(r,n._remindTime),i=(0,Y.a5)(t.unit,n._remindValue);n.remindBefore=i-1440+e}else{let e=(0,Y.a5)(t.unit,n._remindValue);n.remindBefore=e}this.saveDefaultReminders(e),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.DefaultReminderChanged)}}),O()(n,"minRemindTime",{get:()=>r}),O()(n,"maxRemindTime",{get:()=>(n._maxRemindTime||(n._maxRemindTime=(0,Y.mH)(n.minRemindTime,1440)),n._maxRemindTime)}),O()(n,"remindTime",{get:()=>{if(n.isAllDay)return n._remindTime},set:t=>{if(t&&!(0,Y.rs)(n._remindTime,t)&&(n._remindTime=t,n.isAllDay)){{let e=1440-(0,Y.CX)(r,n._remindTime),t=(0,Y.a5)(n._remindUnit,n._remindValue);n.remindBefore=t-1440+e}this.saveDefaultReminders(e),this._telemetrySrv.logSingleEvent(q.cN.NotificationEvents.DefaultReminderChanged)}}}),n}))}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}},{kind:"field",key:"_debounceSaveLocalSettings",value(){return U()((()=>this._userSettings.local.save()),500)}}]}}))},81948:(e,t,r)=>{r.d(t,{p:()=>j});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(62079),k=r.n(y),g=r(52020),_=r.n(g),w=r(88546),D=r.n(w),E=r(66775),b=r.n(E),C=r(2201),S=r.n(C),P=r(26171),T=r(26881),A=r(88946),z=r.n(A),I=r(27525),x=r.n(I),R=r(86981),$=r.n(R),F=r(73324),N=r.n(F),M=r(8244),O=r.n(M),L=r(14587),W=r(29704);function ownKeys(e,t){var r=k()(e);if(_()){var i=_()(e);t&&(i=N()(i).call(i,(function(t){return D()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?s()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,P.Z)(e,t,n[t])})):b()?S()(e,b()(n)):s()(i=ownKeys(Object(n))).call(i,(function(t){l()(e,t,D()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return z()(t=(0,T.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:z()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const K="never",B="after",G="on",H=[L.Ci.MO,L.Ci.TU,L.Ci.WE,L.Ci.TH,L.Ci.FR,L.Ci.SA,L.Ci.SU];let j=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=$()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(z()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,W.SG)(["$translate","settingsSrv","mdPanelRef","rule","start","isAllDay"])],(function(e){return{F:class RecurrentEditorController{constructor(t,r,i,n,o,s){e(this),this._$translate=t,this._settingsSrv=r,this._mdPanelRef=i,this._frequencies=[{title:this._$translate.instant("DIALOGS.DAILY"),value:L.Ci.DAILY},{title:this._$translate.instant("DIALOGS.WEEKLY"),value:L.Ci.WEEKLY},{title:this._$translate.instant("DIALOGS.MONTHLY"),value:L.Ci.MONTHLY},{title:this._$translate.instant("DIALOGS.YEARLY"),value:L.Ci.YEARLY}],this._start=new Date(o),this._isAllDay=s;let a=kendo.culture(),l=a.calendar.days.names;this._weekDays=z()(l).call(l,((e,t)=>{let r=t-1;return r<0&&(r=6),{weekday:H[r].weekday,title:e,shortTitle:a.calendar.days.namesShort[t].toUpperCase().charAt(0),isSelected:!1}})),this._currentWeekDay=this._weekDays[this._start.getDay()],this._currentWeekDay.isSelected=!0;for(let e=0;e<a.calendar.firstDay;e++)this._weekDays.push(this._weekDays.shift());switch(this._weekDaysOrder=[{title:this._$translate.instant("DIALOGS.FIRST"),value:1},{title:this._$translate.instant("DIALOGS.SECOND"),value:2},{title:this._$translate.instant("DIALOGS.THIRD"),value:3},{title:this._$translate.instant("DIALOGS.FOURTH"),value:4},{title:this._$translate.instant("DIALOGS.LAST"),value:-1}],this._recurrenceRule=n,this._recurrenceRule?(this._ruleObject=L.Ci.fromString(this._recurrenceRule),this._normalizedRule=this._ruleObject.toString({onlyDate:this._isAllDay}).replace("RRULE:","")):this._ruleObject=new L.Ci({freq:L.Ci.WEEKLY,byweekday:[H[this._currentWeekDay.weekday]]}),this._ruleObject.origOptions.count?this._endsMode=B:this._ruleObject.origOptions.until?this._endsMode=G:this._endsMode=K,this._ruleObject.origOptions.freq){case L.Ci.DAILY:this._defaultCount=30,this._defaultUntil=(0,W.E4)(this._start,this._defaultCount);break;case L.Ci.WEEKLY:if(this._ruleObject.origOptions.byweekday)for(let e of this._weekDays){var c;e.isSelected=x()(c=this._ruleObject.origOptions.byweekday).call(c,(t=>t.weekday===e.weekday))}this._defaultCount=13,this._defaultUntil=(0,W.jh)(this._start,this._defaultCount);break;case L.Ci.MONTHLY:let e,t,r,i,n;if(this._ruleObject.origOptions.byweekday&&this._ruleObject.origOptions.byweekday[0]){var d,u;e=this._start.getDate(),t=this._ruleObject.origOptions.byweekday[0],r=$()(d=this._weekDaysOrder).call(d,(e=>e.value===t.n)),i=$()(u=this._weekDays).call(u,(e=>e.weekday===t.weekday)),n=1}else{var p;e=this._ruleObject.origOptions.bymonthday;let o=Math.floor(this._start.getDate()/7),s=this._start.getDay()-1;s<0&&(s=6),r=this._weekDaysOrder[o],t=H[s].nth(r.value),i=$()(p=this._weekDays).call(p,(e=>e.weekday===H[s].weekday)),n=0}this._monthlyRepeatModes=[{index:0,title:this._$translate.instant("DIALOGS.ON_DAY",{day:e}),value:{bymonthday:e,byweekday:null}},{index:1,title:this._$translate.instant("DIALOGS.ON_WEEKDAY",{weekdayOrder:r.title,weekday:i.title}),value:{bymonthday:null,byweekday:t}}],this._selectedMonthlyRepeatMode=this.monthlyRepeatModes[n],this._defaultCount=12,this._defaultUntil=(0,W.zI)(this._start,this._defaultCount);break;case L.Ci.YEARLY:this._defaultCount=5,this._defaultUntil=(0,W.Bc)(this._start,this._defaultCount)}}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"recurrentEditorCtrl"}},{kind:"get",key:"showWeekNumbers",value:function showWeekNumbers(){return this._collectionSettings.global.settings.showWeekNumbers}},{kind:"get",key:"recurrenceRule",value:function recurrenceRule(){return this._recurrenceRule}},{kind:"get",key:"interval",value:function interval(){return this._ruleObject.origOptions.interval||1}},{kind:"set",key:"interval",value:function interval(e){this._ruleObject.origOptions.interval=e>1?e:null}},{kind:"get",key:"frequencies",value:function frequencies(){return this._frequencies}},{kind:"get",key:"selectedFrequency",value:function selectedFrequency(){var e;return $()(e=this._frequencies).call(e,(e=>e.value===this._ruleObject.origOptions.freq))}},{kind:"set",key:"selectedFrequency",value:function selectedFrequency(e){var t,r,i;if(this._ruleObject.origOptions.freq!==e.value)switch(this._ruleObject.origOptions.freq=e.value,e.value){case L.Ci.DAILY:this._ruleObject.origOptions.bymonthday=null,this._ruleObject.origOptions.byweekday=null,this._defaultCount=30,this._defaultUntil=(0,W.E4)(this._start,this._defaultCount);break;case L.Ci.WEEKLY:this._ruleObject.origOptions.bymonthday=null,this._ruleObject.origOptions.byweekday=z()(t=N()(r=this.weekDays).call(r,(e=>e.isSelected))).call(t,(e=>H[e.weekday])),this._defaultCount=13,this._defaultUntil=(0,W.jh)(this._start,this._defaultCount);break;case L.Ci.MONTHLY:this._ruleObject.origOptions.bymonthday=this._start.getDate(),this._ruleObject.origOptions.byweekday=null,this._defaultCount=12,this._defaultUntil=(0,W.zI)(this._start,this._defaultCount);let e=this._ruleObject.origOptions.bymonthday,n=Math.floor(this._start.getDate()/7),o=this._start.getDay()-1;o<0&&(o=6);let s=this._weekDaysOrder[n],a=H[o].nth(s.value),l=$()(i=this._weekDays).call(i,(e=>e.weekday===H[o].weekday));this._monthlyRepeatModes=[{index:0,title:this._$translate.instant("DIALOGS.ON_DAY",{day:e}),value:{bymonthday:e,byweekday:null}},{index:1,title:this._$translate.instant("DIALOGS.ON_WEEKDAY",{weekdayOrder:s.title,weekday:l.title}),value:{bymonthday:null,byweekday:a}}],this._selectedMonthlyRepeatMode=this.monthlyRepeatModes[0];break;case L.Ci.YEARLY:this._ruleObject.origOptions.bymonthday=null,this._ruleObject.origOptions.byweekday=null,this._defaultCount=5,this._defaultUntil=(0,W.Bc)(this._start,this._defaultCount)}}},{kind:"get",key:"monthlyRepeatModes",value:function monthlyRepeatModes(){return this._monthlyRepeatModes}},{kind:"get",key:"selectedMonthlyRepeatMode",value:function selectedMonthlyRepeatMode(){return this._selectedMonthlyRepeatMode}},{kind:"set",key:"selectedMonthlyRepeatMode",value:function selectedMonthlyRepeatMode(e){this._selectedMonthlyRepeatMode=e,this._ruleObject.origOptions=_objectSpread(_objectSpread({},this._ruleObject.origOptions),{},{bymonthday:e.value.bymonthday,byweekday:e.value.byweekday})}},{kind:"get",key:"weekDays",value:function weekDays(){return this._weekDays}},{kind:"method",key:"switchWeekDaySelection",value:function switchWeekDaySelection(e){var t,r,i;e.isSelected=!e.isSelected,O()(t=this.weekDays).call(t,(e=>!e.isSelected))&&(this._currentWeekDay.isSelected=!0),this._ruleObject.origOptions.byweekday=z()(r=N()(i=this.weekDays).call(i,(e=>e.isSelected))).call(r,(e=>H[e.weekday]))}},{kind:"get",key:"endsMode",value:function endsMode(){return this._endsMode}},{kind:"set",key:"endsMode",value:function endsMode(e){switch(this._endsMode=e,this._endsMode){case K:this._ruleObject.origOptions.until=null,this._ruleObject.origOptions.count=null;break;case B:this._ruleObject.origOptions.until=null,this._ruleObject.origOptions.count=this._defaultCount;break;case G:this._ruleObject.origOptions.until=this._isAllDay?(0,W._q)((0,W.$Y)(this._defaultUntil)):(0,W._q)((0,W.h3)(this._defaultUntil)),this._ruleObject.origOptions.count=null}this._until=null}},{kind:"get",key:"minUntil",value:function minUntil(){return this._start}},{kind:"get",key:"until",value:function until(){if(!this._until){if(!this._ruleObject.origOptions.until)return this._defaultUntil;this._until=(0,W.wD)((this._isAllDay,this._ruleObject.origOptions.until))}return this._until}},{kind:"set",key:"until",value:function until(e){this._ruleObject.origOptions.until!==e&&(e&&(e=this._isAllDay?(0,W._q)((0,W.$Y)(e)):(0,W._q)((0,W.h3)(e))),this._ruleObject.origOptions.until=e,this._until=null)}},{kind:"get",key:"count",value:function count(){return this._ruleObject.origOptions.count||this._defaultCount}},{kind:"set",key:"count",value:function count(e){e||(e=1),this._ruleObject.origOptions.count=e}},{kind:"method",key:"onSaveClick",value:function onSaveClick(){let e=this._ruleObject.toString({onlyDate:this._isAllDay}).replace("RRULE:","");e!==this._normalizedRule&&(this._recurrenceRule=e),this._mdPanelRef&&this._mdPanelRef.close("success")}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}}]}}))},12442:(e,t,r)=>{r.d(t,{P:()=>I});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(26881),k=r(86981),g=r.n(k),_=r(88946),w=r.n(_),D=r(10349),E=r.n(D),b=r(8244),C=r.n(b),S=r(14587),P=r(8937),T=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return w()(t=(0,y.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:w()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const A=[S.Ci.MO,S.Ci.TU,S.Ci.WE,S.Ci.TH,S.Ci.FR,S.Ci.SA,S.Ci.SU],z=[1,2,3,4,-1];let I=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=g()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(w()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,T.SG)(["$scope","$translate","dialogSrv","licenseSrv"])],(function(e){return{F:class RecurrentSelectController{constructor(t,r,i,n){e(this),this._$scope=t,this._$translate=r,this._dialogSrv=i,this._licenseSrv=n,this._ruleText=this._$translate.instant("DIALOGS.REPEAT")}},d:[{kind:"field",key:"_rulePresets",value:()=>[]},{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"recurrentSelectCtrl"}},{kind:"get",key:"presets",value:function presets(){return this.delayRender?[]:this._rulePresets}},{kind:"get",key:"recurrenceRule",value:function recurrenceRule(){return this._recurrenceRule}},{kind:"set",key:"recurrenceRule",value:function recurrenceRule(e){this._recurrenceRule!==e&&(this._recurrenceRule=e,void 0!==this.startDate&&void 0!==this.isAllDay&&this._initPresets())}},{kind:"get",key:"startDate",value:function startDate(){return this._startDate}},{kind:"set",key:"startDate",value:function startDate(e){this._startDate!==e&&(this._startDate=e,void 0!==this.isAllDay&&this._initPresets())}},{kind:"get",key:"isAllDay",value:function isAllDay(){return this._isAllDay}},{kind:"set",key:"isAllDay",value:function isAllDay(e){this._isAllDay!==e&&(this._isAllDay=e,void 0!==this.startDate&&this._initPresets())}},{kind:"get",key:"ruleText",value:function ruleText(){return this._ruleText}},{kind:"set",key:"ruleText",value:function ruleText(e){this._$scope.$evalAsync((()=>this._ruleText=e))}},{kind:"method",key:"showRecurringEditorAsync",value:async function showRecurringEditorAsync(){this._licenseSrv.checkPaidFeatureAvailable(P.ZV.RecurringCards,!0)&&(this.recurrenceRule=await this._dialogSrv.showRecurringEditorAsync({rule:this.recurrenceRule,start:this.startDate,isAllDay:this.isAllDay,relativeTo:".pw-js-recurrent-btn"}),this._reloadPresets())}},{kind:"method",key:"isPresetSelected",value:function isPresetSelected(e){return!e.string&&!this.recurrenceRule||e.string===(this._normalizedRule||this.recurrenceRule||null)}},{kind:"method",key:"selectPreset",value:function selectPreset(e){e.string&&!this._licenseSrv.checkPaidFeatureAvailable(P.ZV.RecurringCards,!0)||(this.recurrenceRule=e.string,this._reloadPresets())}},{kind:"method",key:"_initPresets",value:function _initPresets(){if(this.recurrenceRule){let e=S.Ci.fromString(this.recurrenceRule);this._normalizedRule=e.toString({onlyDate:this.isAllDay}).replace("RRULE:",""),this.ruleText=(0,T.Oo)(e.toText())}else this._normalizedRule=null,this.ruleText=this._$translate.instant("DIALOGS.REPEAT");let e=g()(A).call(A,(e=>e.getJsWeekday()===this.startDate.getDay())),t=Math.floor((this.startDate.getDate()-1)/7),r=[new S.Ci({freq:S.Ci.DAILY}),new S.Ci({freq:S.Ci.WEEKLY,byweekday:e}),new S.Ci({freq:S.Ci.MONTHLY,byweekday:e.nth(z[t])}),new S.Ci({freq:S.Ci.YEARLY,bymonth:this.startDate.getMonth()+1,bymonthday:this.startDate.getDate()}),new S.Ci({freq:S.Ci.WEEKLY,byweekday:[S.Ci.MO,S.Ci.TU,S.Ci.WE,S.Ci.TH,S.Ci.FR]})];this._defaultPresets=[{text:this._$translate.instant("DIALOGS.DEFAULT_RULE_TEXT"),string:null},...w()(r).call(r,(e=>{let t=e.toString({onlyDate:this.isAllDay}).replace("RRULE:","");return{text:(0,T.Oo)(e.toText()),string:t===this._normalizedRule?this.recurrenceRule:t}}))],this._reloadPresets()}},{kind:"method",key:"_reloadPresets",value:function _reloadPresets(){var e;if(this._rulePresets=E()(this._defaultPresets),this.recurrenceRule&&C()(e=this._defaultPresets).call(e,(e=>e.string!==this.recurrenceRule))){let e=S.Ci.fromString(this.recurrenceRule);this._rulePresets.push({text:(0,T.Oo)(e.toText()),string:e.toString({onlyDate:this.isAllDay}).replace("RRULE:",""),isCustom:!0})}}}]}}))},60610:(e,t,r)=>{r.d(t,{V:()=>K});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(26881),k=r(86981),g=r.n(k),_=r(8244),w=r.n(_),D=r(73324),E=r.n(D),b=r(27525),C=r.n(b),S=r(88946),P=r.n(S),T=r(91829),A=r.n(T),z=r(23513),I=r.n(z),x=r(87994),R=r.n(x),$=r(10349),F=r.n($),N=r(89221),M=r.n(N),O=r(56777),L=r(20115),W=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return P()(t=(0,y.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:P()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let K=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=g()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(P()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,r(29704).SG)(["$injector","$rootScope","$scope","$translate","$mdMenu","appCommonSrv","dialogSrv","licenseSrv","planywayIntegrationSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class ResourcesMenuController{constructor(t,r,i,n,o,s,a,l,c,d,u){e(this),this._$injector=t,this._$rootScope=r,this._$scope=i,this._$translate=n,this._$mdMenu=o,this._appCommonSrv=s,this._dialogSrv=a,this._licenseSrv=l,this._planywayIntegrationSrv=c,this._settingsSrv=d,this._telemetrySrv=u,this._loadResources(),this._$scope.$on(W.FK.CollectionChanged,(()=>this._loadResources())),this._$scope.$on(W.FK.AccountAdded,(()=>this._loadResources())),this._$scope.$on(W.FK.AccountDeleted,(()=>this._loadResources())),this._$scope.$on(W.FK.CalendarsChanged,(()=>this._loadResources())),this._$scope.$on(W.FK.CollectionAccountReady,(()=>this._currentTrelloBoardLazy=null)),this._$scope.$on(W.FK.CollectionChanged,(()=>this._currentTrelloBoardLazy=null)),this._$scope.$on(W.FK.CalendarsChanged,(()=>this._currentTrelloBoardLazy=null)),this._$scope.$on(W.FK.TrelloBoardSelectionChanged,(()=>this._currentTrelloBoardLazy=null)),this._$scope.$on(W.FK.TaskListsBoardChanged,(()=>this._currentTrelloBoardLazy=null)),this._$scope.$on(W.FK.ChangeSchedulerViewRequested,(()=>{let e=this._appCommonSrv.getTimelineResourcesType();this._loadedResourcesType!==e&&this._loadResources(e)})),this._$scope.$on(W.FK.TimelineResourcesReloaded,((e,t)=>{t.eventSource!==this&&t.resourcesType===this._appCommonSrv.getTimelineResourcesType()&&this._loadResources()})),this._$scope.$on(W.FK.TimelineResourcesReordered,(()=>{this._loadResources()})),this._$scope.$on(W.FK.TimelineResourceRemoveRequested,((e,t)=>{var r;if(t.isMilestones)return void(this.isMilestonesSelected&&this.switchMilestonesSelection());let i=g()(r=this.resources).call(r,(e=>e.id===t.resource.id));null!=i&&i.isSelected&&this.switchResourceSelection(i)})),this._isMilestonesSelectionChanged=!1,this._isResourcesSelectionChanged=!1,this._selectionStarted=!1}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"resourcesMenuCtrl"}},{kind:"get",key:"_trelloIntegrationSrv",value:function _trelloIntegrationSrv(){return this._trelloIntegrationSrvLazy||(this._trelloIntegrationSrvLazy=this._$injector.get("trelloIntegrationSrv")),this._trelloIntegrationSrvLazy}},{kind:"get",key:"isResourcesTypesDisabled",value:function isResourcesTypesDisabled(){return this._selectionStarted}},{kind:"get",key:"selectedResourcesType",value:function selectedResourcesType(){return this._appCommonSrv.getTimelineResourcesType()}},{kind:"get",key:"title",value:function title(){var e;if((null===(e=this.resourcesGroups)||void 0===e?void 0:e.length)>0)return this._resourcesGroups[0].menu.title}},{kind:"get",key:"isSelectAllAvailable",value:function isSelectAllAvailable(){return 0!==this.resources.length&&this.selectedResourcesType!==W.y.NoResources}},{kind:"get",key:"isSelectAllDisabled",value:function isSelectAllDisabled(){var e;return w()(e=this.resources).call(e,(e=>e.isSelected))}},{kind:"method",key:"selectAll",value:function selectAll(){var e,t,r,i,n;if(this.isSelectAllDisabled)return;if(!this._licenseSrv.checkPaidFeatureAvailable(W.ZV.Milestones,!0))return void this._$mdMenu.hide();let o=this._appCommonSrv.getTimelineResourcesType();if(o===W.y.Members){var s;let e=E()(s=this.resources).call(s,(e=>e.id!==L.$d)).length;if(!this._licenseSrv.checkPaidFeatureAvailable(W.ZV.TimelineMember,!0,{paidLanesCount:e}))return void this._$mdMenu.hide()}for(let e of this.resources)e.isSelected||(e.isSelected=!0,this._isResourcesSelectionChanged=!0);switch(o){case W.y.Members:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineMembersSelectedAll,{timelineMembersCount:this.resources.length});break;case W.y.Calendars:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineCalendarsSelectedAll,{timelineBoardsCount:E()(e=this.resources).call(e,(e=>e.resourceData.calendarType===W.kK.TrelloBoard)).length,timelineGoogleCalendarsCount:E()(t=this.resources).call(t,(e=>e.resourceData.calendarType===W.kK.GoogleCalendar)).length,timelineOutlookCalendarsCount:E()(r=this.resources).call(r,(e=>e.resourceData.calendarType===W.kK.OutlookCalendar)).length,timelineICalsCount:E()(i=this.resources).call(i,(e=>e.resourceData.calendarType===W.kK.ICalCalendar)).length,timelineGitHubProjectsCount:E()(n=this.resources).call(n,(e=>e.resourceData.calendarType===W.kK.GitHubProject)).length});break;case W.y.Lists:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineListsSelectedAll,{timelineListsCount:this.resources.length});break;case W.y.Labels:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineLabelsSelectedAll,{timelineLabelsCount:this.resources.length})}this._selectionStarted||this._processSelectionAsync()}},{kind:"get",key:"isSelectNoneAvailable",value:function isSelectNoneAvailable(){return 0!==this.resources.length&&this.selectedResourcesType!==W.y.NoResources}},{kind:"get",key:"isSelectNoneDisabled",value:function isSelectNoneDisabled(){var e;return!this.isMilestonesSelected&&w()(e=this.resources).call(e,(e=>!e.isSelected))}},{kind:"method",key:"selectNone",value:function selectNone(){var e,t,r,i,n;if(!this.isSelectNoneDisabled){for(let e of this.resources)e.isSelected&&(e.isSelected=!1,this._isResourcesSelectionChanged=!0);switch(this._appCommonSrv.getTimelineResourcesType()){case W.y.Members:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineMembersSelectedNone,{timelineMembersCount:this.resources.length});break;case W.y.Calendars:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineCalendarsSelectedNone,{timelineBoardsCount:E()(e=this.resources).call(e,(e=>e.resourceData.calendarType===W.kK.TrelloBoard)).length,timelineGoogleCalendarsCount:E()(t=this.resources).call(t,(e=>e.resourceData.calendarType===W.kK.GoogleCalendar)).length,timelineOutlookCalendarsCount:E()(r=this.resources).call(r,(e=>e.resourceData.calendarType===W.kK.OutlookCalendar)).length,timelineICalsCount:E()(i=this.resources).call(i,(e=>e.resourceData.calendarType===W.kK.ICalCalendar)).length,timelineGitHubProjectsCount:E()(n=this.resources).call(n,(e=>e.resourceData.calendarType===W.kK.GitHubProject)).length});break;case W.y.Lists:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineListsSelectedNone,{timelineListsCount:this.resources.length});break;case W.y.Labels:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineLabelsSelectedNone,{timelineLabelsCount:this.resources.length})}this._isMilestonesSelected=!1,this._isMilestonesSelectionChanged=!0,this._selectionStarted||this._processSelectionAsync()}}},{kind:"get",key:"isMilestonesMenuAvailable",value:function isMilestonesMenuAvailable(){var e,t;void 0===this._isMilestonesMenuAvailable&&((null===(e=this.resourcesGroups)||void 0===e?void 0:e.length)>0?this._isMilestonesMenuAvailable=C()(t=this.resourcesGroups).call(t,(e=>e.provider.isMilestonesSupported()&&e.provider.hasCurrentCollectionSelectedCalendars())):this._isMilestonesMenuAvailable=!1);return this._isMilestonesMenuAvailable}},{kind:"get",key:"isMilestonesSelected",value:function isMilestonesSelected(){return this._isMilestonesSelected}},{kind:"method",key:"switchMilestonesSelection",value:function switchMilestonesSelection(){this._licenseSrv.checkPaidFeatureAvailable(W.ZV.Milestones,!0)?(this._isMilestonesSelected=!this._isMilestonesSelected,this._isMilestonesSelectionChanged=!0,this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineMilestoneLaneChanged,{isMilestonesShown:this._isMilestonesSelected}),this._selectionStarted||this._processSelectionAsync()):this._$mdMenu.hide()}},{kind:"get",key:"resources",value:function resources(){return this._resources}},{kind:"get",key:"resourcesGroups",value:function resourcesGroups(){return this._resourcesGroups}},{kind:"method",key:"switchResourceSelection",value:function switchResourceSelection(e){var t,r,i,n,o,s,a,l;let c=this._appCommonSrv.getTimelineResourcesType();if(c===W.y.Members&&e.id!==L.$d){var d;let t=E()(d=this.resources).call(d,(e=>e.id!==L.$d&&e.isSelected)).length;if(e.isSelected)t-=1;else if(t+=1,1===this._licenseSrv.getMaxMemberLanes()){var u;let r=P()(u=e.accountIds).call(u,(e=>this._planywayIntegrationSrv.getConnectedAccountById(e).trelloMemberId));r.length>0&&!A()(r).call(r,e.id)&&(t+=1)}if(!this._licenseSrv.checkPaidFeatureAvailable(W.ZV.TimelineMember,!0,{paidLanesCount:t}))return void this._$mdMenu.hide()}switch(e.isSelected=!e.isSelected,this._isResourcesSelectionChanged=!0,c){case W.y.Members:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineMembersChanged,{timelineMembersCount:E()(t=this.resources).call(t,(e=>e.isSelected)).length});break;case W.y.Calendars:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineCalendarsChanged,{timelineBoardsCount:E()(r=this.resources).call(r,(e=>e.isSelected&&e.resourceData.calendarType===W.kK.TrelloBoard)).length,timelineGoogleCalendarsCount:E()(i=this.resources).call(i,(e=>e.isSelected&&e.resourceData.calendarType===W.kK.GoogleCalendar)).length,timelineOutlookCalendarsCount:E()(n=this.resources).call(n,(e=>e.isSelected&&e.resourceData.calendarType===W.kK.OutlookCalendar)).length,timelineICalsCount:E()(o=this.resources).call(o,(e=>e.isSelected&&e.resourceData.calendarType===W.kK.ICalCalendar)).length,timelineGitHubProjectsCount:E()(s=this.resources).call(s,(e=>e.isSelected&&e.resourceData.calendarType===W.kK.GitHubProject)).length});break;case W.y.Lists:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineListsChanged,{timelineListsCount:E()(a=this.resources).call(a,(e=>e.isSelected)).length});break;case W.y.Labels:this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.TimelineLabelsChanged,{timelineLabelsCount:E()(l=this.resources).call(l,(e=>e.isSelected)).length})}this._selectionStarted||this._processSelectionAsync()}},{kind:"method",key:"showAddResourcesDialogAsync",value:function showAddResourcesDialogAsync(){var e;if(this.selectedResourcesType===W.y.Members){let t=E()(e=this.resources).call(e,(e=>e.id!==L.$d&&e.isSelected)).length+1;if(!this._licenseSrv.checkPaidFeatureAvailable(W.ZV.TimelineMember,!0,{paidLanesCount:t}))return;this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.MembersDialogOpened,{where:W.JM.ResourcesMenu}),this._dialogSrv.showBoardShareDialogAsync({accountId:this._currentTrelloBoard.accountId,trelloBoard:this._currentTrelloBoard,where:W.JM.ResourcesMenu})}}},{kind:"method",key:"onMenuOpen",value:function onMenuOpen(){this._telemetrySrv.logSessionEvent(W.cN.CalendarEvents.ResourcesMenuOpened)}},{kind:"get",key:"isInDebug",value:function isInDebug(){return!1}},{kind:"method",key:"resetSort",value:function resetSort(){}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}},{kind:"get",key:"_trelloCollectionSettings",value:function _trelloCollectionSettings(){return{local:this._collectionSettings.local.settings.provider[W.lP.Trello],global:this._collectionSettings.global.settings.provider[W.lP.Trello]}}},{kind:"method",key:"_loadResources",value:function _loadResources(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._appCommonSrv.getTimelineResourcesType();this._loadedResourcesType=t,this._resources=this._appCommonSrv.getTimelineResources(t);let r=new(I())(R()(e=this._resources).call(e,(e=>e.accountIds)));this._resourcesGroups=F()(M()(r).call(r),(e=>{var i;let n=this._planywayIntegrationSrv.getConnectedAccountById(e),o=(0,O.dS)(n.accountType);return{accountId:e,provider:o,menu:o.getTimelineResourcesMenuByType(e,t,r.size>1),resources:E()(i=this._resources).call(i,(t=>{var r;return A()(r=t.accountIds).call(r,e)})),order:W.Tr[o.type],isCollapsed:!1}})),this._isMilestonesSelectionChanged||(this._licenseSrv.checkPaidFeatureAvailable(W.ZV.Milestones,!1)?this._isMilestonesSelected=this._collectionSettings.global.settings.isMilestonesShown:this._isMilestonesSelected=!1),this._isMilestonesMenuAvailable=void 0}},{kind:"method",key:"_processSelectionAsync",value:async function _processSelectionAsync(){let e=this._isMilestonesSelectionChanged||this._isResourcesSelectionChanged;this._isMilestonesSelectionChanged&&(this._collectionSettings.global.settings.isMilestonesShown=this.isMilestonesSelected,this._isMilestonesSelectionChanged=!1);let t=this._appCommonSrv.getTimelineResourcesType();if(this._isResourcesSelectionChanged){var r,i;let e=P()(r=E()(i=this.resources).call(i,(e=>!e.isSelected))).call(r,(e=>e.id));this._collectionSettings.global.settings.timelineHiddenResources[t]=e,this._isResourcesSelectionChanged=!1}if(e){this._selectionStarted=!0;try{this._appCommonSrv.setSchedulerBusy(!0),await this._collectionSettings.global.saveAsync()}finally{this._appCommonSrv.setSchedulerBusy(!1)}return this._processSelectionAsync()}this._selectionStarted&&(this._selectionStarted=!1,this._$rootScope.$broadcast(W.FK.TimelineResourcesReloaded,{resourcesType:t,eventSource:this}))}},{kind:"get",key:"_currentTrelloBoard",value:function _currentTrelloBoard(){if(!this._currentTrelloBoardLazy){var e;let t=(0,O.VH)(W.lP.Trello),r=R()(e=t.getCurrentCollectionConnectedAccountIds()).call(e,(e=>{var r;let i=t.getCurrentCollectionSelectedCalendarIds(e);return E()(r=P()(i).call(i,(t=>this._trelloIntegrationSrv.getTrelloBoardById(e,t)))).call(r,(e=>e))}));this._currentTrelloBoardLazy=g()(r).call(r,(e=>e.id===this._trelloCollectionSettings.global.taskLists.boardId)),this._currentTrelloBoardLazy||(this._currentTrelloBoardLazy=r[0])}return this._currentTrelloBoardLazy}}]}}))},2682:(e,t,r)=>{r.d(t,{$:()=>D});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let D=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,r(29704).SG)(["collectionSrv","dialogSrv","planywayIntegrationSrv","planywayNotificationsSrv"])],(function(e){return{F:class RootController{constructor(t,r,i,n){e(this),this._collectionSrv=t,this._dialogSrv=r,this._planywayIntegrationSrv=i,this._planywayNotificationsSrv=n}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"rootCtrl"}},{kind:"get",key:"isAppInitialized",value:function isAppInitialized(){return this._planywayIntegrationSrv.isAppInitialized()}},{kind:"get",key:"isCurrentCollectionUnavailable",value:function isCurrentCollectionUnavailable(){return this._collectionSrv.isCurrentCollectionUnavailable}},{kind:"get",key:"openedReactDialogs",value:function openedReactDialogs(){return this._dialogSrv.openedReactDialogs}},{kind:"get",key:"isPushNotificationsBannerShown",value:function isPushNotificationsBannerShown(){return this._planywayNotificationsSrv.isPushNotificationsBannerShown}}]}}))},7191:(e,t,r)=>{r.d(t,{b:()=>E});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let E=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,r(29704).SG)(["appCommonSrv"])],(function(e){return{F:class ScalesMenuController{constructor(t){e(this),this._appCommonSrv=t}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"scalesMenuCtrl"}},{kind:"get",key:"isScaleAvailable",value:function isScaleAvailable(){let e=this._schedulerWidget.view();return!!e&&e.isScaleAvailable}},{kind:"get",key:"isScaleOutEnabled",value:function isScaleOutEnabled(){return this._schedulerWidget.view().getScale()<D.F6.Max}},{kind:"get",key:"isScaleInEnabled",value:function isScaleInEnabled(){return this._schedulerWidget.view().getScale()>D.F6.Min}},{kind:"method",key:"changeScale",value:function changeScale(e){this._schedulerWidget.view().changeScale(e)}},{kind:"get",key:"_schedulerWidget",value:function _schedulerWidget(){return this._appCommonSrv.getSchedulerWidget()}}]}}))},61629:(e,t,r)=>{r.d(t,{v:()=>fe});var i=r(40024),n=r.n(i),o=r(57445),s=r.n(o),a=r(51791),l=r.n(a),c=r(90143),d=r.n(c),u=r(56626),p=r.n(u),h=r(67552),f=r.n(h),m=r(62079),v=r.n(m),y=r(52020),k=r.n(y),g=r(88546),_=r.n(g),w=r(66775),D=r.n(w),E=r(2201),b=r.n(E),C=r(26171),S=r(26881),P=r(35820),T=r.n(P),A=r(88946),z=r.n(A),I=r(73324),x=r.n(I),R=r(8244),$=r.n(R),F=r(27525),N=r.n(F),M=r(91829),O=r.n(M),L=r(99595),W=r.n(L),K=r(31082),B=r.n(K),G=r(54847),H=r.n(G),j=r(10349),U=r.n(j),V=r(89221),Z=r.n(V),q=(r(58218),r(98235)),Y=r.n(q),Q=r(86981),X=r.n(Q),J=r(19755),ee=r.n(J),te=r(18965),re=r(82617),ie=r(56777),ne=r(46930),oe=r(20115),se=r(8937),ae=r(85065),le=r(66059),ce=r(48550),de=r(32966),ue=r(92555),pe=r(6506),he=r(29704);function ownKeys(e,t){var r=v()(e);if(k()){var i=k()(e);t&&(i=x()(i).call(i,(function(t){return _()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?W()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,C.Z)(e,t,n[t])})):D()?b()(e,D()(n)):W()(i=ownKeys(Object(n))).call(i,(function(t){s()(e,t,_()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;W()(r=["method","field"]).call(r,(function(r){W()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;W()(r=["method","field"]).call(r,(function(r){W()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}s()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(W()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),W()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==l()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];d()(s).call(s,l()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,n[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&i.push(c.finisher);var u=c.extras;if(u){for(var p=0;p<u.length;p++)this.addElementPlacement(u[p],t);r.push.apply(r,u)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return s()(t,p(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return z()(t=(0,S.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:f()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:z()(e).call(e,this.fromElementDescriptor,this)};return s()(t,p(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let fe=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=X()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(z()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,he.SG)(["$element","$rootScope","$scope","$log","$window","$timeout","$translate","$mdPanel","appCommonSrv","calendarCardsSrv","collectionSrv","dialogSrv","htmlHelperSrv","licenseSrv","notificationSrv","onboardingSrv","planywayIntegrationSrv","platformSrv","reportSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class SchedulerController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m,v,y,k,g,_,w){var D=this;e(this),this._$element=t,this._$rootScope=r,this._$scope=i,this._$log=n,this._$window=o,this._$timeout=s,this._$translate=a,this._$mdPanel=l,this._appCommonSrv=c,this._calendarCardsSrv=d,this._collectionSrv=u,this._dialogSrv=p,this._htmlHelperSrv=h,this._licenseSrv=f,this._notificationSrv=m,this._onboardingSrv=v,this._planywayIntegrationSrv=y,this._platformSrv=k,this._reportSrv=g,this._settingsSrv=_,this._telemetrySrv=w,this._$scope.$on(se.FK.CollectionChanging,(()=>{this.applySchedulerSettings(),this.scrollView()}));const updateDataSourceData=()=>{this._schedulerCardsDataSource.refreshAsync(),this._schedulerResourcesDataSource.read()};this._$scope.$on(se.FK.CollectionChanged,updateDataSourceData),this._$scope.$on(se.FK.CalendarsChanged,updateDataSourceData),this._$scope.$on(se.FK.AccountAdded,updateDataSourceData),this._$scope.$on(se.FK.AccountDeleted,updateDataSourceData),this._$scope.$on(se.FK.SettingsChanged,(()=>this.applySchedulerSettings())),this._$scope.$on(se.FK.CardsFieldsSettingsChanged,(()=>this._applyCardsFieldsSettings())),this._onAddOrUpdateCard=(e,t)=>{e.hasDates?(this._cardsAddOrUpdateQueue||(this._cardsAddOrUpdateQueue=[],this._cardsAddOrUpdateTimeout=this._$timeout((()=>{try{!this._cardsRefreshTimeout&&this._cardsAddOrUpdateQueue.length<10&&!this._cardsDeleteQueue?(this._schedulerCardsDataSource.pushUpdate(this._cardsAddOrUpdateQueue),this._updateCardContextMenu()):(this._$timeout.cancel(this._cardsRefreshTimeout),this._isCardsRefreshRequested=!0),this._cardsRefreshTimeout=this._$timeout((()=>{try{this._isCardsRefreshRequested&&(this._isCardsRefreshRequested=!1,this._schedulerCardsDataSource.refreshAsync())}finally{this._cardsRefreshTimeout=null}}),100,!1)}finally{this._cardsAddOrUpdateQueue=null,this._cardsAddOrUpdateTimeout=null}}),0,!1)),this._cardsAddOrUpdateQueue.push(e)):this._onDeleteCard(e,t)},this._onDeleteCard=e=>{(e.hasDates||this._schedulerCardsDataSource.get(e.id))&&(this._cardsDeleteQueue||(this._cardsDeleteQueue=[],this._cardsDeleteTimeout=this._$timeout((()=>{try{!this._cardsRefreshTimeout&&this._cardsDeleteQueue.length<2&&!this._cardsAddOrUpdateQueue?(this._schedulerCardsDataSource.pushDestroy(this._cardsDeleteQueue),this._updateCardContextMenu()):(this._$timeout.cancel(this._cardsRefreshTimeout),this._isCardsRefreshRequested=!0),this._cardsRefreshTimeout=this._$timeout((()=>{try{this._isCardsRefreshRequested&&(this._isCardsRefreshRequested=!1,this._schedulerCardsDataSource.refreshAsync())}finally{this._cardsRefreshTimeout=null}}),100,!1)}finally{this._cardsDeleteQueue=null,this._cardsDeleteTimeout=null}}),0,!1)),this._cardsDeleteQueue.push(e))},this._onClearedCards=()=>{this._cardsAddOrUpdateQueue&&(this._cardsAddOrUpdateQueue=null),this._cardsAddOrUpdateTimeout&&this._$timeout.cancel(this._cardsAddOrUpdateTimeout),this._cardsDeleteQueue&&(this._cardsDeleteQueue=null),this._cardsDeleteTimeout&&this._$timeout.cancel(this._cardsRefreshTimeout),this._isCardsRefreshRequested=!1,this._schedulerCardsDataSourceLazy.offlineData([]),this._schedulerCardsDataSourceLazy.read()},this._calendarCardsSrv.addCalendarCardEventListener("added",this._onAddOrUpdateCard),this._calendarCardsSrv.addCalendarCardEventListener("updated",this._onAddOrUpdateCard),this._calendarCardsSrv.addCalendarCardEventListener("deleted",this._onDeleteCard),this._calendarCardsSrv.addCalendarCardEventListener("cleared",this._onClearedCards),this._$scope.$on(se.FK.ScrollSchedulerViewRequested,(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{scrollToDate:r,navigationMode:i,restoreOffset:n,resourceId:o,cardElement:s}=t;if(r){if(r=i===se.vt.HourScroll?(0,he.dH)(r):(0,he.$Y)(r),i===se.vt.Internal)return void D._appCommonSrv.setSchedulerSelectedDate(r);D.scrollView(r,n,i)}o&&D.scrollViewToResource(o),s&&(0,te.Z)(s[0],{scrollMode:"if-needed",block:"nearest",inline:"nearest",behavior:e=>{const t=void 0!==D._$window.document.body.style.scrollBehavior;for(let{el:r,top:i}of e)r.classList.contains("timeline-center")&&(r=ee()(".timeline-vertical-scroll")[0],!r)||(t&&r.scroll?r.scroll({top:i,behavior:"smooth"}):r.scrollTop=i)}})})),this._$scope.$on(se.FK.ChangeSchedulerViewRequested,(function(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=D._appCommonSrv.getSchedulerView(),n=!1,o=D._schedulerMode!==se.ud.TimeTracking;if(D._schedulerWidget.options.allDaySlot!==o&&(D._schedulerWidget.options.allDaySlot=o),D._schedulerWidget.options.showWorkDays!==D._collectionSettings.global.settings.showWorkDays&&(D._schedulerWidget.options.showWorkDays=D._collectionSettings.global.settings.showWorkDays,n=!0),D._schedulerWidget.options.showWorkHours!==D._collectionSettings.global.settings.showWorkHours&&(D._schedulerWidget.options.showWorkHours=D._collectionSettings.global.settings.showWorkHours,n=!0),D._schedulerWidget.options.showWeekNumbers!==D._collectionSettings.global.settings.showWeekNumbers&&(D._schedulerWidget.options.showWeekNumbers=D._collectionSettings.global.settings.showWeekNumbers,n=!0),i===se.rW.Timeline)t=[D._appCommonSrv.getTimelineResourcesType()];else t=[];(D._schedulerWidget.view()&&D._schedulerWidget.viewName()!==i||!(0,he.cO)(D._schedulerWidget.options.group.resources,t))&&(D._schedulerWidget.options.group.resources=t,D._schedulerResourcesDataSource.read(),n=!0),r.forceUpdate&&(n=!0),n&&D._schedulerWidget.view()&&D._$window.requestAnimationFrame((()=>{D._schedulerWidget.view(i),D.scrollView(D._appCommonSrv.getSchedulerSelectedDate())}))})),this._$scope.$on(se.FK.CardsReloaded,(()=>{this._schedulerCardsDataSource.refreshAsync()})),this._$scope.$on(se.FK.CreateCalendarCardRequested,((e,t)=>{this._createCardByExternalCallAsync(t)})),this._$scope.$on(se.FK.CardDialogOpenRequested,(async(e,t)=>{t.onOpen();let r=await this._dialogSrv.showEditCardDialogAsync(t.calendarCard,{openerContext:this._editCardDialogOpenerContext});t.onClose(r)})),this._$scope.$on(se.FK.TimelineResourcesReloaded,((e,t)=>{if(this._appCommonSrv.getSchedulerView()===se.rW.Timeline&&(t.reloadAllResources||t.resourcesType===this._appCommonSrv.getTimelineResourcesType())){this._schedulerResourcesDataSource.read();let e=this._schedulerWidget.view();if(!e||e.name!==se.rW.Timeline)return;this._schedulerWidget.view(e.name)}})),this._$scope.$on(se.FK.TimelineResourcesReordered,((e,t)=>{if(this._appCommonSrv.getSchedulerView()!==se.rW.Timeline)return;let r=this._appCommonSrv.getTimelineResourcesType();switch(this._collectionSettings.global.settings.timelineResourcesOrder[r]=t.newResourcesOrder,this._collectionSettings.global.saveAsync(),this._schedulerResourcesDataSource.read(),r){case se.y.Members:this._telemetrySrv.logSessionEvent(se.cN.CalendarEvents.TimelineMembersReordered);break;case se.y.Calendars:this._telemetrySrv.logSessionEvent(se.cN.CalendarEvents.TimelineCalendarsReordered);break;case se.y.Lists:this._telemetrySrv.logSessionEvent(se.cN.CalendarEvents.TimelineListsReordered);break;case se.y.Labels:this._telemetrySrv.logSessionEvent(se.cN.CalendarEvents.TimelineLabelsReordered)}})),this._$scope.$on(se.FK.FiltersChanged,(()=>this._applySchedulerFilters())),this._$scope.$on(se.FK.SelectCardsRequested,((e,t)=>{(async e=>{let r=await T().all(z()(e=t.calendarCardIds).call(e,(e=>this._htmlHelperSrv.elementAddedOnceAsync(this._schedulerWidget.element,`.k-event[data-uid="${e}"]`))));this._schedulerWidget.select(null),this._schedulerWidget.select(z()(r).call(r,(e=>e.data("uid"))))})()})),this._$scope.$on(se.FK.CardKeydown,((e,t)=>{var r;this.closeContextMenu();let{keyCode:i,keyModifiers:n}=t,o=x()(r=t.selectedCards).call(r,(e=>!e.isTempCard&&(0,ie.VH)(e.providerType).isHotkeyAvailable(e,i,n)));if(0!==o.length)for(let[e,t]of(0,he.vM)(o,"providerType"))(0,ie.VH)(e).updateCardsByHotkey(t,i,n,se.LP.Scheduler,this._$element)})),this._$scope.$on(se.FK.CloseContextMenusRequested,(()=>{this.closeContextMenu()})),this._$scope.$on("$destroy",(()=>{this._calendarCardsSrv.removeCalendarCardEventListener("added",this._onAddOrUpdateCard),this._calendarCardsSrv.removeCalendarCardEventListener("updated",this._onAddOrUpdateCard),this._calendarCardsSrv.removeCalendarCardEventListener("deleted",this._onDeleteCard),this._calendarCardsSrv.removeCalendarCardEventListener("cleared",this._onClearedCards)}))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"schedulerCtrl"}},{kind:"get",key:"isSchedulerWidthCompact",value:function isSchedulerWidthCompact(){return this._isSchedulerWidthCompact}},{kind:"method",key:"setSchedulerWidthCompact",value:function setSchedulerWidthCompact(e){this._$scope.$evalAsync((()=>this._isSchedulerWidthCompact=e))}},{kind:"get",key:"schedulerOptions",value:function schedulerOptions(){if(!this._schedulerOptions){let e=new Date;this._appCommonSrv.getSchedulerView()===se.rW.Timeline&&(e=(0,le.S2)(e,(0,le.VT)(this._collectionSettings.global.settings.timelineScale)));const t=this._htmlHelperSrv.compileHtml("<pw-resources-menu></pw-resources-menu>",this._$scope,!0),r=this._htmlHelperSrv.compileHtml("<pw-scales-menu></pw-scales-menu>",this._$scope,!0),ignoreCalendarCardNextClick=()=>{if(!this._ignoreCalendarCardClick){this._ignoreCalendarCardClick=!0;const enableNextClick=()=>{this._ignoreCalendarCardClick=!1,ee()(this._$window.document).off(".pwIgnoreClick",enableNextClick)};ee()(this._$window.document).on("mousedown.pwIgnoreClick pwMouseDown.pwIgnoreClick",enableNextClick)}};this._schedulerOptions={$rootScope:this._$rootScope,$scope:this._$scope,$ctrl:this,views:[{name:se.rW.OneDay,type:(e,t)=>new ue.e(e,t),viewName:se.rW.OneDay,visibleDayCount:1},{name:se.rW.ThreeDay,type:(e,t)=>new ue.e(e,t),viewName:se.rW.ThreeDay,visibleDayCount:3},{name:se.rW.Week,type:(e,t)=>new ue.e(e,t),viewName:se.rW.Week,visibleDayCount:7},{name:se.rW.Month,type:(e,t)=>new ae.k(e,t),viewName:se.rW.Month},{name:se.rW.Timeline,type:(e,t)=>new le.EL(e,t),viewName:se.rW.Timeline,leftTopContent:{[se.y.NoResources]:null,[se.y.Members]:t,[se.y.Calendars]:t,[se.y.Lists]:t,[se.y.Labels]:t,[se.y.GitHubAssignees]:t,[se.y.GitHubLabels]:t,[se.y.GitHubStatuses]:t},rightTopContent:{[se.y.NoResources]:r,[se.y.Members]:r,[se.y.Calendars]:r,[se.y.Lists]:r,[se.y.Labels]:r,[se.y.GitHubAssignees]:r,[se.y.GitHubLabels]:r,[se.y.GitHubStatuses]:r}},{name:se.rW.Timesheet,type:(e,t)=>new de.g(e,t),viewName:se.rW.Timesheet},{name:se.rW.Board,type:(e,t)=>new ce.b(e,t),viewName:se.rW.Board},{name:se.rW.Reports,type:(e,t)=>new pe.h(e,t),viewName:se.rW.Reports}],date:e,dataSource:this._schedulerCardsDataSource,resources:[{name:se.y.NoResources,field:"dummyField",cardSortOrderField:"defaultSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!1},{name:se.y.Members,field:"providerCard.memberIds",defaultFieldValue:[oe.$d],cardSortOrderField:"membersSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!0},{name:se.y.Calendars,field:"calendarId",cardSortOrderField:"calendarsSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!1},{name:se.y.Lists,field:"providerCard.listId",cardSortOrderField:"listsSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!1},{name:se.y.Labels,field:"providerCard.labelIds",defaultFieldValue:[oe.$d],cardSortOrderField:"labelsSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!0},{name:se.y.GitHubAssignees,field:"providerCard.memberIds",defaultFieldValue:[oe.$d],cardSortOrderField:"membersSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!0},{name:se.y.GitHubLabels,field:"providerCard.labelIds",defaultFieldValue:[oe.$d],cardSortOrderField:"labelsSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!0},{name:se.y.GitHubStatuses,field:"providerCard.status",defaultFieldValue:[oe.$d],cardSortOrderField:"statusesSortOrder",dataSource:this._schedulerResourcesDataSource,dataValueField:"id",multiple:!1}],selectionStart:e=>{e.isMultiselect&&this._telemetrySrv.logSessionEvent(se.cN.CalendarEvents.Multiselected,{cardCount:e.selectedCount})},moveStart:e=>{(0,ie.VH)(e.event.providerType).canStartMoveInScheduler(e.event)||e.preventDefault(),ignoreCalendarCardNextClick()},moveEnd:e=>{var t,r;let i=z()(t=e.eventsToMove).call(t,(e=>e.event));if(!$()(r=this._collectionSrv.getCurrentCollectionConnectedProviders()).call(r,(e=>e.canEndMoveInScheduler(i))))return void e.success([]);if(N()(i).call(i,(e=>e.isRecurring()&&!e.isException()))&&!this._licenseSrv.checkPaidFeatureAvailable(se.ZV.RecurringCards,!0))return void e.success([]);let n=[];for(let t of e.eventsToMove)if(t.resourceId&&this._appCommonSrv.getSchedulerView()===se.rW.Timeline){var o;let e=null===(o=this._schedulerResourcesDataSource.get(t.resourceId))||void 0===o?void 0:o.resourceData,r=(0,ie.VH)(t.event.providerType).getMovedEvent(t,e);r&&n.push(r)}else n.push(t);e.success(n)},resizeStart:e=>{this._schedulerWidget.select(null),this._schedulerWidget.select(e.event.uid),ignoreCalendarCardNextClick()},resize:e=>{(0,ie.VH)(e.event.providerType).canResizeInScheduler(e.event,e.start,e.end)||e.preventDefault(),!e.event.isAllDay&&e.sender.view().isTimeAvailable&&0===(0,he.i2)(e.event.start,e.event.end)&&(0,he.i2)(e.start,e.end)>=1&&e.preventDefault()},update:e=>{if((0,ie.VH)(e.event.providerType).canUpdateInScheduler(e.event))return this.updateCardByMouseAsync(e.event,e.updateData,e.isResize)}}}return this._schedulerOptions}},{kind:"get",key:"isSchedulerBusy",value:function isSchedulerBusy(){return this._appCommonSrv.isSchedulerBusy()}},{kind:"method",key:"applySchedulerSettings",value:function applySchedulerSettings(){null!==this._userSettings.global.settings.firstWeekDay&&(kendo.culture().calendar.firstDay=this._userSettings.global.settings.firstWeekDay),this._schedulerWidget.options.allDaySlot=this._schedulerMode!==se.ud.TimeTracking,this._schedulerWidget.options.workDayStart=(0,he.Yg)(this._userSettings.global.settings.workDayStart),this._schedulerWidget.options.workDayEnd=(0,he.Yg)(this._userSettings.global.settings.workDayEnd),this._schedulerWidget.options.workWeekStart=this._userSettings.global.settings.workWeekStart,this._schedulerWidget.options.workWeekEnd=this._userSettings.global.settings.workWeekEnd,this._schedulerWidget.options.showWeekNumbers=this._collectionSettings.global.settings.showWeekNumbers,this._schedulerWidget.options.showWorkDays=this._collectionSettings.global.settings.showWorkDays,this._schedulerWidget.options.showWorkHours=this._collectionSettings.global.settings.showWorkHours,this._schedulerWidget.options.showDates=this._collectionSettings.global.settings.showDates,this._schedulerWidget.options.showCalendar=this._collectionSettings.global.settings.showCalendar,this._schedulerWidget.options.showList=this._collectionSettings.global.settings.showList,this._schedulerWidget.options.showEstimatedHours=this._collectionSettings.global.settings.showEstimatedHours,this._schedulerWidget.options.showTrackedHours=this._collectionSettings.global.settings.showTrackedHours,this._schedulerWidget.options.showCheckItems=this._collectionSettings.global.settings.showCheckItems,this._applySchedulerFilters(!0),this._recreateSchedulerWidget(),this._schedulerCardsDataSource.refreshAsync(!0)}},{kind:"get",key:"highlightToday",value:function highlightToday(){return this._collectionSettings.global.settings.highlightToday}},{kind:"method",key:"scrollView",value:function scrollView(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,he.$Y)(new Date),t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;this._appCommonSrv.setSchedulerSelectedDate(e),this._schedulerWidget.view().scrollTo({date:e,time:t?null:new Date,navigationMode:r})}},{kind:"method",key:"scrollViewToResource",value:function scrollViewToResource(e){var t,r;null===(t=(r=this._schedulerWidget.view()).scrollToResource)||void 0===t||t.call(r,e)}},{kind:"method",key:"getCardCreateOptionsAsync",value:async function getCardCreateOptionsAsync(e,t){var r,i,n;let o,s,a,l,c=this._schedulerWidget.view(),d=c.getSlotByEvent(e),u=d.element,p=c.getCardCreateDefaultSlots(d,ne.XM);if(p){if(t){try{o=await this._platformSrv.extractCardOptionsAsync(t)}catch(e){this._$log.error("Planyway extract card options error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway extract card options error",e,{class:this.constructor.name,method:this.getCardCreateOptionsAsync.name})}if(!o)return}switch(this._schedulerMode){case se.ud.Calendar:s=o?this._getTargetCalendarData({accountTypes:[o.accountType],accountIds:[o.accountId],calendarIds:[o.calendarId]}):this._getTargetCalendarData(),o?(a=o.cardType,l=o.cardRole):s&&(a=s.defaultCardType,l=s.defaultCardRole);break;case se.ud.Timeline:let e=c.getResourceIdByCell(u);if(!e)return;if(e===oe.iF){if(o){if(o.cardType!==re.eT.TrelloCard)return;s=this._getTargetCalendarData({accountTypes:[o.accountType],accountIds:[o.accountId],calendarIds:[o.calendarId]})}else s=this._getTargetCalendarData({accountTypes:[re.Qm.Trello]});a=re.eT.TrelloCard,l=re.D.Milestone}else{let t=this._appCommonSrv.getTimelineResourcesType();if(t===se.y.NoResources)s=o?this._getTargetCalendarData({accountTypes:[o.accountType],accountIds:[o.accountId],calendarIds:[o.calendarId]}):this._getTargetCalendarData();else{let r=this._appCommonSrv.getTimelineResourceById(t,e);var h;s=o?this._getTargetCalendarData({accountTypes:[o.accountType],accountIds:[o.accountId],calendarIds:O()(h=r.calendarIds).call(h,o.calendarId)?[o.calendarId]:r.calendarIds}):this._getTargetCalendarData({accountTypes:r.accountTypes,accountIds:r.accountIds,calendarIds:r.calendarIds})}o&&o.cardRole!==re.D.Milestone?(a=o.cardType,l=o.cardRole):s&&(a=s.defaultCardType,l=s.defaultCardRole)}break;case se.ud.TimeTracking:if(o){if(o.cardType!==re.eT.TrelloCard)return;s=this._getTargetCalendarData({accountTypes:[o.accountType],accountIds:[o.accountId],calendarIds:[o.calendarId]})}else s=this._getTargetCalendarData({accountTypes:[re.Qm.Trello]});a=re.eT.TrelloTimeRecord,l=re.D.Card}return s&&a&&l&&O()(r=s.availableCardTypes).call(r,a)&&O()(i=s.availableCardRoles).call(i,l)?_objectSpread({id:null===(n=o)||void 0===n?void 0:n.id,providerType:(0,ie.fL)(s.accountType),accountType:s.accountType,accountId:s.accountId,calendarId:s.calendarId,cardType:a,cardRole:l,startSlot:d},p):void 0}}},{kind:"get",key:"cardTooltipOptions",value:function cardTooltipOptions(){return this._cardTooltipOptions||(this._cardTooltipOptions={getCardForTooltip:(e,t)=>{let r=this._schedulerWidget.occurrenceByUid(t);if(r&&!r.isContextMenuOpened)return r}}),this._cardTooltipOptions}},{kind:"get",key:"providerCardContextMenus",value:function providerCardContextMenus(){return this._providerCardContextMenus||(this._providerCardContextMenus={}),this._providerCardContextMenus}},{kind:"method",key:"setCardContextMenu",value:function setCardContextMenu(e,t){t.where=se.a6.Scheduler,this.providerCardContextMenus[e]=t}},{kind:"method",key:"openContextMenu",value:function openContextMenu(e,t){this._schedulerWidget.select(null);let r=this._schedulerWidget.occurrenceByUid(e);r&&(0,ie.VH)(r.providerType).isCardContextMenuAvailable(r)&&(this._schedulerWidget.select([e]),this._logCardEvent(r,{event:se.cN.CardEvents.ContextMenuOpened,data:{by:se.AH.RightClick}}),this.providerCardContextMenus[r.providerType].open(t,r))}},{kind:"method",key:"closeContextMenu",value:function closeContextMenu(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};W()(e=B()(this.providerCardContextMenus)).call(e,(e=>{t.closeNested?e.closeNested():e.close()}))}},{kind:"method",key:"getCardProvider",value:function getCardProvider(e){return(0,ie.VH)(e.providerType)}},{kind:"method",key:"createCardByDropAsync",value:async function createCardByDropAsync(e){try{if(this._$rootScope.$broadcast(se.FK.CardDropped),this._schedulerMode===se.ud.TimeTracking)await this._createTimeRecordCardByDropAsync(e);else await this._createCardByDropAsync(e);this._incrementActionCounter()}catch(e){this._$log.error("Trello create card by drop error:"),this._$log.error(e),this._telemetrySrv.logError("Trello create card by drop error",e,{class:this.constructor.name,method:this.createCardByDropAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.TRELLO_CARD_DROP_ERROR"),se.k$.Error)}}},{kind:"method",key:"createCardByClickAsync",value:async function createCardByClickAsync(e,t){if(!e.accountId)return;let r,i;try{if(this._schedulerMode===se.ud.TimeTracking)r=this._createTimeRecordCardByClick(e.accountId,e);else r=this._createCardByClick(e.accountId,e);let n;switch(i=await this._htmlHelperSrv.elementAddedOnceAsync(this._schedulerWidget.element,`.k-event[data-uid="${r.id}"]:not(.pw-js-size-measurement)`),t){case"click":n=se.AH.Click;break;case"hint":n=se.AH.Hint;break;case"stretching":n=se.AH.Stretching}this._logCardEvent(r,{event:se.cN.CardEvents.CreateDialogOpened,data:{by:n}});let o=await this._dialogSrv.showEditCardDialogAsync(r,{cardElement:i,noAnimation:!0,openerContext:this._editCardDialogOpenerContext});if(o?(this._$rootScope.$broadcast(se.FK.CardCreated),this._incrementActionCounter()):this._$rootScope.$broadcast(se.FK.CardDialogClosed),o){let e;switch(this._appCommonSrv.getSchedulerView()){case se.rW.OneDay:case se.rW.ThreeDay:case se.rW.Week:e=r.isAllDay?se.SQ.AllDay:se.SQ.NonAllDay;break;case se.rW.Month:e=se.SQ.AllDay;break;case se.rW.Timeline:switch(r.cardRole){case re.D.Card:switch(this._appCommonSrv.getTimelineResourcesType()){case se.y.NoResources:e=se.SQ.NoLane;break;case se.y.Members:e=(0,ie.VH)(r.providerType).isOwnCalendarCard(r)?se.SQ.MemberLaneSelf:se.SQ.MemberLane;break;case se.y.Calendars:e=se.SQ.BoardLane;break;case se.y.Lists:e=se.SQ.ListLane;break;case se.y.Labels:e=se.SQ.LabelLane}break;case re.D.Milestone:e=se.SQ.Milestone}}this._logCardEvent(r,{event:se.cN.CardEvents.Scheduled,data:{by:n,destination:e}})}else this._logCardEvent(r,{event:se.cN.CardEvents.CreateDialogClosed,data:{by:n}}),this._calendarCardsSrv.deleteCalendarCardAsync(r)}catch(e){r&&this._calendarCardsSrv.deleteCalendarCardAsync(r),this._$log.error("Trello create card by click error:"),this._$log.error(e),this._telemetrySrv.logError("Trello create card by click error",e,{class:this.constructor.name,method:this.createCardByClickAsync.name})}}},{kind:"method",key:"updateCardByMouseAsync",value:async function updateCardByMouseAsync(e,t,r){let i=(0,ie.VH)(e.providerType);if(!i.canModifyInScheduler(e))return this._schedulerCardsDataSource.refreshAsync(!0);let n=await i.getRecurringModeAsync([e],se.aO.Edit);if(null===n)return this._schedulerCardsDataSource.refreshAsync(!0);let o=i.getUpdateByMouseTelemetry(e,t,r);return t.isOriginCard&&this._incrementActionCounter(),i.updateCardByMouseAsync(e,t,{recurringMode:n,telemetryCallback:e=>{o&&this._logCardEvent(e,{event:o.event,data:_objectSpread(_objectSpread({},o.data),{},{recurringMode:n})})}})}},{kind:"method",key:"toggleCardIsCompletedByIcon",value:function toggleCardIsCompletedByIcon(e){(0,ie.VH)(e.providerType).toggleCardsIsCompletedAsync([e],{telemetry:{where:se.a6.Scheduler,by:se.AH.Mouse}})}},{kind:"method",key:"showEditCardDialogAsync",value:async function showEditCardDialogAsync(e,t){if(this._ignoreCalendarCardClick)return;if(e.isReadOnly){if(e.recurrenceId&&!e.id){let t=this._calendarCardsSrv.getCalendarCardById(e.accountId,e.cardType,e.recurrenceId);t=t.clone(),t.start=e.start,t.end=e.end,e=t}else e=this._calendarCardsSrv.getCalendarCardById(e.accountId,e.cardType,e.id);return this._logCardEvent(e,{event:se.cN.CardEvents.EditDialogOpened}),void(await this._dialogSrv.showEditCardDialogAsync(e,{cardElement:t,openerContext:this._editCardDialogOpenerContext})||this._logCardEvent(e,{event:se.cN.CardEvents.EditDialogClosed}))}let r=(0,ie.VH)(e.providerType),i=await r.getRecurringModeAsync([e],se.aO.Open);if(null===i)return this._schedulerCardsDataSource.refreshAsync(!0);if(i)try{let t=r.getRecurrenceHead(e),n=r.getRecurrenceException(e);switch(i){case se.f.OnlyOccurrence:e=await r.createRecurrenceExceptionAsync(n,!0);break;case se.f.ThisAndFollowing:let i=e.start;e=await r.createFollowingRecurrenceAsync(t,e.start,n),await r.deleteRecurrenceExceptionsAsync(t,i);break;case se.f.AllSeries:e=t}}catch(e){this._$log.error("Planyway update recurrent card error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway update recurrent card error",e,{class:this.constructor.name,method:this.showEditCardDialogAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_RECURRING_CARD_ERROR"),se.k$.Error)}try{let r=this._calendarCardsSrv.getCalendarCardById(e.accountId,e.cardType,e.id);r.id!==(e.id||e.recurrenceId)&&(t=await this._htmlHelperSrv.elementAddedOnceAsync(this._schedulerWidget.element,`.k-event[data-uid="${r.id}"]:not(.pw-js-size-measurement)`)),this._logCardEvent(r,{event:se.cN.CardEvents.EditDialogOpened,data:{recurringMode:i}}),await this._dialogSrv.showEditCardDialogAsync(r,{cardElement:t,openerContext:this._editCardDialogOpenerContext})?this._incrementActionCounter():this._logCardEvent(r,{event:se.cN.CardEvents.EditDialogClosed})}catch(e){this._$log.error("Planyway open card error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway open card error",e,{class:this.constructor.name,method:this.showEditCardDialogAsync.name}),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.OPEN_CARD_ERROR"),se.k$.Error)}}},{kind:"method",key:"getPreviewCard",value:function getPreviewCard(e){return(0,ie.VH)(e.providerType).getPreviewCard(e)}},{kind:"get",key:"hiddenCardElements",value:function hiddenCardElements(){let e={};for(let r of this._collectionSrv.getCurrentCollectionConnectedProviders()){let i=r.getHiddenCardElements();for(let r in i){var t;e[r]=(null===(t=e[r])||void 0===t||t)&&i[r]}}return e}},{kind:"method",key:"getCardExtraClasses",value:function getCardExtraClasses(e){if(!e)return;let t=[];return e.isReadOnly&&t.push("pw-card--readonly"),t.push(...(0,ie.VH)(e.providerType).getCardExtraClasses(e)),t.join(" ")}},{kind:"method",key:"cardTemplateDataEqual",value:function cardTemplateDataEqual(e,t){return e.providerType===t.providerType&&e.cardType===t.cardType&&e.cardRole===t.cardRole&&(0,he.h0)((0,ie.VH)(e.providerType).getCardTemplateData(e),(0,ie.VH)(t.providerType).getCardTemplateData(t))}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}},{kind:"get",key:"_schedulerMode",value:function _schedulerMode(){return this._appCommonSrv.getSchedulerMode()}},{kind:"get",key:"_schedulerWidget",value:function _schedulerWidget(){return this._appCommonSrv.getSchedulerWidget()}},{kind:"get",key:"_schedulerCardsDataSource",value:function _schedulerCardsDataSource(){if(!this._schedulerCardsDataSourceLazy){const e=new(H()),t=new(H());this._schedulerCardsDataSourceLazy=new kendo.data.SchedulerDataSource({offlineStorage:{getItem:()=>U()(Z()(e).call(e)),setItem:r=>{e.clear(),t.clear();for(let i of r)e.set(i.id,i),t.set(i.id,(0,ie.VH)(i.providerType).getCardTemplateData(i))}},error:e=>{this._schedulerCardsDataSource.cancelChanges(),this._$log.error("Planyway scheduler cards data source error:"),this._$log.error(e.errorThrown),this._telemetrySrv.logError("Planyway scheduler cards data source error",e.errorThrown,{class:this.constructor.name,method:this._schedulerCardsDataSource.name})}}),this._schedulerCardsDataSourceLazy.online(!1),this._schedulerCardsDataSourceLazy.refreshAsync=async r=>{try{let i=await this._calendarCardsSrv.getCalendarCardsAsync();if(this._$scope.$$destroyed)return;if(!r){if(!(()=>{if(i.length!==e.size)return!0;for(let r of i){let i=t.get(r.id);if(!i)return!0;let n=(0,ie.VH)(r.providerType).getCardTemplateData(r);if(!(0,he.h0)(n,i))return!0;let o=e.get(r.id);if(!o)return!0;if(!r.equals(o))return!0}return!1})())return}0,this._schedulerCardsDataSourceLazy.offlineData(i),await this._schedulerCardsDataSourceLazy.read(),this._updateCardContextMenu()}catch(e){this._$log.error("Planyway failed to refresh cards data source:"),this._$log.error(e),this._appCommonSrv.setSchedulerBusy(!1),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.LOAD_CARDS_ERROR"),se.k$.Error)}};const r=this._schedulerCardsDataSourceLazy.pushUpdate;this._schedulerCardsDataSourceLazy.pushUpdate=function(i){Y()(i)||(i=[i]);for(let r of i)e.set(r.id,r),t.set(r.id,(0,ie.VH)(r.providerType).getCardTemplateData(r));r.call(this,i)};const i=this._schedulerCardsDataSourceLazy.pushDestroy;this._schedulerCardsDataSourceLazy.pushDestroy=function(r){Y()(r)||(r=[r]);for(let i of r)e.delete(i.id),t.delete(i.id);i.call(this,r)}}return this._schedulerCardsDataSourceLazy}},{kind:"get",key:"_schedulerResourcesDataSource",value:function _schedulerResourcesDataSource(){return this._schedulerResourcesDataSourceLazy||(this._schedulerResourcesDataSourceLazy=new kendo.data.DataSource({sort:[{field:"order",dir:"asc"}],offlineStorage:{getItem:()=>{var e;return x()(e=this._appCommonSrv.getTimelineResources()).call(e,(e=>e.isSelected))},setItem:()=>{}},error:e=>{this._schedulerResourcesDataSource.cancelChanges(),this._$log.error("Planyway scheduler resources data source error:"),this._$log.error(e.errorThrown),this._telemetrySrv.logError("Planyway resources data source error",e.errorThrown,{class:this.constructor.name,method:this._schedulerResourcesDataSource.name})}}),this._schedulerResourcesDataSourceLazy.online(!1)),this._schedulerResourcesDataSourceLazy}},{kind:"get",key:"_editCardDialogOpenerContext",value:function _editCardDialogOpenerContext(){return this._editCardDialogOpenerContextLazy||(this._editCardDialogOpenerContextLazy={setupCompactDialogPosition:e=>{e.addPanelPosition(this._$mdPanel.xPosition.ALIGN_START,this._$mdPanel.yPosition.BELOW),e.addPanelPosition(this._$mdPanel.xPosition.ALIGN_END,this._$mdPanel.yPosition.BELOW),e.addPanelPosition(this._$mdPanel.xPosition.ALIGN_START,this._$mdPanel.yPosition.ABOVE),e.addPanelPosition(this._$mdPanel.xPosition.ALIGN_END,this._$mdPanel.yPosition.ABOVE)},reattachCardElement:e=>{var t;return X()(t=this._schedulerWidget.element).call(t,`.k-event[data-uid="${e.data("uid")}"]:not(.pw-js-size-measurement)`)},onOpen:e=>this._schedulerWidget.select(e),onClose:()=>this._schedulerWidget.select(null),telemetryWhere:se.a6.Scheduler}),this._editCardDialogOpenerContextLazy}},{kind:"method",key:"_applySchedulerFilters",value:function _applySchedulerFilters(){let e={operator:e=>(0,ie.VH)(e.providerType).isCardSatisfiesSchedulerFilters(e)};var t;arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._schedulerCardsDataSource._filter=e:x()(t=this._schedulerCardsDataSource).call(t,e)}},{kind:"method",key:"_applyCardsFieldsSettings",value:function _applyCardsFieldsSettings(){let e=this._appCommonSrv.getSchedulerView();this._schedulerWidget.options.showDates=this._collectionSettings.global.settings.showDates,this._schedulerWidget.options.showCalendar=this._collectionSettings.global.settings.showCalendar,this._schedulerWidget.options.showList=this._collectionSettings.global.settings.showList,this._schedulerWidget.options.showEstimatedHours=this._collectionSettings.global.settings.showEstimatedHours,this._schedulerWidget.options.showTrackedHours=this._collectionSettings.global.settings.showTrackedHours,this._schedulerWidget.options.showCheckItems=this._collectionSettings.global.settings.showCheckItems,e!==se.rW.Timeline&&e!==se.rW.Month||this._recreateSchedulerWidget(),this._schedulerCardsDataSource.refreshAsync(!0)}},{kind:"method",key:"_recreateSchedulerWidget",value:function _recreateSchedulerWidget(){let e=this._appCommonSrv.getSchedulerView();this._schedulerWidget.options.group.resources=e===se.rW.Timeline?[this._appCommonSrv.getTimelineResourcesType()]:[],this._schedulerWidget._selectView(e)}},{kind:"method",key:"_getTargetCalendarData",value:function _getTargetCalendarData(){let{accountTypes:e,accountIds:t,calendarIds:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._collectionSettings.local.settings.lastUsedCalendarData;if(i&&(!e||O()(e).call(e,i.accountType))&&(!t||O()(t).call(t,i.accountId))&&(!r||O()(r).call(r,i.calendarId))){let e=(0,ie.dS)(i.accountType);if(e.isCurrentCollectionAccountReady(i.accountId)){if(e.getCurrentCollectionConnectedCalendar(i.accountId,i.calendarId).isSelected&&e.canCreateCard(i.accountId,i.calendarId))return{accountType:i.accountType,accountId:i.accountId,calendarId:i.calendarId,availableCardTypes:e.availableCardTypes,defaultCardType:e.defaultCardType,availableCardRoles:e.availableCardRoles,defaultCardRole:e.defaultCardRole}}}for(let i of this._planywayIntegrationSrv.getConnectedAccounts()){var n;if(e&&!O()(e).call(e,i.accountType))continue;if(t&&!O()(t).call(t,i.accountId))continue;let o=(0,ie.dS)(i.accountType);if(!o.isCurrentCollectionAccountReady(i.accountId))continue;let s=X()(n=o.getCurrentCollectionSelectedCalendarIds(i.accountId)).call(n,(e=>(!r||O()(r).call(r,e))&&o.canCreateCard(i.accountId,e)));if(s)return{accountType:i.accountType,accountId:i.accountId,calendarId:s,availableCardTypes:o.availableCardTypes,defaultCardType:o.defaultCardType,availableCardRoles:o.availableCardRoles,defaultCardRole:o.defaultCardRole}}}},{kind:"method",key:"_createCardByExternalCallAsync",value:async function _createCardByExternalCallAsync(e){var t;const{providerType:r,accountId:i,calendarId:n,startDate:o,endDate:s,by:a,hasChanges:l,forceDetailedMode:c}=e;let d,u,p,h=(0,ie.VH)(r),f=this._schedulerWidget.view(),m=null!==(t=e.isAllDay)&&void 0!==t?t:!f.isTimeAvailable;if(o&&s)d=o,u=s;else{let e=f.getClosestVisibleSlot(new Date,m);switch(d=o||e.start,f.name){case se.rW.OneDay:case se.rW.ThreeDay:case se.rW.Week:u=s||(0,he.mH)(d,m?0:ne.XM);break;case se.rW.Month:case se.rW.Timeline:u=s||e.end;break;default:throw new Error(`Unsupported scheduler view: ${f.name}`)}}try{p=h.createCardByExternalCall(i,n,d,u,m,e),this._logCardEvent(p,{event:se.cN.CardEvents.CreateDialogOpened,data:{by:a}}),await this._dialogSrv.showEditCardDialogAsync(p,{openerContext:this._editCardDialogOpenerContext,hasChanges:l,forceDetailedMode:c})?(this._logCardEvent(p,{event:se.cN.CardEvents.Scheduled,data:{by:a}}),this._incrementActionCounter()):(this._logCardEvent(p,{event:se.cN.CardEvents.CreateDialogClosed,data:{by:a}}),this._calendarCardsSrv.deleteCalendarCardAsync(p))}catch(e){p&&this._calendarCardsSrv.deleteCalendarCardAsync(p),this._$log.error("Trello create card by external call error:"),this._$log.error(e),this._telemetrySrv.logError("Trello create card by external call error",e,{class:this.constructor.name,method:this._createCardByExternalCallAsync.name})}}},{kind:"method",key:"_createTimeRecordCardByClick",value:function _createTimeRecordCardByClick(e,t){return(0,ie.VH)(t.providerType).createTimeRecordCardByClick(e,t)}},{kind:"method",key:"_createCardByClick",value:function _createCardByClick(e,t){return(0,ie.VH)(t.providerType).createCardByClick(e,t)}},{kind:"method",key:"_createTimeRecordCardByDropAsync",value:async function _createTimeRecordCardByDropAsync(e){let t;this._appCommonSrv.setSchedulerBusy(!0);try{let r=(0,ie.VH)(e.providerType);t=await r.createTimeRecordCardByDropAsync(e)}finally{this._appCommonSrv.setSchedulerBusy(!1)}t&&this._logCardEvent(t.parentCard,{event:se.cN.CardEvents.Scheduled,data:{cardType:re.eT.TrelloTimeRecord,cardRole:re.D.Card,isDuration:e.isAllDay,durationMinutes:t.durationMinutes,by:se.AH.Drop,destination:e.isAllDay?se.SQ.AllDay:se.SQ.NonAllDay}})}},{kind:"method",key:"_createCardByDropAsync",value:async function _createCardByDropAsync(e){this._appCommonSrv.setSchedulerBusy(!0);try{let t=(0,ie.VH)(e.providerType);await t.createCardByDropAsync(e)}finally{this._appCommonSrv.setSchedulerBusy(!1)}}},{kind:"method",key:"_updateCardContextMenu",value:function _updateCardContextMenu(){for(let t of this._collectionSrv.getCurrentCollectionConnectedProviders()){var e;if(null===(e=this.providerCardContextMenus[t.type])||void 0===e||!e.pwData)continue;let r=this._schedulerWidget.occurrenceByUid(this.providerCardContextMenus[t.type].pwData.uid);r?this._$scope.$evalAsync((()=>this.providerCardContextMenus[t.type].pwData=r)):this.closeContextMenu()}}},{kind:"method",key:"_incrementActionCounter",value:function _incrementActionCounter(){switch(this._schedulerMode){case se.ud.Board:this._onboardingSrv.incrementActionCounter(se.Us.BoardEdit);break;case se.ud.Calendar:this._onboardingSrv.incrementActionCounter(se.Us.CalendarEdit);break;case se.ud.Timeline:this._onboardingSrv.incrementActionCounter(se.Us.TimelineEdit);break;case se.ud.TimeTracking:this._onboardingSrv.incrementActionCounter(se.Us.TimeTrackingEdit)}}},{kind:"method",key:"_logCardEvent",value:function _logCardEvent(e,t){(0,ie.VH)(e.providerType).logCardEvent(e,t.event,_objectSpread({where:se.a6.Scheduler,by:se.AH.Mouse},t.data))}}]}}))},41963:(e,t,r)=>{r.d(t,{x:()=>D});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let D=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,r(29704).SG)([])],(function(e){return{F:class SchedulerReportsController{constructor(){e(this)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"schedulerReportsCtrl"}}]}}))},6707:(e,t,r)=>{r.d(t,{X:()=>le});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(51791),l=r.n(a),c=r(90143),d=r.n(c),u=r(56626),p=r.n(u),h=r(67552),f=r.n(h),m=r(62079),v=r.n(m),y=r(52020),k=r.n(y),g=r(88546),_=r.n(g),w=r(66775),D=r.n(w),E=r(2201),b=r.n(E),C=r(26171),S=r(26881),P=r(86981),T=r.n(P),A=r(54847),z=r.n(A),I=r(73324),x=r.n(I),R=r(88946),$=r.n(R),F=r(57445),N=r.n(F),M=r(8244),O=r.n(M),L=r(76555),W=r.n(L),K=r(23513),B=r.n(K),G=r(27525),H=r.n(G),j=r(91829),U=r.n(j),V=r(87994),Z=r.n(V),q=r(53706),Y=r.n(q),Q=r(39290),X=r.n(Q),J=r(7488),ee=r.n(J),te=r(40405),re=r.n(te),ie=r(82617),ne=r(56777),oe=r(20115),se=r(8937),ae=r(29704);r(43611);function ownKeys(e,t){var r=v()(e);if(k()){var i=k()(e);t&&(i=x()(i).call(i,(function(t){return _()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?s()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,C.Z)(e,t,n[t])})):D()?b()(e,D()(n)):s()(i=ownKeys(Object(n))).call(i,(function(t){N()(e,t,_()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}N()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==l()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];d()(s).call(s,l()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),c=this.toElementFinisherExtras((0,n[o])(a)||a);e=c.element,this.addElementPlacement(e,t),c.finisher&&i.push(c.finisher);var u=c.extras;if(u){for(var p=0;p<u.length;p++)this.addElementPlacement(u[p],t);r.push.apply(r,u)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return N()(t,p(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return $()(t=(0,S.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:f()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:$()(e).call(e,this.fromElementDescriptor,this)};return N()(t,p(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let le=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=T()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}($()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,ae.SG)(["$element","$log","$scope","$timeout","$translate","appCommonSrv","calendarCardsSrv","dialogSrv","htmlHelperSrv","licenseSrv","notificationSrv","onboardingSrv","planywayIntegrationSrv","settingsSrv","telemetrySrv","timeTrackingSrv","trelloIntegrationSrv"])],(function(e){return{F:class SchedulerTimesheetController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m,v,y){e(this),this._$element=t,this._$log=r,this._$scope=i,this._$timeout=n,this._$translate=o,this._appCommonSrv=s,this._calendarCardsSrv=a,this._dialogSrv=l,this._htmlHelperSrv=c,this._licenseSrv=d,this._notificationSrv=u,this._onboardingSrv=p,this._planywayIntegrationSrv=h,this._settingsSrv=f,this._telemetrySrv=m,this._timeTrackingSrv=v,this._trelloIntegrationSrv=y,this._displayCounter=20;const reloadTimeRecords=()=>{this._timeRecords=null,this._timeRecordsGroups=null};this._$scope.$on(se.FK.FiltersChanged,reloadTimeRecords),this._$scope.$on(se.FK.TrelloBoardSelectionChanged,reloadTimeRecords),this._addServiceListeners();const k=re()((()=>{var e;let t=T()(e=this._$element).call(e,".pw-scheduler-timesheet__time-record:hover").scope();t&&this._$scope.$evalAsync((()=>t.recordHovered=!0))}),200);this._$element.on("mouseover",".pw-scheduler-timesheet__time-record",(()=>{this._isTimeRecordsScrolling||k()}));const g=re()((()=>{this._$scope.$evalAsync((()=>this._isTimeRecordsScrolling=!1))}),200);this._htmlHelperSrv.elementAdded(this._$element,".pw-scheduler-timesheet__time-records",(e=>{e.on("scroll",(()=>{this._isTimeRecordsScrolling=!0,g()}))})),this._$scope.$on("$destroy",(()=>{this._removeServiceListeners()}))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"schedulerTimesheetCtrl"}},{kind:"field",key:"_provider",value:()=>(0,ne.VH)(se.lP.Trello)},{kind:"field",key:"_timeRecordBoardMembers",value:()=>new(z())},{kind:"get",key:"isSchedulerBusy",value:function isSchedulerBusy(){return this._appCommonSrv.isSchedulerBusy()}},{kind:"get",key:"displayCounter",value:function displayCounter(){return this._displayCounter}},{kind:"method",key:"isLoadMoreAvailable",value:function isLoadMoreAvailable(){return this.displayCounter<this.timeRecordsGroups.length}},{kind:"method",key:"loadMore",value:function loadMore(){this._displayCounter=this._displayCounter+20}},{kind:"get",key:"isSchedulerHeightCompact",value:function isSchedulerHeightCompact(){return this._isSchedulerHeightCompact}},{kind:"method",key:"setSchedulerHeightCompact",value:function setSchedulerHeightCompact(e){this._$scope.$evalAsync((()=>this._isSchedulerHeightCompact=e))}},{kind:"get",key:"timeRecords",value:function timeRecords(){if(!this._timeRecords){var e;this._dirtyTimeRecordComment||(this._dirtyTimeRecordComment=new(z())),this._dirtyTimeRecordIsDuration||(this._dirtyTimeRecordIsDuration=new(z())),this._dirtyTimeRecordFrom||(this._dirtyTimeRecordFrom=new(z())),this._dirtyTimeRecordTo||(this._dirtyTimeRecordTo=new(z())),this._dirtyTimeRecordDurationMinutes||(this._dirtyTimeRecordDurationMinutes=new(z())),this._dirtyTimeRecordMember||(this._dirtyTimeRecordMember=new(z())),this._dirtyTimeRecordParentId||(this._dirtyTimeRecordParentId=new(z()));let t=x()(e=this._calendarCardsSrv.getTimeRecords()).call(e,(e=>this._provider.isCurrentCollectionAccountReady(e.accountId)&&this._isTimeRecordVisible(e)));this._timeRecords=$()(t).call(t,(e=>{let t={id:e.id,accountId:e.accountId,uniqueId:`${e.accountId}-${e.id}`,original:_objectSpread({},e),groupId:this._getGroupId(e),deleteAsync:async()=>{if(await this._dialogSrv.showConfirmAsync(this._$translate.instant("DIALOGS.DELETE_TIME_RECORD_TITLE"),this._$translate.instant("DIALOGS.DELETE_TIME_RECORD_CONFIRM"),{buttons:[{text:this._$translate.instant("BUTTONS.DELETE"),isPrimary:!0,isDangerous:!0,dialogResult:!0}]}))try{this._logTimesheetEvent({event:se.cN.CardEvents.TimeRecordDeleted,data:_objectSpread({},t.original)}),this._appCommonSrv.setSchedulerBusy(!0),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null})),await this._calendarCardsSrv.deleteCalendarCardTimeRecordAsync(t.parentCard,t.id)}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null})),this._appCommonSrv.setSchedulerBusy(!1)}}};return N()(t,"comment",{get:()=>this._dirtyTimeRecordComment.has(t.id)?this._dirtyTimeRecordComment.get(t.id):e.comment,set:async e=>{if(t.comment!==e&&this._licenseSrv.checkPaidFeatureAvailable(se.ZV.TimeTracking,!0))try{this._logTimesheetEvent({event:se.cN.CardEvents.TimeRecordCommentChanged,data:_objectSpread({},t.original)}),this._dirtyTimeRecordComment.set(t.id,e),await this._calendarCardsSrv.updateCalendarCardTimeRecordAsync(t.parentCard,t.id,{comment:e}),this._onboardingSrv.incrementActionCounter(se.Us.TimeTrackingEdit)}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._dirtyTimeRecordComment.delete(t.id),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))}}}),N()(t,"parentCard",{get:()=>{let t=this._dirtyTimeRecordParentId.has(e.id)?this._dirtyTimeRecordParentId.get(e.id):e.cardId;return this._calendarCardsSrv.getCalendarCardById(e.accountId,ie.eT.TrelloCard,t)},set:async e=>{if(!e||t.parentCard===e)return;if(!this._licenseSrv.checkPaidFeatureAvailable(se.ZV.TimeTracking,!0))return;let r=t.parentCard;try{this._logTimesheetEvent({event:se.cN.CardEvents.ParentCardChanged,data:_objectSpread({},t.original)}),this._dirtyTimeRecordParentId.set(t.id,e.id),this._appCommonSrv.setSchedulerBusy(!0),await this._calendarCardsSrv.moveCalendarCardTimeRecordAsync(r,t.id,e)}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._dirtyTimeRecordParentId.delete(t.id,e.id),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null})),this._appCommonSrv.setSchedulerBusy(!1)}}}),N()(t,"date",{get:()=>{let e="Dm";return(0,ae.FT)(t.from,new Date)&&(0,ae.FT)(t.to,new Date)||(e="D"),kendo.toString(t.from,e)}}),N()(t,"isLastYear",{get:()=>!(0,ae.FT)(t.from,new Date)||!(0,ae.FT)(t.to,new Date)}),N()(t,"isDuration",{get:()=>this._dirtyTimeRecordIsDuration.has(t.id)?this._dirtyTimeRecordIsDuration.get(t.id):e.isDuration,set:async r=>{if(t.isDuration!==r&&this._licenseSrv.checkPaidFeatureAvailable(se.ZV.TimeTracking,!0))try{let i,n,o=t.durationMinutes;r?(i=(0,ae.$Y)(t.from),n=i):(0,ae.KC)(t.from,new Date)?(n=(0,ae.GG)(new Date,"quarterHour"),i=(0,ae.mH)(n,-o)):(i=(0,ae.nT)(t.from),n=(0,ae.mH)(i,o)),t._maxTo=null,this._logTimesheetEvent({event:r?se.cN.CardEvents.TimeRecordTimeRemoved:se.cN.CardEvents.TimeRecordTimeAdded,data:_objectSpread(_objectSpread({},t.original),{},{isDuration:r,to:n,from:i})}),this._dirtyTimeRecordIsDuration.set(t.id,r),this._dirtyTimeRecordFrom.set(t.id,i),this._dirtyTimeRecordTo.set(t.id,n),this._dirtyTimeRecordDurationMinutes.set(t.id,o),await this._calendarCardsSrv.updateCalendarCardTimeRecordAsync(t.parentCard,e.id,{isDuration:r,from:i,to:n,durationMinutes:o})}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._dirtyTimeRecordIsDuration.delete(t.id),this._dirtyTimeRecordFrom.delete(t.id),this._dirtyTimeRecordTo.delete(t.id),this._dirtyTimeRecordDurationMinutes.delete(t.id),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))}}}),N()(t,"from",{get:()=>this._dirtyTimeRecordFrom.has(t.id)?this._dirtyTimeRecordFrom.get(t.id):e.from,set:async r=>{if(r&&!(0,ae.rs)(t.from,r))if(this._licenseSrv.checkPaidFeatureAvailable(se.ZV.TimeTracking,!0))try{let e;if(t.isDuration){let i=(0,ae.i2)(t.from,t.to);e=(0,ae.E4)(r,i)}else{let i=(0,ae.CX)(t.from,t.to);e=(0,ae.mH)(r,i)}t._maxTo=null,this._logTimesheetEvent({event:se.cN.CardEvents.TimeRecordFromChanged,data:_objectSpread(_objectSpread({},t.original),{},{from:r,to:e})}),this._dirtyTimeRecordFrom.set(t.id,r),this._dirtyTimeRecordTo.set(t.id,e),await this._calendarCardsSrv.updateCalendarCardTimeRecordAsync(t.parentCard,t.id,{isDuration:t.isDuration,from:r,to:e}),this._onboardingSrv.incrementActionCounter(se.Us.TimeTrackingEdit)}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._dirtyTimeRecordFrom.delete(t.id),this._dirtyTimeRecordTo.delete(t.id),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))}else this._$timeout((()=>e.from=new Date(e.from)))}}),N()(t,"to",{get:()=>this._dirtyTimeRecordTo.has(t.id)?this._dirtyTimeRecordTo.get(t.id):e.to,set:async r=>{if(r&&!(0,ae.rs)(t.to,r))if(this._licenseSrv.checkPaidFeatureAvailable(se.ZV.TimeTracking,!0))try{t._maxTo=null,this._logTimesheetEvent({event:se.cN.CardEvents.TimeRecordToChanged,data:_objectSpread(_objectSpread({},t.original),{},{to:r,durationMinutes:(0,ae.CX)(t.from,r)})}),this._dirtyTimeRecordTo.set(t.id,r),await this._calendarCardsSrv.updateCalendarCardTimeRecordAsync(t.parentCard,t.id,{isDuration:t.isDuration,to:r,durationMinutes:(0,ae.CX)(t.from,r)}),this._onboardingSrv.incrementActionCounter(se.Us.TimeTrackingEdit)}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._dirtyTimeRecordTo.delete(t.id),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))}else this._$timeout((()=>e.to=new Date(e.to)))}}),N()(t,"maxTo",{get:()=>(t._maxTo||((0,ae.KC)(t.from,new Date)&&(0,ae.KC)(t.to,new Date)?t._maxTo=(0,ae.h3)(t.from):t._maxTo=(0,ae.v8)(t.from,this._timeTrackingSrv.timeRecordMaxDurationSeconds)),t._maxTo)}),N()(t,"durationHours",{get:()=>(0,ae.QZ)(t.durationMinutes)}),N()(t,"durationMinutes",{get:()=>t.isDuration?this._dirtyTimeRecordDurationMinutes.has(t.id)?this._dirtyTimeRecordDurationMinutes.get(t.id):e.durationMinutes:(0,ae.CX)(t.from,t.to),set:async e=>{if(t.durationMinutes!==e&&this._licenseSrv.checkPaidFeatureAvailable(se.ZV.TimeTracking,!0))try{let r=t.to;t.isDuration||(r=(0,ae.mH)(t.from,e)),this._logTimesheetEvent({event:se.cN.CardEvents.TimeRecordDurationChanged,data:_objectSpread(_objectSpread({},t.original),{},{durationMinutes:e})}),this._dirtyTimeRecordDurationMinutes.set(t.id,e),this._dirtyTimeRecordTo.set(t.id,r),await this._calendarCardsSrv.updateCalendarCardTimeRecordAsync(t.parentCard,t.id,{isDuration:t.isDuration,from:t.from,to:r,durationMinutes:e}),this._onboardingSrv.incrementActionCounter(se.Us.TimeTrackingEdit)}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._dirtyTimeRecordDurationMinutes.delete(t.id),this._dirtyTimeRecordTo.delete(t.id),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))}}}),N()(t,"isReadOnly",{get:()=>{let e=t.parentCard;if(e)return e.providerCard.isReadOnly||e.providerCard.isArchived}}),N()(t,"statusText",{get:()=>{let e=t.parentCard;if(e){if(e.providerCard.isReadOnly)return this._$translate.instant("MISC.READ_ONLY");if(e.providerCard.isArchived)return this._$translate.instant("MISC.ARCHIVED")}return""}}),N()(t,"member",{get:()=>{let r=this.getTimeRecordBoardMembers(t);if(e.memberId&&!O()(r).call(r,(t=>t.id!==e.memberId)))return this._dirtyTimeRecordMember.has(t.id)?this._dirtyTimeRecordMember.get(t.id):_objectSpread({},this._trelloIntegrationSrv.getTrelloMemberById(e.accountId,e.memberId))},set:async r=>{if(t.memberId!==r.id&&this._licenseSrv.checkPaidFeatureAvailable(se.ZV.TimeTracking,!0))try{t.isTempRecord?e.memberId=r.id:(this._logTimesheetEvent({event:se.cN.CardEvents.TimeRecordMemberChanged,data:_objectSpread({},t.original)}),this._dirtyTimeRecordMember.set(t.id,r),await this._calendarCardsSrv.updateCalendarCardTimeRecordAsync(t.parentCard,t.id,{memberId:r.id}))}catch(e){this._$log.error("Planyway time entry updating error:"),this._$log.error(e),this._notificationSrv.showNotification(this._$translate.instant("NOTIFICATIONS.UPDATE_TIME_ENTRY_ERROR"),se.k$.Error)}finally{this._dirtyTimeRecordMember.delete(t.id),this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))}}}),t}))}return this._timeRecords}},{kind:"get",key:"timeRecordsGroups",value:function timeRecordsGroups(){return this._timeRecordsGroups||(this._timeRecordsGroups=this._getTimeRecordsGroups(this.timeRecords)),this._timeRecordsGroups}},{kind:"method",key:"getTimeRecordBoardMembers",value:function getTimeRecordBoardMembers(e){if(!this._timeRecordBoardMembers.has(e.original.boardId)){let i=this._trelloIntegrationSrv.getTrelloBoardById(e.accountId,e.original.boardId);var t,r;if(i)this._timeRecordBoardMembers.set(e.original.boardId,W()(t=x()(r=i.members).call(r,(e=>e.id!==oe.$d))).call(t,ae.Yb))}return this._timeRecordBoardMembers.get(e.original.boardId)}},{kind:"method",key:"parentCardFilter",value:function parentCardFilter(e,t){return t.cardType===ie.eT.TrelloCard&&!t.isReadOnly&&!t.providerCard.isArchived&&t.accountId===e.accountId}},{kind:"get",key:"isTimerStarted",value:function isTimerStarted(){return this._timeTrackingSrv.isTimerStarted}},{kind:"get",key:"timerTime",value:function timerTime(){if(this.isTimerStarted)return this._timeTrackingSrv.timerCounterText}},{kind:"method",key:"_getAccountMemberId",value:function _getAccountMemberId(e){return this._planywayIntegrationSrv.getConnectedAccountById(e).trelloMemberId}},{kind:"method",key:"_logTimesheetEvent",value:function _logTimesheetEvent(e){let t=new(B())([e.data.memberId]);this._telemetrySrv.logSessionEvent(e.event,_objectSpread({mode:this._collectionSettings.global.settings.timeTrackingOnlyMe?"Only me":"All",accountId:e.data.accountId,calendarId:e.data.boardId,cardType:ie.eT.TrelloTimeRecord,cardRole:ie.D.Card,start:e.data.from,end:e.data.to,isAllDay:e.data.isDuration,memberIds:t,isAssignedToMe:t.has(this._getAccountMemberId(e.data.accountId)),where:se.a6.Scheduler,by:se.AH.Timesheet},e.data))}},{kind:"method",key:"_isTimeRecordVisible",value:function _isTimeRecordVisible(e){let t=this._collectionSettings.global.settings.provider[se.lP.Trello].filters;if(this._collectionSettings.global.settings.timeTrackingOnlyMe){var r;if(!H()(r=this._provider.getCurrentCollectionConnectedAccounts()).call(r,(t=>t.trelloMemberId===e.memberId)))return!1}else if(t.members.length>0){var i;if(!H()(i=t.members).call(i,(t=>t===e.memberId)))return!1}let n=this._calendarCardsSrv.getCalendarCardById(e.accountId,ie.eT.TrelloCard,e.cardId);if(!n)return!1;let o=this._appCommonSrv.getFiltersCardSearchString();var s,a;if(o&&!(e.comment&&U()(s=e.comment.toLowerCase()).call(s,o)||U()(a=n.title.toLowerCase()).call(a,o)))return!1;if(t.labels.length>0){var l;if(!H()(l=n.providerCard.labelIds).call(l,(e=>{var r;if(e===oe.$d)return U()(r=t.labels).call(r,oe.$d);let i=this._trelloIntegrationSrv.getTrelloLabelById(n.accountId,e);var o;return!(!i||n.providerCard.boardId!==i.boardId)&&U()(o=t.labels).call(o,(0,ae.uz)(i))})))return!1}if(t.lists.length>0){var c;if(!U()(c=t.lists).call(c,n.providerCard.listId))return!1}if(t.customFields.length>0){let e=!1;if(n.cardType===ie.eT.TrelloCustomField){let r=this._trelloIntegrationSrv.getTrelloCustomFieldById(n.accountId,n.providerCard.trelloCustomFieldId);var d;if(r)e=U()(d=t.customFields).call(d,getCustomFieldHash(r))}if(!e)return!1}if(t.customFilters.length>0){var u;let e=!1,r=Z()(u=this._provider.getCurrentCollectionConnectedAccountIds()).call(u,(e=>{var t;return Z()(t=this._provider.getCurrentCollectionSelectedCalendarIds(e)).call(t,(t=>{var r;let i=this._trelloIntegrationSrv.getTrelloBoardById(e,t);return $()(r=i.customFilters).call(r,(e=>_objectSpread({},e)))}))}));for(let i of t.customFilters){let t=T()(r).call(r,(e=>e.id===i));if(t&&t.targetType===se.go.CustomField){let r=this._trelloIntegrationSrv.getTrelloCustomFieldById(n.accountId,t.targetId);if(!r)continue;let i=this._calendarCardsSrv.getCalendarCardCustomFieldValues(n),o=null==i?void 0:i[t.targetId];switch(r.type){case ie.vK.Checkbox:t.value?o&&(e=!0):o||(e=!0);break;case ie.vK.List:o===t.value&&(e=!0)}}}if(!e)return!1}return!0}},{kind:"method",key:"_getGroupId",value:function _getGroupId(e){return(0,ae.tC)(e.from)}},{kind:"method",key:"_getTimeRecordsGroups",value:function _getTimeRecordsGroups(e){var t,r;let i=Y()(e).call(e,((e,t)=>_objectSpread(_objectSpread({},e),{},{[t.groupId]:[...e[t.groupId]||[],t]})),{});return Z()(t=W()(r=X()(i)).call(r,((e,t)=>{let[r]=e,[i]=t;return new Date(i)-new Date(r)}))).call(t,(e=>{var t,r,i;let n,[o,s]=e;n=o===(0,ae.tC)(new Date)?this._$translate.instant("MISC.TODAY"):o===(0,ae.tC)((0,ae.E4)(new Date,-1))?this._$translate.instant("MISC.YESTERDAY"):kendo.toString((0,ae.oy)(o),"ddd, d MMM");let a=Y()(s).call(s,((e,t)=>e+t.durationMinutes),0),l=Math.floor(a/60),c=a-60*l;return[{id:n,type:"group",group:{name:n,total:{hours:ee()(t=l.toString()).call(t,1,"0"),minutes:ee()(r=c.toString()).call(r,2,"0")}}},...$()(i=W()(s).call(s,ae.EA)).call(i,(e=>({id:e.id,type:"timeRecord",timeRecord:e})))]}))}},{kind:"method",key:"_addServiceListeners",value:function _addServiceListeners(){this._serviceEventsListenersAdded||(this._serviceEventsListenersAdded=!0,this._onCardChanged=()=>{this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))},this._calendarCardsSrv.addCalendarCardEventListener("added",this._onCardChanged),this._calendarCardsSrv.addCalendarCardEventListener("updated",this._onCardChanged),this._calendarCardsSrv.addCalendarCardEventListener("deleted",this._onCardChanged),this._calendarCardsSrv.addCalendarCardEventListener("cleared",this._onCardChanged),this._onTrelloBoardChanged=()=>{this._$scope.$evalAsync((()=>{this._timeRecords=null,this._timeRecordsGroups=null}))},this._trelloIntegrationSrv.addTrelloBoardEventListener("added",this._onTrelloBoardChanged),this._trelloIntegrationSrv.addTrelloBoardEventListener("updated",this._onTrelloBoardChanged),this._trelloIntegrationSrv.addTrelloBoardEventListener("deleted",this._onTrelloBoardChanged),this._trelloIntegrationSrv.addTrelloBoardEventListener("cleared",this._onTrelloBoardChanged))}},{kind:"method",key:"_removeServiceListeners",value:function _removeServiceListeners(){this._serviceEventsListenersAdded&&(this._serviceEventsListenersAdded=!1,this._calendarCardsSrv.removeCalendarCardEventListener("added",this._onCardChanged),this._calendarCardsSrv.removeCalendarCardEventListener("updated",this._onCardChanged),this._calendarCardsSrv.removeCalendarCardEventListener("deleted",this._onCardChanged),this._calendarCardsSrv.removeCalendarCardEventListener("cleared",this._onCardChanged),this._trelloIntegrationSrv.removeTrelloBoardEventListener("added",this._onTrelloBoardChanged),this._trelloIntegrationSrv.removeTrelloBoardEventListener("updated",this._onTrelloBoardChanged),this._trelloIntegrationSrv.removeTrelloBoardEventListener("deleted",this._onTrelloBoardChanged),this._trelloIntegrationSrv.removeTrelloBoardEventListener("cleared",this._onTrelloBoardChanged))}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}}]}}))},59837:(e,t,r)=>{r.d(t,{f:()=>te});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(62079),k=r.n(y),g=r(52020),_=r.n(g),w=r(88546),D=r.n(w),E=r(66775),b=r.n(E),C=r(2201),S=r.n(C),P=r(26171),T=r(26881),A=r(27525),z=r.n(A),I=r(31082),x=r.n(I),R=r(86981),$=r.n(R),F=r(76555),N=r.n(F),M=r(88946),O=r.n(M),L=r(73324),W=r.n(L),K=r(54847),B=r.n(K),G=r(10349),H=r.n(G),j=r(89221),U=r.n(j),V=r(8937),Z=r(29704);function ownKeys(e,t){var r=k()(e);if(_()){var i=_()(e);t&&(i=W()(i).call(i,(function(t){return D()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return O()(t=(0,T.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:O()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const q={First:"first",Second:"second"},Y="navigation",Q="onlyMe",X="export",J="viewSettings",ee="toggleExpand";let te=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=$()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(O()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,Z.SG)(["$sce","$log","$rootScope","$scope","$window","$timeout","$translate","$mdMenu","appCommonSrv","calendarCardsSrv","collectionSrv","dialogSrv","licenseSrv","notificationSrv","onboardingSrv","planywayIntegrationSrv","platformSrv","reportSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class SchedulerToolbarController{constructor(t,r,i,n,o,s,a,l,c,d,u,p,h,f,m,v,y,k,g,_){e(this),this._$sce=t,this._$log=r,this._$rootScope=i,this._$timeout=s,this._$translate=a,this._$scope=n,this._$window=o,this._$mdMenu=l,this._appCommonSrv=c,this._calendarCardsSrv=d,this._collectionSrv=u,this._dialogSrv=p,this._licenseSrv=h,this._notificationSrv=f,this._onboardingSrv=m,this._planywayIntegrationSrv=v,this._platformSrv=y,this._reportSrv=k,this._settingsSrv=g,this._telemetrySrv=_;const onSourceChanged=()=>{this._$scope.$evalAsync((()=>this._applySchedulerToolbarSettings()))};this._$scope.$on(V.FK.CollectionChanged,onSourceChanged),this._$scope.$on(V.FK.AccountAdded,onSourceChanged),this._$scope.$on(V.FK.AccountDeleted,onSourceChanged),this._$scope.$on(V.FK.ChangeSchedulerViewRequested,onSourceChanged)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"schedulerToolbarCtrl"}},{kind:"get",key:"isCalendarMode",value:function isCalendarMode(){return this._appCommonSrv.getSchedulerMode(!0)===V.ud.Calendar}},{kind:"get",key:"isTimelineMode",value:function isTimelineMode(){return this._appCommonSrv.getSchedulerMode(!0)===V.ud.Timeline}},{kind:"get",key:"isTimeTrackingMode",value:function isTimeTrackingMode(){return this._appCommonSrv.getSchedulerMode(!0)===V.ud.TimeTracking}},{kind:"get",key:"isBoardMode",value:function isBoardMode(){return this._appCommonSrv.getSchedulerMode(!0)===V.ud.Board}},{kind:"get",key:"isReportsMode",value:function isReportsMode(){return this._appCommonSrv.getSchedulerMode(!0)===V.ud.Reports}},{kind:"get",key:"isInsideElectron",value:function isInsideElectron(){return this._platformSrv.isInsideElectron()}},{kind:"get",key:"isSubscriptionAvailable",value:function isSubscriptionAvailable(){return this._licenseSrv.isSubscriptionAvailable()}},{kind:"method",key:"isToolbarAvailable",value:function isToolbarAvailable(){if(this._collectionSrv.isCurrentCollectionUnavailable)return!1;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return z()(t).call(t,(e=>{switch(e){case q.First:return!this.isBoardMode&&!this.isReportsMode;case q.Second:return this.isTimeTrackingMode;default:return!0}}))}},{kind:"method",key:"isToolbarButtonAvailable",value:function isToolbarButtonAvailable(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return z()(t).call(t,(e=>{switch(e){case Y:return!(this.isTimeTrackingMode&&this._appCommonSrv.getTimeTrackingView()===V.$5.List||this.isBoardMode);case Q:return this.isTimeTrackingMode;case X:return this.isTimeTrackingMode||this.isTimelineMode||this.isCalendarMode;case J:return!this.isBoardMode;case ee:return!1;default:return!0}}))}},{kind:"method",key:"isExportButtonAvailable",value:function isExportButtonAvailable(e){switch(e){case V.qK.Pdf:return this.isTimelineMode||this.isCalendarMode;case V.qK.Csv:return this.isTimeTrackingMode||this.isTimelineMode||this.isCalendarMode;case V.qK.Excel:return!this.isInsideElectron&&(this.isTimeTrackingMode||this.isTimelineMode||this.isCalendarMode);default:return!0}}},{kind:"method",key:"getToolbarExtraClasses",value:function getToolbarExtraClasses(){let e=[],t=0;for(let e of x()(q))this.isToolbarAvailable(e)&&(t+=1);return t&&e.push(`pw-scheduler-toolbar--rows_${t}`),e.join(" ")}},{kind:"get",key:"navigationActions",value:function navigationActions(){let e=this._schedulerWidget.view();return e?e.navigationActions:[]}},{kind:"method",key:"navigateCalendar",value:function navigateCalendar(e){let t,r=this._schedulerWidget.view().getDateToNavigate(e),i=!0;switch(e){case V.Lo.Today:t=V.vt.Today,i=!1;break;case V.Lo.PreviousHour:case V.Lo.NextHour:t=V.vt.HourScroll;break;case V.Lo.PreviousDay:case V.Lo.NextDay:t=V.vt.DayScroll;break;case V.Lo.PreviousWeek:case V.Lo.NextWeek:t=V.vt.WeekScroll;break;case V.Lo.PreviousMonth:case V.Lo.NextMonth:t=V.vt.MonthScroll;break;case V.Lo.PreviousQuarter:case V.Lo.NextQuarter:t=V.vt.QuarterScroll;break;case V.Lo.PreviousYear:case V.Lo.NextYear:t=V.vt.YearScroll}r&&(this._telemetrySrv.logSessionEvent(this.isTimelineMode?V.cN.CalendarEvents.TimelineNavigated:V.cN.CalendarEvents.CalendarNavigated,{navigateAction:e}),this._$rootScope.$broadcast(V.FK.ScrollSchedulerViewRequested,{scrollToDate:r,restoreOffset:i,navigationMode:t}))}},{kind:"get",key:"calendarWidget",value:function calendarWidget(){return this._calendarWidget}},{kind:"set",key:"calendarWidget",value:function calendarWidget(e){this._calendarWidget=e}},{kind:"get",key:"calendarWidgetOptions",value:function calendarWidgetOptions(){return{weekNumber:this._collectionSettings.global.settings.showWeekNumbers,close:()=>{this._$mdMenu.hide()}}}},{kind:"get",key:"selectedDate",value:function selectedDate(){return(0,Z.KC)(this._appCommonSrv.getSchedulerSelectedDate(),this._schedulerWidget.date())||this._appCommonSrv.setSchedulerSelectedDate(this._schedulerWidget.date()),this._appCommonSrv.getSchedulerSelectedDate()}},{kind:"set",key:"selectedDate",value:function selectedDate(e){var t;e&&(this._telemetrySrv.logSessionEvent(this.isTimelineMode?V.cN.CalendarEvents.TimelineNavigated:V.cN.CalendarEvents.CalendarNavigated,{navigateAction:V.Lo.DateSelect}),this._$rootScope.$broadcast(V.FK.ScrollSchedulerViewRequested,{scrollToDate:e,restoreOffset:this._schedulerWidget.view().isTimeAvailable,navigationMode:V.vt.DateSelect}),null===(t=this.calendarWidget)||void 0===t||t.navigate(e,"month"),this._$mdMenu.hide())}},{kind:"get",key:"selectedDateRangeFormatted",value:function selectedDateRangeFormatted(){return kendo.format("{0:MMM} {0:yyyy}",this.selectedDate)}},{kind:"get",key:"isScaleAvailable",value:function isScaleAvailable(){let e=this._schedulerWidget.view();return!!e&&e.isScaleAvailable}},{kind:"get",key:"availableScales",value:function availableScales(){return this._availableScales||(this._availableScales=[{unit:V.Uh.Hour,title:this._$translate.instant("MENU.SCALE_HOUR")},{unit:V.Uh.Day,title:this._$translate.instant("MENU.SCALE_DAY")},{unit:V.Uh.Week,title:this._$translate.instant("MENU.SCALE_WEEK")},{unit:V.Uh.Month,title:this._$translate.instant("MENU.SCALE_MONTH")},{unit:V.Uh.Quarter,title:this._$translate.instant("MENU.SCALE_QUARTER")},{unit:V.Uh.Year,title:this._$translate.instant("MENU.SCALE_YEAR")}]),this._availableScales}},{kind:"get",key:"selectedScale",value:function selectedScale(){var e;let t=this._schedulerWidget.view().currentScaleUnit;return $()(e=this.availableScales).call(e,(e=>e.unit===t))}},{kind:"set",key:"selectedScale",value:function selectedScale(e){this.selectedScale!==e&&this._schedulerWidget.view()&&(this._schedulerWidget.view().currentScaleUnit=e.unit)}},{kind:"get",key:"timeTrackingOnlyMe",value:function timeTrackingOnlyMe(){return this._collectionSettings.global.settings.timeTrackingOnlyMe}},{kind:"set",key:"timeTrackingOnlyMe",value:function timeTrackingOnlyMe(e){this._collectionSettings.global.settings.timeTrackingOnlyMe=e,this._collectionSettings.global.saveAsync(),this._telemetrySrv.logSessionEvent(V.cN.TimeTrackingEvents.OnlyMeChanged),this._$rootScope.$broadcast(V.FK.FiltersChanged)}},{kind:"get",key:"availableSchedulerViews",value:function availableSchedulerViews(){var e,t;if(!this._availableSchedulerViews){switch(this._appCommonSrv.getSchedulerMode()){case V.ud.Calendar:this._availableSchedulerViews=[{value:V.rW.OneDay,title:this._$translate.instant("MENU.ONE_DAY"),icon:"icons-16:calendar-one-day-outline"},{value:V.rW.ThreeDay,title:this._$translate.instant("MENU.THREE_DAY"),icon:"icons-16:calendar-three-days-outline"},{value:V.rW.Week,title:this._$translate.instant("MENU.WEEK"),icon:"icons-16:calendar-week-outline"},{value:V.rW.Month,title:this._$translate.instant("MENU.MONTH"),icon:"icons-16:calendar-month-outline"}];break;case V.ud.Timeline:this._availableSchedulerViews=N()(e=O()(t=this._appCommonSrv.getAvailableTimelineViews()).call(t,(e=>function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?s()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,P.Z)(e,t,n[t])})):b()?S()(e,b()(n)):s()(i=ownKeys(Object(n))).call(i,(function(t){l()(e,t,D()(n,t))}))}return e}({},e)))).call(e,((e,t)=>V.s7[e.value]-V.s7[t.value]));break;case V.ud.TimeTracking:this._availableSchedulerViews=[{value:V.$5.List,title:this._$translate.instant("MENU.LIST"),icon:"icons-16:time-tracking-list-outline"},{value:V.$5.Calendar,title:this._$translate.instant("MENU.CALENDAR"),icon:"icons-16:time-tracking-calendar-outline"}];break;default:this._availableSchedulerViews=[]}this._providerViewSettingsMenus=null,this._viewSettingsMenuFieldItems=null}return this._availableSchedulerViews}},{kind:"get",key:"selectedSchedulerView",value:function selectedSchedulerView(){var e;let t,r=this._schedulerWidget.view();if(r){switch(this._appCommonSrv.getSchedulerMode()){case V.ud.Calendar:t=r.name;break;case V.ud.Timeline:t=this._appCommonSrv.getTimelineView();break;case V.ud.TimeTracking:t=this._appCommonSrv.getTimeTrackingView();break;default:return}return null===(e=this.availableSchedulerViews)||void 0===e?void 0:$()(e).call(e,(e=>e.value===t))}}},{kind:"set",key:"selectedSchedulerView",value:function selectedSchedulerView(e){if(this.selectedSchedulerView===e)return;let t;switch(this._appCommonSrv.getSchedulerMode()){case V.ud.Calendar:this._collectionSettings.global.settings.schedulerView=e.value;break;case V.ud.Timeline:if(t=V.cA[e.value],t&&!this._licenseSrv.checkPaidFeatureAvailable(t,!0))return;this._collectionSettings.global.settings.timelineView=e.value;break;case V.ud.TimeTracking:this._collectionSettings.global.settings.timeTrackingView=e.value;break;default:return}this._$rootScope.$broadcast(V.FK.ChangeSchedulerViewRequested),this._collectionSettings.global.saveAsync(),this._telemetrySrv.logSessionEvent(V.cN.CalendarEvents.ViewModeChanged,{where:V.gV.SchedulerToolbar}),this._providerViewSettingsMenus=null,this._viewSettingsMenuFieldItems=null}},{kind:"method",key:"onViewMenuOpen",value:function onViewMenuOpen(){this._telemetrySrv.logSessionEvent(V.cN.CalendarEvents.ViewModeMenuOpened,{where:V.gV.SchedulerToolbar})}},{kind:"get",key:"isExportBusy",value:function isExportBusy(){return this._isExportBusy}},{kind:"method",key:"exportAsync",value:async function exportAsync(e){switch(e){case V.qK.Csv:case V.qK.Excel:{var t;let r,i=this._schedulerWidget.view();if(!i)return;switch(this._appCommonSrv.getSchedulerMode()){case V.ud.Calendar:case V.ud.Timeline:r=V.C2.AllCards;break;case V.ud.TimeTracking:r=V.C2.TimeRecords}let n=this._reportSrv.getDefaultParameters(r,{view:i,unit:null===(t=this.selectedScale)||void 0===t?void 0:t.unit});if(!this._licenseSrv.checkPaidFeatureAvailable(V.ZV.ExportToFile,!0))return;this._dialogSrv.showReportDialogAsync({reportType:r,fileType:e,parameters:n});break}case V.qK.Pdf:if(!this._licenseSrv.checkPaidFeatureAvailable(V.ZV.ExportToFile,!0))return;this._telemetrySrv.logSessionEvent(V.cN.GeneralEvents.ReportBuilt,{type:V.C2.Scheduler,fileType:e});try{var r;this._$scope.$evalAsync((()=>this._isExportBusy=!0)),await(0,Z.$U)(100);const e=$()(r=this._reportSrv.availableReports).call(r,(e=>e.type===V.C2.Scheduler));await e.buildAsync()}catch(e){let t;switch(this._$log.error("Export to PDF error:"),this._$log.error(e),this._appCommonSrv.getSchedulerMode(!0)){case V.ud.Calendar:t=this._$translate.instant("NOTIFICATIONS.EXPORT_CALENDAR_ERROR");break;case V.ud.Timeline:t=this._$translate.instant("NOTIFICATIONS.EXPORT_TIMELINE_ERROR")}this._notificationSrv.showNotification(t,V.k$.Error)}finally{this._$scope.$evalAsync((()=>this._isExportBusy=!1))}}}},{kind:"get",key:"providerViewSettingsMenus",value:function providerViewSettingsMenus(){var e,t;this._providerViewSettingsMenus||(this._providerViewSettingsMenus=W()(e=O()(t=this._collectionSrv.getCurrentCollectionConnectedProviders()).call(t,(e=>({providerType:e.type,settingsHtml:e.getSchedulerToolbarViewSettingsMenuHtml()})))).call(e,(e=>e.settingsHtml)));return this._providerViewSettingsMenus}},{kind:"get",key:"viewSettingsMenuViewItems",value:function viewSettingsMenuViewItems(){if(!this._viewSettingsMenuViewItems){const e=this;this._viewSettingsMenuViewItems=[{title:this._$translate.instant("MENU.SHOW_WEEK_NUMBERS"),get state(){return e._collectionSettings.global.settings.showWeekNumbers},set state(t){e._collectionSettings.global.settings.showWeekNumbers=t,e._$rootScope.$broadcast(V.FK.ChangeSchedulerViewRequested),e._collectionSettings.global.saveAsync(),e._telemetrySrv.logSessionEvent(V.cN.SettingsEvents.ShowWeekNumbersChanged),e._applySchedulerToolbarSettings()},get isAvailable(){return!0}},{title:this._$translate.instant("MENU.SHOW_NON_WORKING_HOURS"),get state(){return!e._collectionSettings.global.settings.showWorkHours},set state(t){e._collectionSettings.global.settings.showWorkHours=!t,e._$rootScope.$broadcast(V.FK.ChangeSchedulerViewRequested),e._collectionSettings.global.saveAsync(),e._telemetrySrv.logSessionEvent(V.cN.SettingsEvents.ShowOnlyWorkHoursChanged)},get isAvailable(){let t=e._schedulerWidget.view();return!!t&&t.isTimeAvailable}},{title:this._$translate.instant("MENU.SHOW_WEEKENDS"),get state(){return!e._collectionSettings.global.settings.showWorkDays},set state(t){e._collectionSettings.global.settings.showWorkDays=!t,e._$rootScope.$broadcast(V.FK.ChangeSchedulerViewRequested),e._collectionSettings.global.saveAsync(),e._telemetrySrv.logSessionEvent(V.cN.SettingsEvents.ShowOnlyWorkDaysChanged)},get isAvailable(){let t=e._schedulerWidget.view();return!!t&&t.isHideWeekendsAvailable}},{title:this._$translate.instant("MENU.HIGHLIGHT_TODAY"),get state(){return e._collectionSettings.global.settings.highlightToday},set state(t){e._collectionSettings.global.settings.highlightToday=t,e._$rootScope.$broadcast(V.FK.ChangeSchedulerViewRequested),e._collectionSettings.global.saveAsync(),e._telemetrySrv.logSessionEvent(V.cN.SettingsEvents.HighlightTodayChanged)},get isAvailable(){return!0}}]}return this._viewSettingsMenuViewItems}},{kind:"get",key:"viewSettingsMenuFieldItems",value:function viewSettingsMenuFieldItems(){if(!this._viewSettingsMenuFieldItems){let e=new(B());for(let t of this._collectionSrv.getCurrentCollectionConnectedProviders())for(let r of t.getViewSettingsMenuFieldItems()){if(!r.isAvailable)continue;let t=e.get(r.group);t?t._providerFieldItems.push(r):e.set(r.group,{group:r.group,type:r.type,get title(){var e;return O()(e=this._providerFieldItems).call(e,(e=>{let{title:t}=e;return t})).uniqueBy().join("/")},get state(){return r.state},set state(e){r.state=e},get availableOptions(){var e;return null!==(e=r.availableOptions)&&void 0!==e?e:[]},get option(){return r.option},set option(e){r.option=e},isAvailable:!0,_providerFieldItems:[r]})}this._viewSettingsMenuFieldItems=H()(U()(e).call(e))}return this._viewSettingsMenuFieldItems}},{kind:"method",key:"expandScheduler",value:function expandScheduler(){this._appCommonSrv.setExpandedLayoutPanel(V.sF.Scheduler),this._telemetrySrv.logSessionEvent(V.cN.CalendarEvents.LayoutPanelExpanded,{expandedLayoutPanel:V.sF.Scheduler,by:V.UR.ToolbarButton})}},{kind:"method",key:"collapseScheduler",value:function collapseScheduler(){this._appCommonSrv.setExpandedLayoutPanel(null),this._telemetrySrv.logSessionEvent(V.cN.CalendarEvents.LayoutPanelCollapsed,{collapsedLayoutPanel:V.sF.Scheduler,by:V.UR.ToolbarButton})}},{kind:"get",key:"isSchedulerExpanded",value:function isSchedulerExpanded(){return this._appCommonSrv.getExpandedLayoutPanel()===V.sF.Scheduler}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}},{kind:"get",key:"_currentCollectionId",value:function _currentCollectionId(){return this._collectionSrv.currentCollectionId}},{kind:"get",key:"_schedulerWidget",value:function _schedulerWidget(){return this._appCommonSrv.getSchedulerWidget()}},{kind:"method",key:"_applySchedulerToolbarSettings",value:function _applySchedulerToolbarSettings(){var e;null===(e=this.calendarWidget)||void 0===e||e.setOptions({weekNumber:this._collectionSettings.global.settings.showWeekNumbers}),this._availableSchedulerViews=null}}]}}))},68368:(e,t,r)=>{r.d(t,{E:()=>A});var i=r(40024),n=r.n(i),o=r(99595),s=r.n(o),a=r(57445),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(26881),k=r(86981),g=r.n(k),_=r(62079),w=r.n(_),D=r(76555),E=r.n(D),b=r(88946),C=r.n(b),S=r(8937),P=r(29704),T=r(82617);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;s()(r=["method","field"]).call(r,(function(r){s()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}l()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(s()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),s()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return l()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return C()(t=(0,y.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:C()(e).call(e,this.fromElementDescriptor,this)};return l()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let A=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var s=0;s<i.length;s++)o=i[s](o);var a=t((function initialize(e){o.initializeInstanceElements(e,l.elements)}),r),l=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=g()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(C()(n=a.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(a.F,l.elements),o.runClassFinishers(a.F,l.finishers)}([(0,P.SG)(["$log","$mdDialog","$rootScope","appCommonSrv","planywayIntegrationSrv","planywayNotificationsSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class SettingsDialogController{constructor(t,r,i,n,o,s,a,l){var c,d,u,p,h;e(this),this._$log=t,this._$mdDialog=r,this._$rootScope=i,this._appCommonSrv=n,this._planywayIntegrationSrv=o,this._planywayNotificationsSrv=s,this._settingsSrv=a,this._telemetrySrv=l;let f=null!==(c=this._userSettings.global.settings.firstWeekDay)&&void 0!==c?c:kendo.culture().calendar.firstDay;this._firstWeekDay=g()(d=this.daysOfWeek).call(d,(e=>e.value===f))||this.daysOfWeek[0],this._selectedLocale=g()(u=this.locales).call(u,(e=>e.code===this._appCommonSrv.getLocale())),this._workDayStart=(0,P.Yg)(this._userSettings.global.settings.workDayStart),this._workDayEnd=(0,P.Yg)(this._userSettings.global.settings.workDayEnd),this._workWeekStart=g()(p=this.daysOfWeek).call(p,(e=>e.value===this._userSettings.global.settings.workWeekStart))||this.daysOfWeek[0],this._workWeekEnd=g()(h=this.daysOfWeek).call(h,(e=>e.value===this._userSettings.global.settings.workWeekEnd))||this.daysOfWeek[this.daysOfWeek.length-1]}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"settingsDialogCtrl"}},{kind:"get",key:"firstWeekDay",value:function firstWeekDay(){return this._firstWeekDay}},{kind:"set",key:"firstWeekDay",value:function firstWeekDay(e){this._firstWeekDay=e,this._daysOfWeek=null}},{kind:"get",key:"locales",value:function locales(){if(!this._locales){var e;this._locales=[];for(let e of w()(kendo.cultures))"current"!==e&&this._locales.push({code:e,name:kendo.cultures[e].localizedName});E()(e=this._locales).call(e,((e,t)=>(0,P.A5)(e.code,t.code)))}return this._locales}},{kind:"get",key:"selectedLocale",value:function selectedLocale(){return this._selectedLocale}},{kind:"set",key:"selectedLocale",value:function selectedLocale(e){this._selectedLocale=e}},{kind:"get",key:"workDayStart",value:function workDayStart(){return this._workDayStart}},{kind:"set",key:"workDayStart",value:function workDayStart(e){this._workDayStart=e?(0,P.dH)(e):new Date(this.workDayStart)}},{kind:"get",key:"maxWorkDayStart",value:function maxWorkDayStart(){return(0,P.TR)((0,P.q_)(this.workDayStart,this.workDayEnd),-1)}},{kind:"get",key:"workDayEnd",value:function workDayEnd(){return this._workDayEnd}},{kind:"set",key:"workDayEnd",value:function workDayEnd(e){this._workDayEnd=e||new Date(this.workDayEnd)}},{kind:"get",key:"minWorkDayEnd",value:function minWorkDayEnd(){return(0,P.TR)((0,P.q_)(this.workDayEnd,this.workDayStart),1)}},{kind:"get",key:"maxWorkDayEnd",value:function maxWorkDayEnd(){return(0,P.h3)(this.workDayEnd)}},{kind:"get",key:"workWeekStart",value:function workWeekStart(){return this._workWeekStart}},{kind:"set",key:"workWeekStart",value:function workWeekStart(e){this._workWeekStart=e}},{kind:"get",key:"workWeekEnd",value:function workWeekEnd(){return this._workWeekEnd}},{kind:"set",key:"workWeekEnd",value:function workWeekEnd(e){this._workWeekEnd=e}},{kind:"get",key:"daysOfWeek",value:function daysOfWeek(){if(!this._daysOfWeek){var e,t;let r=kendo.culture().calendar.days.names;this._daysOfWeek=C()(r).call(r,((e,t)=>({title:e,value:t})));let i=null!==(e=null===(t=this.firstWeekDay)||void 0===t?void 0:t.value)&&void 0!==e?e:kendo.culture().calendar.firstDay;for(let e=0;e<i;e++)this._daysOfWeek.push(this._daysOfWeek.shift())}return this._daysOfWeek}},{kind:"method",key:"cancelDialog",value:function cancelDialog(){this._$mdDialog.cancel()}},{kind:"method",key:"hideDialog",value:function hideDialog(){this._$mdDialog.hide()}},{kind:"method",key:"saveSettingsAsync",value:async function saveSettingsAsync(){try{this.hideDialog(),this._appCommonSrv.setSchedulerButtonBusy(!0),this._appCommonSrv.setSchedulerBusy(!0);let e=!1,t=!1;if(this._userSettings.global.settings.firstWeekDay!==this.firstWeekDay.value){let r=null!==this._userSettings.global.settings.firstWeekDay;this._userSettings.global.settings.firstWeekDay=this.firstWeekDay.value,r&&this._telemetrySrv.logSessionEvent(S.cN.SettingsEvents.FirstWeekDayChanged),e=!0,t=!0}if(this._userSettings.global.settings.locale!==this.selectedLocale.code){let r=null!==this._userSettings.global.settings.locale;this._userSettings.global.settings.locale=this.selectedLocale.code,r&&this._telemetrySrv.logSessionEvent(S.cN.SettingsEvents.LocaleChanged,{locale:this.selectedLocale.code}),this._appCommonSrv.setLocale(this.selectedLocale.code),e=!1,t=!0;for(let{accountId:e}of this._planywayIntegrationSrv.getConnectedAccounts(T.Qm.Trello))this._planywayNotificationsSrv.changeNotificationsLocaleAsync(e)}let r=(0,P.jf)(this.workDayStart),i=(0,P.jf)(this.workDayEnd);this._userSettings.global.settings.workDayStart===r&&this._userSettings.global.settings.workDayEnd===i||(this._userSettings.global.settings.workDayStart=r,this._userSettings.global.settings.workDayEnd=i,this._telemetrySrv.logSessionEvent(S.cN.SettingsEvents.WorkHoursChanged),t=!0),this._userSettings.global.settings.workWeekStart===this.workWeekStart.value&&this._userSettings.global.settings.workWeekEnd===this.workWeekEnd.value||(this._userSettings.global.settings.workWeekStart=this.workWeekStart.value,this._userSettings.global.settings.workWeekEnd=this.workWeekEnd.value,this._telemetrySrv.logSessionEvent(S.cN.SettingsEvents.WorkDaysChanged),t=!0),e&&this._appCommonSrv.applyLocale(),t&&(await this._userSettings.global.saveAsync(),this._$rootScope.$broadcast(S.FK.SettingsChanged))}catch(e){this._$log.error("Planyway settings dialog save error:"),this._$log.error(e),this._telemetrySrv.logError("Planyway settings dialog save error",e,{class:this.constructor.name,method:this.saveSettingsAsync.name})}finally{this._appCommonSrv.setSchedulerButtonBusy(!1),this._appCommonSrv.setSchedulerBusy(!1)}}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}}]}}))},88602:(e,t,r)=>{r.d(t,{H:()=>T});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(19755),E=r.n(D),b=r(71930),C=r(8937),S=r(29704),P=r(95877);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let T=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,S.SG)(["$element","$scope","$timeout","appCommonSrv","planywayIntegrationSrv","settingsSrv","telemetrySrv"])],(function(e){return{F:class ShowButtonOnboardingController{constructor(t,r,i,n,o,s,a){e(this),this._$element=t,this._$scope=r,this._$timeout=i,this._appCommonSrv=n,this._planywayIntegrationSrv=o,this._settingsSrv=s,this._telemetrySrv=a,this._$scope.$watch((()=>this._appCommonSrv.isSchedulerButtonBusy()),(e=>{var t;e?(E()(".pw-js-button-onboarding").hide(),null===(t=this._arrow)||void 0===t||t.remove()):(E()(".pw-js-button-onboarding").show(),this._arrow=new b.Z(b.Z.pointAnchor(E()(".pw-show-button-onboarding-body__title")[0],{x:"105%",y:"50%"}),b.Z.pointAnchor(E()(".pw-trello-buttons")[0],{x:"50%",y:"120%"}),{color:"white",path:"arc",size:3,startSocketGravity:400}))})),this._$scope.$on(C.FK.HideButtonOnboardingRequested,(()=>{this._telemetrySrv.logSingleEvent(C.cN.OnboardingEvents.ShowButtonPassed),this._$timeout((()=>this._close()),0,!1)})),P.Xb.addStorageEventListener((e=>{"planywayOnboardingButtonPassed"===e.key&&this._destroy()})),this._$scope.$on("$destroy",(()=>{var e;null===(e=this._arrow)||void 0===e||e.remove()}))}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"showButtonOnboardingCtrl"}},{kind:"method",key:"skipButtonOnboarding",value:function skipButtonOnboarding(){this._telemetrySrv.logSingleEvent(C.cN.OnboardingEvents.ShowButtonSkipped),this._close()}},{kind:"get",key:"_userSettings",value:function _userSettings(){return this._settingsSrv.user}},{kind:"method",key:"_close",value:function _close(){try{P.Xb.planywayOnboardingButtonPassed=!0}catch{}this._planywayIntegrationSrv.isSignedIn()&&(this._userSettings.global.settings.isOnboardingButtonPassed=!0,this._userSettings.global.saveAsync()),this._destroy()}},{kind:"method",key:"_destroy",value:function _destroy(){this._$scope.$destroy(),E()(".pw-js-button-onboarding").remove()}}]}}))},49896:(e,t,r)=>{r.d(t,{z:()=>D});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let D=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,r(29704).SG)([])],(function(e){return{F:class UserAvatarController{constructor(){e(this)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"userAvatarCtrl"}},{kind:"field",key:"shape",value:()=>"round"},{kind:"field",key:"avatarUrl",value:void 0},{kind:"field",key:"name",value:void 0},{kind:"field",key:"tooltipText",value:void 0},{kind:"field",key:"tooltipDirection",value:void 0},{kind:"field",key:"useOverlay",value:void 0}]}}))},87523:(e,t,r)=>{r.d(t,{C:()=>z});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(27525),E=r.n(D),b=r(8937),C=r(29704),S=r(56777),P=r(96115),T=r.n(P);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const A="toggleExpand";let z=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}([(0,C.SG)(["$element","$scope","$rootScope","$translate","$window","appCommonSrv","collectionSrv","dialogSrv","planywayIntegrationSrv","platformSrv","telemetrySrv"])],(function(e){return{F:class WorkPanelController{constructor(t,r,i,n,o,s,a,l,c,d,u){e(this),this._$element=t,this._$scope=r,this._$rootScope=i,this._$translate=n,this._$window=o,this._appCommonSrv=s,this._collectionSrv=a,this._dialogSrv=l,this._planywayIntegrationSrv=c,this._platformSrv=d,this._telemetrySrv=u;const onSourceChanged=()=>{this._$scope.$evalAsync((()=>{this._workPanels=null,this._workPanelCallout=null}))};this._$scope.$on(b.FK.WorkPanelReloaded,onSourceChanged),this._$scope.$on(b.FK.CollectionChanged,onSourceChanged),this._$scope.$on(b.FK.AccountAdded,onSourceChanged),this._$scope.$on(b.FK.AccountDeleted,onSourceChanged),this._$scope.$on(b.FK.CalendarsChanged,onSourceChanged)}},d:[{kind:"get",static:!0,key:"controllerName",value:function controllerName(){return"workPanelCtrl"}},{kind:"method",key:"expandWorkPanel",value:function expandWorkPanel(){this._appCommonSrv.setExpandedLayoutPanel(b.sF.WorkPanel),this._telemetrySrv.logSessionEvent(b.cN.CalendarEvents.LayoutPanelExpanded,{expandedLayoutPanel:b.sF.WorkPanel,by:b.UR.ToolbarButton})}},{kind:"method",key:"collapseWorkPanel",value:function collapseWorkPanel(){this._appCommonSrv.setExpandedLayoutPanel(null),this._telemetrySrv.logSessionEvent(b.cN.CalendarEvents.LayoutPanelCollapsed,{collapsedLayoutPanel:b.sF.WorkPanel,by:b.UR.ToolbarButton})}},{kind:"get",key:"isWorkPanelExpanded",value:function isWorkPanelExpanded(){return this._appCommonSrv.getExpandedLayoutPanel()===b.sF.WorkPanel}},{kind:"get",key:"isWorkPanelAvailable",value:function isWorkPanelAvailable(){var e;return E()(e=this.workPanels).call(e,(e=>e.isAvailable))}},{kind:"get",key:"workPanels",value:function workPanels(){if(!this._workPanels){this._workPanels=[];for(let e of this._collectionSrv.getCurrentCollectionConnectedProviders()){let t=e.getWorkPanelHtml();t&&this._workPanels.push({providerType:e.type,isAvailable:e.isWorkPanelAvailable(),workPanelHtml:t})}}return this._workPanels}},{kind:"get",key:"isWorkPanelWidthCompact",value:function isWorkPanelWidthCompact(){return this._isWorkPanelWidthCompact}},{kind:"method",key:"setWorkPanelWidthCompact",value:function setWorkPanelWidthCompact(e){this._$scope.$evalAsync(this._isWorkPanelWidthCompact=e)}},{kind:"get",key:"isWorkPanelHeightCompact",value:function isWorkPanelHeightCompact(){return this._isWorkPanelHeightCompact}},{kind:"method",key:"setWorkPanelHeightCompact",value:function setWorkPanelHeightCompact(e){this._$scope.$evalAsync(this._isWorkPanelHeightCompact=e)}},{kind:"method",key:"isToolbarButtonAvailable",value:function isToolbarButtonAvailable(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return E()(t).call(t,(e=>e!==A))}},{kind:"get",key:"workPanelCalloutImageUrl",value:function workPanelCalloutImageUrl(){return this._platformSrv.getPlatformUrl(T())}},{kind:"get",key:"workPanelCallout",value:function workPanelCallout(){if(!this._workPanelCallout){const e=this._planywayIntegrationSrv.getPrimaryAccount(),t=(0,S.dS)(null==e?void 0:e.accountType);this._workPanelCallout=t.getWorkPanelCalloutConfig()}return this._workPanelCallout}},{kind:"method",key:"addAccountToCurrentCollectionAsync",value:async function addAccountToCurrentCollectionAsync(){let e=b.Zz.TaskLists;this._telemetrySrv.logSessionEvent(b.cN.CollectionEvents.CollectionAddAccountDialogOpened,{where:e});const{accountType:t}=this._planywayIntegrationSrv.getPrimaryAccount();let r=await this._dialogSrv.showAddAccountDialogAsync({accountType:t});r?this._telemetrySrv.logSessionEvent(b.cN.CollectionEvents.CollectionAccountAdded,{accountType:r.accountType}):this._telemetrySrv.logSessionEvent(b.cN.CollectionEvents.CollectionAddAccountDialogClosed,{where:e})}}]}}))},84479:(e,t,r)=>{r.d(t,{J:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(63162),b=r(21281),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class AuthWindowDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.A.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={_providers:"<providers",_userId:"<?userId",_size:"<?size",_onAuthorize:"&onAuthorize",_setIsBusy:"&setIsBusy"}}}return{F:AuthWindowDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwAuthWindow"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new AuthWindowDirective(...t)}}]}}))},79571:(e,t,r)=>{r.d(t,{w:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(9938),E=r.n(D),b=r(8937),C=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const S=["box-sizing","padding-left","padding-right","padding-block-start","padding-block-end","padding-inline-start","padding-inline-end","border-left-style","border-left-width","border-right-style","border-right-width","border-block-start-width","border-block-end-width","border-inline-start-width","border-inline-end-width","stroke-width","font-style","font-size","font-weight","font-family","text-transform","letter-spacing"];let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class AutosizeInputDirective{constructor(){e(this),this.restrict="A",this.require="?^^pwInView"}}return{F:AutosizeInputDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwAutosizeInput"}},{kind:"method",decorators:[(0,C.SG)([])],static:!0,key:"create",value:function create(){return new AutosizeInputDirective}},{kind:"method",key:"link",value:function link(e,t,r,i){const n=t[0];let o;if("number"===r.type)o=t.hasClass("pw-js-input-no-spin")?0:20;else o=0;let s=document.createElement("span");function resize(){if(!1===(null==i?void 0:i.inView))return void(e.$needResize=!0);let t=getComputedStyle(n);for(let e of S)s.style.setProperty(e,t.getPropertyValue(e),t.getPropertyPriority(e));s.textContent=n.value||n.placeholder,document.body.appendChild(s),n.style.width=`${Math.ceil(s.offsetWidth)+2+o}px`,document.body.removeChild(s),e.$needResize=!1}s.style.display="inline",s.style.width="auto",s.style.visibility="hidden",E()(resize);let a=[()=>n.value||n.placeholder];r.ngModel&&a.push(r.ngModel),r.kNgModel&&a.push(r.kNgModel),e.$watchGroup(a,resize),i&&e.$watch((()=>i.inView),(t=>{t&&e.$needResize&&resize()})),t.on("change",resize),t.on("input",resize),t.on("resize",resize),e.$on(b.FK.AutosizeControlsResizeRequested,resize)}}]}}))},32332:(e,t,r)=>{r.d(t,{w:()=>E});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(86981),w=r.n(_),D=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let E=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class AutosizeMenuContentDirective{constructor(){e(this),this.restrict="A"}}return{F:AutosizeMenuContentDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwAutosizeMenuContent"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new AutosizeMenuContentDirective}},{kind:"method",key:"link",value:function link(e,t){const r=w()(t).call(t,".pw-menu-btn"),i=w()(t).call(t,"md-menu-content");i.addClass("pw-menu-content--wide");const n=e.$mdMenu,o=n.open;n.open=e=>{i.width(r.outerWidth()),o(e)}}}]}}))},39828:(e,t,r)=>{r.d(t,{O:()=>C});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(3682),E=r(8937),b=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let C=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class AutosizeTextareaDirective{constructor(){e(this),this.restrict="A",this.require="?^^pwInView"}}return{F:AutosizeTextareaDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwAutosizeTextarea"}},{kind:"method",decorators:[(0,b.SG)([])],static:!0,key:"create",value:function create(){return new AutosizeTextareaDirective}},{kind:"method",key:"link",value:function link(e,t,r,i){const n=t[0];(0,D.Z)(t);const resize=()=>{!1!==(null==i?void 0:i.inView)?(D.Z.update(t),e.$needResize=!1):e.$needResize=!0};let o=[()=>n.value||n.placeholder];r.ngModel&&o.push(r.ngModel),r.kNgModel&&o.push(r.kNgModel),e.$watchGroup(o,resize),i&&e.$watch((()=>i.inView),(t=>{t&&e.$needResize&&resize()})),t.on("change",resize),t.on("input",resize),e.$on(E.FK.AutosizeControlsResizeRequested,resize)}}]}}))},44084:(e,t,r)=>{r.d(t,{C:()=>E});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let E=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class BindHtmlCompileDirective{constructor(t){e(this),this._$compile=t,this.restrict="A"}}return{F:BindHtmlCompileDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwBindHtmlCompile"}},{kind:"method",decorators:[(0,D.SG)(["$compile"])],static:!0,key:"create",value:function create(e){return new BindHtmlCompileDirective(e)}},{kind:"method",key:"link",value:function link(e,t,r){let i=null;e.$watch((()=>e.$eval(r.pwBindHtmlCompile)),(n=>{t.html(n&&n.toString()),null!==i&&i.$destroy();let o=r.bindHtmlScope?e.$eval(r.bindHtmlScope):e.$new(!1);i=o,this._$compile(t.contents())(o)}))}}]}}))},42523:(e,t,r)=>{r.d(t,{n:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(38495),b=r(26619),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class CalendarSelectDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.O.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={accountId:"<?",calendarId:"<?",setCalendar:"<?",isReadOnly:"<?",providerWhitelist:"<?",_isDisabled:"<?isDisabled",_isSearchEnabled:"<?isSearchEnabled"}}}return{F:CalendarSelectDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwCalendarSelect"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new CalendarSelectDirective}}]}}))},79167:(e,t,r)=>{r.d(t,{G:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(4205),b=r(57051),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class CardContextMenuDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.R.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={source:"@",onSetContextMenu:"&"}}}return{F:CardContextMenuDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwCardContextMenu"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new CardContextMenuDirective}}]}}))},8545:(e,t,r)=>{r.d(t,{N:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(86981),w=r.n(_),D=r(29704),E=r(7473),b=r(67353),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class CardSelectDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.L.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={calendarCard:"=?",type:"@?",onSelect:"&?",filter:"&",isDisabled:"<?",autofocus:"<?",placeholder:"@placeholder",searchCardString:"=?",offset:"@?",positionMode:"@?",autosize:"<?",_showSelectedCardTitle:"<?showSelectedCardTitle"}}}return{F:CardSelectDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwCardSelect"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new CardSelectDirective}},{kind:"method",key:"link",value:function link(e,t){e.$ctrl.autofocus&&w()(t).call(t,".pw-js-card-select-search-input").trigger("focus")}}]}}))},59277:(e,t,r)=>{r.d(t,{n:()=>I});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(23513),E=r.n(D),b=r(35820),C=r.n(b),S=r(19755),P=r.n(S),T=r(29704),A=r(56777);r(95877);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const z="data-card-tooltip-id";let I=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class CardTooltipDirective{constructor(t,r,i){e(this),this._$log=r,this._$window=t,this._$mdPanel=i,this.restrict="A",this.scope={options:`<${CardTooltipDirective.directiveName}`},this._shownTooltips=new(E()),this._tooltipAnimation=this._$mdPanel.newPanelAnimation().withAnimation(this._$mdPanel.animation.FADE).duration(150),this._tooltipPosition=this._$mdPanel.newPanelPosition()}}return{F:CardTooltipDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwCardTooltip"}},{kind:"method",decorators:[(0,T.SG)(["$window","$log","$mdPanel"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new CardTooltipDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){t.on("mouseenter",(()=>{this._closeAllTooltipsAsync()})),t.on("mouseenter",`[${z}]`,(t=>{this._showTooltipAsync(e,t)}));const onMouseScroll=()=>{this._closeAllTooltipsAsync()},onMouseMove=async e=>{this._mouseX=e.clientX,this._mouseY=e.clientY;for(let e of this._shownTooltips)e.cardElement.is(":hover")?this._updateTooltipPosition(e):await this._closeTooltipAsync(e)};this._$window.addEventListener("scroll",onMouseScroll,!0),this._$window.addEventListener("mousemove",onMouseMove,!0),e.$on("$destroy",(()=>{this._$window.removeEventListener("scroll",onMouseScroll,!0),this._$window.removeEventListener("mousemove",onMouseMove,!0)}))}},{kind:"method",key:"_closeAllTooltipsAsync",value:async function _closeAllTooltipsAsync(){for(let e of this._shownTooltips)await this._closeTooltipAsync(e)}},{kind:"method",key:"_closeTooltipAsync",value:async function _closeTooltipAsync(e){if(e.mdPanelRef&&this._shownTooltips.delete(e)){e.mdPanelOpenPromise&&await e.mdPanelOpenPromise,e.mdPanelClosePromise=e.mdPanelRef.close();try{await e.mdPanelClosePromise,e.mdPanelRef.destroy(),e.mdPanelRef=null}catch(e){this._$log.error("Planyway close card tooltip error:"),this._$log.error(e)}finally{e.mdPanelClosePromise=null}}}},{kind:"method",key:"_showTooltipAsync",value:async function _showTooltipAsync(e,t){var r,i;if(t.stopPropagation(),t.buttons)return;let n=P()(t.target).closest(`[${z}]`),o=n.attr(z);if(!o)return;let s=n.attr("data-card-tooltip-account-id");if(!s)return;let a=n.attr("data-card-tooltip-type");if(!a)return;let l=null===(r=(i=e.options).getCardForTooltip)||void 0===r?void 0:r.call(i,s,o,a);if(!l)return;let c={cardElement:n,isMouseHovering:!0};if(n.one("mouseleave mouseup",(()=>{c.isMouseHovering=!1,this._closeTooltipAsync(c)})),await C().all([(0,T.$U)(150),c.mdPanelClosePromise]),!c.isMouseHovering)return;await this._closeAllTooltipsAsync(),this._updateTooltipPosition(c);const{controllerName:d,templateUrl:u}=(0,A.VH)(l.providerType).getCardTooltipConfig();c.mdPanelRef=this._$mdPanel.create({templateUrl:u,controller:d,controllerAs:"$ctrl",locals:{calendarCard:l},attachTo:P()("body"),propagateContainerEvents:!0,panelClass:"pw-card-tooltip",animation:this._tooltipAnimation,position:this._tooltipPosition,trapFocus:!1,focusOnOpen:!1,fullscreen:!1,disableParentScroll:!1,onDomAdded:()=>P()(".pw-card-tooltip").css("pointer-events",""),zIndex:2e3}),c.mdPanelOpenPromise=c.mdPanelRef.open(),this._shownTooltips.add(c);try{await c.mdPanelOpenPromise}catch(e){this._$log.error("Planyway open card tooltip error:"),this._$log.error(e)}finally{c.mdPanelOpenPromise=null}}},{kind:"method",key:"_updateTooltipPosition",value:function _updateTooltipPosition(e){var t;this._tooltipPosition.left(`${this._mouseX+16}px`).top(`${this._mouseY+16}px`),null!==(t=e.mdPanelRef)&&void 0!==t&&t.panelContainer&&e.mdPanelRef.updatePosition(this._tooltipPosition)}}]}}))},36838:(e,t,r)=>{r.d(t,{Z:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(91250),b=r(32862),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class CollectionsPanelDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.C.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:CollectionsPanelDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwCollectionsPanel"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new CollectionsPanelDirective}}]}}))},74372:(e,t,r)=>{r.d(t,{l:()=>T});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(86981),w=r.n(_),D=r(91829),E=r.n(D),b=r(19755),C=r.n(b),S=r(8937),P=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let T=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class ContextMenuDirective{constructor(t,r){e(this),this._$timeout=t,this._$sniffer=r,this.restrict="A",this.require="mdMenu",this._openContextMenus=0}}return{F:ContextMenuDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwContextMenu"}},{kind:"method",decorators:[(0,P.SG)(["$timeout","$sniffer"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new ContextMenuDirective(...t)}},{kind:"method",key:"link",value:function link(e,t,r,i){var n;C()('<div style="visibility: hidden; position: absolute; left: 0; top: 0;" md-menu-align-target></div>').prependTo(t.children("md-menu-content")),t.children().first().attr("ng-click","");const o=e.$mdMenu,s=o.open,a=o.close,l=[];o.open=async(t,r,n)=>{let a,c;if(o.pwData&&(o.pwData.isContextMenuOpened=!1),o.pwData=r,t.clientX&&t.clientY)a={left:t.clientX,top:t.clientY};else if(t.target){let e=C()(t.target),r=e.offset();a={left:r.left+e.width()/2,top:r.top+e.height()/2}}else if(t.relativeTo){let e=C()(t.relativeTo.target).offset();t.relativeTo.offsetX&&t.relativeTo.offsetY&&(a={left:e.left+t.relativeTo.offsetX,top:e.top+t.relativeTo.offsetY}),t.relativeTo.positionLeft&&t.relativeTo.positionTop&&(c={left:t.relativeTo.positionLeft,top:t.relativeTo.positionTop})}a&&(i.offsets=()=>a),c&&(i.positionMode=()=>c),o.close(),t.target&&C()(t.target).trigger("mouseleave"),this._openContextMenus>0&&await this._$timeout(),n&&(this._setMenuAnimationEnabled(!1),e.$once("$mdMenuOpened",(()=>{this._setMenuAnimationEnabled(!0);let e=w()(l).call(l,(e=>e.menuItem===n));e&&e.$mdMenu.open()}))),s(t)};const c=e.$watch((()=>i.nestedMenus),(e=>{c();for(let t of e){let e=C()(t),r=e.scope();if(r){l.push({menuItem:e.data("nested-menu"),$mdMenu:r.$mdMenu}),r.$on("$mdMenuOpen",(()=>this._setMenuAnimationEnabled(!1))),r.$on("$mdMenuOpened",(()=>this._setMenuAnimationEnabled(!0)));let t=e.attr("ng-show");t&&r.$watch(t,(e=>{e||r.$mdMenu.close(!0,{closeTo:i.nestLevel+1})}))}}}));o.closeNested=()=>{for(let e of l)e.$mdMenu.close()},o.close=function(){e.$emit("$pwContextMenuClosed"),o.closeNested(),a(...arguments)},e.$on(S.FK.CloseDialogsRequested,(()=>{o.close()}));let d=!1;e.$watch((()=>e.$mdMenuIsOpen),(e=>{d&&(e?this._openContextMenus++:this._openContextMenus--,o.pwData&&(o.pwData.isContextMenuOpened=this._openContextMenus>0)),d=!0,e||o.closeNested()})),o.isMacOS=E()(n=navigator.platform.toUpperCase()).call(n,"MAC")}},{kind:"method",key:"_setMenuAnimationEnabled",value:function _setMenuAnimationEnabled(e){this._$sniffer.animations=e,this._$sniffer.transitions=e}}]}}))},2433:(e,t,r)=>{r.d(t,{Q:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(34988),b=r(58411),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class DatePickerRangeDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.j.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={_start:"=start",_end:"=end",weekNumber:"<?weekNumber",isDisabled:"<?"}}}return{F:DatePickerRangeDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwDatePickerRange"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new DatePickerRangeDirective}}]}}))},71128:(e,t,r)=>{r.d(t,{O:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(12784),b=r(28297),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class DateTimePickerDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.S.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={_date:"=date",_minDate:"<?minDate",_maxDate:"<?maxDate",isOnlyDate:"<?isOnlyDate",isOnlyTime:"<?isOnlyTime",dateFormat:"<?dateFormat",weekNumber:"<?weekNumber",placeholder:"@placeholder",isDisabled:"<?"}}}return{F:DateTimePickerDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwDateTimePicker"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new DateTimePickerDirective}}]}}))},11054:(e,t,r)=>{r.d(t,{d:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(69117),b=r(44925),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class DateTimePickerRangeDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.o.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={_isOnlyDate:"<isOnlyDate",_start:"=start",_end:"=end",_defaultCardIsAllDay:"<defaultCardIsAllDay",_defaultDateRangeMode:"<?defaultDateRangeMode",weekNumber:"<?",changeDates:"&",removeDates:"&",isDisabled:"<?",isSingleDate:"<?",useFullDateFormat:"<?",showCloseButton:"<?"}}}return{F:DateTimePickerRangeDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwDateTimePickerRange"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new DateTimePickerRangeDirective}}]}}))},33345:(e,t,r)=>{r.d(t,{p:()=>O});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(62079),D=r.n(w),E=r(52020),b=r.n(E),C=r(73324),S=r.n(C),P=r(88546),T=r.n(P),A=r(66775),z=r.n(A),I=r(2201),x=r.n(I),R=r(26171),$=r(26881),F=r(98384),N=r.n(F),M=r(29704);function ownKeys(e,t){var r=D()(e);if(b()){var i=b()(e);t&&(i=S()(i).call(i,(function(t){return T()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,$.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let O=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class DraggableDirective{constructor(){e(this),this.restrict="A",this.scope={onDragStart:"&?",onDragEnd:"&?"}}}return{F:DraggableDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwDraggable"}},{kind:"method",decorators:[(0,M.SG)([])],static:!0,key:"create",value:function create(e){return new DraggableDirective(e)}},{kind:"method",key:"link",value:function link(e,t){const r=new(N())(t[0],{containment:"html",handle:".pw-js-draggable-handler"});let i=function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?l()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,R.Z)(e,t,n[t])})):z()?x()(e,z()(n)):l()(i=ownKeys(Object(n))).call(i,(function(t){d()(e,t,T()(n,t))}))}return e}({},r.position);r.on("dragStart",(()=>{var t;null===(t=e.onDragStart)||void 0===t||t.call(e)})),r.on("dragEnd",(()=>{var t;let n=r.position;null===(t=e.onDragEnd)||void 0===t||t.call(e,{offset:{x:n.x-i.x,y:n.y-i.y}})})),e.$on("$destroy",(()=>r.destroy()))}}]}}))},67532:(e,t,r)=>{r.d(t,{l:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(74874),b=r(29111),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class DurationPickerDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.o.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={durationMinutes:"=",pickerFormat:"<?",_isDuration:"=isDuration",_start:"=start",_end:"=end",_maxEnd:"=maxEnd",isDisabled:"<?",placeholder:"@",autocorrectMenuPosition:"<?",autoscrollParent:"<?",_focusOnCreate:"<?focusOnCreate",_openAfterCreate:"<?openAfterCreate"}}}return{F:DurationPickerDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwDurationPicker"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new DurationPickerDirective}}]}}))},53801:(e,t,r)=>{r.d(t,{w:()=>E});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let E=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class EllipsisTitleDirective{constructor(t){e(this),this._$timeout=t,this.restrict="A"}}return{F:EllipsisTitleDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwEllipsisTitle"}},{kind:"method",decorators:[(0,D.SG)(["$timeout"])],static:!0,key:"create",value:function create(e){return new EllipsisTitleDirective(e)}},{kind:"method",key:"link",value:function link(e,t){const r=t[0];this._$timeout((()=>{e.$watchGroup([()=>r.innerText||r.value,()=>r.scrollWidth,()=>r.offsetWidth],(()=>{r.scrollWidth>r.offsetWidth?r.title=r.innerText||r.value:r.title=""}))}),1e3,!1)}}]}}))},4180:(e,t,r)=>{r.d(t,{z:()=>C});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(51791),d=r.n(c),u=r(90143),p=r.n(u),h=r(56626),f=r.n(h),m=r(67552),v=r.n(m),y=r(86981),k=r.n(y),g=r(26881),_=r(57445),w=r.n(_),D=r(98186),E=r.n(D),b=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}w()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==d()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];p()(s).call(s,d()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var u=0;u<c.length;u++)this.addElementPlacement(c[u],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return w()(t,f(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:v()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return w()(t,f(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let C=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=k()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class InViewDirective{constructor(){e(this),this.restrict="A",this.scope={pwInView:"&"},this.controller=["$scope",function(e){w()(this,"inView",{get:()=>e.inView})}],this.observer=new IntersectionObserver((e=>{for(let t of e){let e=this.handlers.get(t.target);e&&e(t.isIntersecting)}})),this.handlers=new(E())}}return{F:InViewDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwInView"}},{kind:"method",decorators:[(0,b.SG)([])],static:!0,key:"create",value:function create(){return new InViewDirective}},{kind:"method",key:"link",value:function link(e,t){const r=t[0];this.handlers.set(r,(t=>{e.$applyAsync((()=>{e.inView=t,e.pwInView({$scope:e.$parent,$inView:e.inView})}))})),this.observer.observe(r),e.$on("$destroy",(()=>{this.handlers.delete(r),this.observer.unobserve(r)}))}}]}}))},33208:(e,t,r)=>{r.d(t,{U:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(34144),b=r(20285),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class MainContainerDirective{constructor(t){e(this),this._appCommonSrv=t,this.templateUrl=C(),this.restrict="E",this.controller=E.j.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:MainContainerDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwMainContainer"}},{kind:"method",decorators:[(0,D.SG)(["appCommonSrv"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new MainContainerDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){e.$watch((()=>this._appCommonSrv.getExpandedLayoutPanel()),(e=>{t.toggleClass("pw-main-container--dense",!!e)}))}}]}}))},70383:(e,t,r)=>{r.d(t,{S:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(76463),b=r(67234),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class MainSidebarDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.H.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:MainSidebarDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwMainSidebar"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new MainSidebarDirective}}]}}))},58281:(e,t,r)=>{r.d(t,{B:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(8937),E=r(29704),b=r(98743),C=r(41479),S=r.n(C);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class MainToolbarDirective{constructor(t,r){e(this),this._appCommonSrv=r,this._$mdMenu=t,this.templateUrl=S(),this.restrict="E",this.controller=b.E.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:MainToolbarDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwMainToolbar"}},{kind:"method",decorators:[(0,E.SG)(["$mdMenu","appCommonSrv"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new MainToolbarDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){const onWidthChanged=()=>{this._$mdMenu.hide(),e.$ctrl.adaptWidth()};onWidthChanged();for(let r of[D.FK.ResizeListenerWindowResized,D.FK.ResizeListenerElementResized])e.$on(r,((e,r)=>{r.targetElement===t&&r.widthChanged&&onWidthChanged()}))}}]}}))},61149:(e,t,r)=>{r.d(t,{j:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(33439),b=r(9775),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class MemberAvatarDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.u.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={accountId:"@",member:"<",memberId:"@",membershipType:"@",memberType:"@?",_avatarSize:"@?avatarSize",_showNameTooltip:"<?showNameTooltip"}}}return{F:MemberAvatarDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwMemberAvatar"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new MemberAvatarDirective}}]}}))},86977:(e,t,r)=>{r.d(t,{k:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(54847),w=r.n(_),D=r(86981),E=r.n(D),b=r(8937),C=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const S='\n<p class="k-notification__title">\n    <strong>\n        #= title #\n    </strong>\n</p>\n# if (allowClose) { #\n<md-button class="md-icon-button pw-icon-btn pw-notification__close-btn">\n    <div class="pw-mdi-icon mdi mdi-close"></div>\n</md-button>\n# } #\n<p class="k-notification__message">\n    #= message #\n</p>\n# if (actionText) { #\n<md-button\n    class="pw-btn pw-notification__action-btn"\n    ng-click="actionHandlers[\'#= actionHandler #\']()"\n>\n    #= actionText #\n</md-button>\n# } #\n';let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=E()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class NotificationDirective{constructor(t,r,i){e(this),this._$translate=t,this._notificationSrv=r,this._platformSrv=i,this.template='<div id="pwNotification" kendo-notification></div>',this.restrict="E"}}return{F:NotificationDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwNotification"}},{kind:"method",decorators:[(0,C.SG)(["$translate","notificationSrv","platformSrv"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new NotificationDirective(...t)}},{kind:"field",key:"_notificationGroups",value:()=>new(w())},{kind:"method",key:"link",value:function link(e,t){let r=kendo.widgetInstance(E()(t).call(t,"#pwNotification"));r&&r.setOptions({appendTo:"pw-notification",allowHideAfter:1e3,templates:[{type:b.k$.Info,template:S},{type:b.k$.Success,template:S},{type:b.k$.Warning,template:S},{type:b.k$.Error,template:S}]});const onHide=(e,t)=>{t&&this._notificationGroups.has(t)&&this._notificationGroups.delete(t)},showNotification=(e,r,i)=>{let n=kendo.widgetInstance(E()(t).call(t,"#pwNotification"));if(n){n.setOptions({autoHideAfter:15e3,hideOnClick:!0});let t={allowClose:!0,message:e,actionText:null,actionHandler:null,hide:e=>onHide(0,i)};switch(r){case b.k$.Info:t.title=this._$translate.instant("NOTIFICATIONS.INFO_TITLE");break;case b.k$.Success:t.title=this._$translate.instant("NOTIFICATIONS.SUCCESS_TITLE");break;case b.k$.Warning:t.title=this._$translate.instant("NOTIFICATIONS.WARNING_TITLE");break;case b.k$.WarningWithReload:n.setOptions({autoHideAfter:0,hideOnClick:!1}),t.allowClose=!1,t.title=this._$translate.instant("NOTIFICATIONS.WARNING_TITLE"),t.actionText=this._$translate.instant("BUTTONS.RELOAD"),t.actionHandler="reload",r=b.k$.Warning;break;case b.k$.Error:t.title=this._$translate.instant("NOTIFICATIONS.ERROR_TITLE");break;case b.k$.ErrorWithReload:n.setOptions({autoHideAfter:0,hideOnClick:!1}),t.allowClose=!1,t.title=this._$translate.instant("NOTIFICATIONS.ERROR_TITLE"),t.actionText=this._$translate.instant("BUTTONS.RELOAD"),t.actionHandler="reload",r=b.k$.Error;break;case b.k$.Progress:n.setOptions({autoHideAfter:0,hideOnClick:!1}),t.allowClose=!1,t.title=this._$translate.instant("NOTIFICATIONS.PROGRESS_TITLE"),r=b.k$.Info}return i&&(this._notificationGroups.has(i)&&this._notificationGroups.get(i).hide(),this._notificationGroups.set(i,n)),n.show(t,r),n}};e.actionHandlers={reload:()=>this._platformSrv.reloadAppAsync()};for(let e of this._notificationSrv.getNotificationQueue())showNotification(e.message,e.type,e.group);this._notificationSrv.addEventListener(showNotification),e.$on("$destroy",(()=>{this._notificationSrv.removeEventListener(showNotification)}))}}]}}))},21440:(e,t,r)=>{r.d(t,{j:()=>E});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let E=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class OnCreateDirective{constructor(t){e(this),this._$timeout=t,this.restrict="A",this.scope={pwOnCreate:"&"}}}return{F:OnCreateDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwOnCreate"}},{kind:"method",decorators:[(0,D.SG)(["$timeout"])],static:!0,key:"create",value:function create(e){return new OnCreateDirective(e)}},{kind:"method",key:"link",value:function link(e,t){this._$timeout((()=>null==e?void 0:e.pwOnCreate({$element:t})),0,!1)}}]}}))},76913:(e,t,r)=>{r.d(t,{M:()=>b});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(43293),E=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let b=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class OnVisibleDirective{constructor(){e(this),this.restrict="A",this.scope={pwOnVisible:"&"}}}return{F:OnVisibleDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwOnVisible"}},{kind:"method",decorators:[(0,E.SG)([])],static:!0,key:"create",value:function create(){return new OnVisibleDirective}},{kind:"method",key:"link",value:function link(e,t){const r=e.$watch((()=>(0,D.ZP)(t[0])),(t=>{t&&(r(),null==e||e.pwOnVisible())}))}}]}}))},73467:(e,t,r)=>{r.d(t,{t:()=>C});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(47033),b=r.n(E);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let C=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class OnboardingTipDirective{constructor(){e(this),this.templateUrl=b(),this.restrict="E",this.scope=!1}}return{F:OnboardingTipDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwOnboardingTip"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new OnboardingTipDirective}}]}}))},43139:(e,t,r)=>{r.d(t,{c:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(19755),E=r.n(D),b=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const C="pw-preview-image--loading";let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class PreviewImageDirective{constructor(){e(this),this.restrict="A"}}return{F:PreviewImageDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwPreviewImage"}},{kind:"method",decorators:[(0,b.SG)([])],static:!0,key:"create",value:function create(){return new PreviewImageDirective}},{kind:"method",key:"link",value:function link(e,t,r){let i=e.$eval(r[PreviewImageDirective.directiveName]);if(!i||!(0,b.zE)(i)||!(0,b.Or)(i))return;t.addClass(C);let n=new FileReader;n.onload=e=>{let r=E()(`<img class="pw-preview-image__img" src="${e.target.result}">`);r.on("load",(()=>t.removeClass(C))),t.prepend(r)},n.readAsDataURL(i)}}]}}))},34287:(e,t,r)=>{r.d(t,{g:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(26881),_=r(86981),w=r.n(_),D=r(29704),E=r(12442),b=r(82139),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,g.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=w()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class RecurrentSelectDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.P.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={recurrenceRule:"=recurrenceRule",startDate:"<",isAllDay:"<",isDisabled:"<?",delayRender:"<?",menuClass:"@menuClass"}}}return{F:RecurrentSelectDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwRecurrentSelect"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new RecurrentSelectDirective}},{kind:"method",key:"link",value:function link(e,t){w()(t).call(t,"md-menu-content").addClass(e.$ctrl.menuClass)}}]}}))},48712:(e,t,r)=>{r.d(t,{F:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(19755),E=r.n(D),b=r(69843),C=r(8937),S=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class ResizeListenerDirective{constructor(t){e(this),this._$window=t,this.restrict="A"}}return{F:ResizeListenerDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwResizeListener"}},{kind:"method",decorators:[(0,S.SG)(["$window"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new ResizeListenerDirective(...t)}},{kind:"method",key:"link",value:function link(e,t,r){const i=r[ResizeListenerDirective.directiveName];let n,o,s=E()(this._$window).width(),a=E()(this._$window).height();e.resizeSensor=new b.ResizeSensor(t,(()=>{let r=E()(this._$window).width(),l=E()(this._$window).height(),c=t.width(),d=t.height();if(r===s&&l===a){let r=c!==n,s=d!==o;(!i||"width"===i&&r||"height"===i&&s)&&e.$broadcast(C.FK.ResizeListenerElementResized,{targetElement:t,widthChanged:r,heightChanged:s})}else{let n=r!==s,o=l!==a;(!i||"width"===i&&n||"height"===i&&o)&&e.$broadcast(C.FK.ResizeListenerWindowResized,{targetElement:t,widthChanged:n,heightChanged:o})}s=r,a=l,n=t.width(),o=t.height()}))}}]}}))},36346:(e,t,r)=>{r.d(t,{f:()=>I});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(68052),E=r.n(D),b=r(35293),C=r.n(b),S=r(61539),P=r.n(S),T=r(19755),A=r.n(T),z=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let I=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class ResizerDirective{constructor(t,r){e(this),this._$window=t,this._$document=r,this.restrict="A",this.scope={resizableDirection:`@${ResizerDirective.directiveName}`,contentPosition:"@",resizerClass:"@",isDisabled:"<?",initialSize:"=",sizeMinString:"<sizeMin",forceSizeMin:"<",sizeMaxString:"<sizeMax",forceSizeMax:"<",onResize:"&?",onResizerSetup:"&?"}}}return{F:ResizerDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwResizer"}},{kind:"method",decorators:[(0,z.SG)(["$window","$document"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new ResizerDirective(...t)}},{kind:"method",key:"link",value:function link(e,t,r){if(e.isDisabled)return void t.hide();this._initAttributes(e,r);let i=A()('<div class="pw-resizer-preview"></div>'),n=A()('\n<div>\n    <div class="pw-resizer__line"></div>\n</div>\n'),o=["pw-resizer",`pw-resizer--${e.resizableDirection}`];e.resizerClass&&o.push(e.resizerClass);let s=o.join(" ");n.addClass(s),t.addClass(s),i.append(n),t.append('<div class="pw-resizer__line"></div>');let a=0,l=0,c=0,d=0;const u=A()(".pw-body-wrapper");let p;const onMouseMove=t=>{let r=0;switch(e.resizableDirection){case"horizontal":let i;i="right"===e.contentPosition?a-t.clientX:t.clientX-a;let o=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerWidth);i<o&&(r=o-i);let s,p=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerWidth);i>p&&(r=p-i),s="right"===e.contentPosition?t.clientX-c-r:t.clientX-c+r,n.css({left:s});break;case"vertical":let h;h="bottom"===e.contentPosition?t.clientY-l+u.scrollTop():t.clientY-l;let f=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerHeight);h<f&&(r=f-h);let m=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerHeight);h>m&&(r=m-h),n.css({top:t.clientY-d+r})}t.buttons%2==0&&p(t)};p=t=>{var r,n;switch(i.detach(),e.resizableDirection){case"horizontal":let i;i="right"===e.contentPosition?a-t.clientX:t.clientX-a;let o=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerWidth);i<o&&(i=o);let s=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerWidth);i>s&&(i=s);let c=e.resizableContent.width();e.initialSize=i,e.resizableContent.css({width:i}),null===(r=e.onResize)||void 0===r||r.call(e,{oldSize:c,newSize:i});break;case"vertical":let d;d="bottom"===e.contentPosition?t.clientY-l+u.scrollTop():t.clientY-l;let p=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerHeight);d<p&&(d=p);let h=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerHeight);d>h&&(d=h);let f=e.resizableContent.height();e.initialSize=d,e.resizableContent.css({height:d,minHeight:d}),null===(n=e.onResize)||void 0===n||n.call(e,{oldSize:f,newSize:d})}this._$document.off("mousemove pwMouseMove",onMouseMove),this._$document.off("mouseup pwMouseUp",p)},t.on("mousedown pwMouseDown",(o=>{if(0!==o.button)return;o.preventDefault(),e.resizableContent=A()(r.resizableContent),n.removeAttr("style");let s=t.offset();switch(e.resizableDirection){case"horizontal":a="right"===e.contentPosition?o.clientX+e.resizableContent.width():o.clientX-e.resizableContent.width(),n.css({height:t.height(),top:s.top,left:s.left}),c=o.clientX-s.left;break;case"vertical":l="bottom"===e.contentPosition?o.offsetY:o.clientY-e.resizableContent.height(),n.css({width:t.width(),top:s.top,left:s.left}),d=o.clientY-s.top}A()("body").append(i),this._$document.on("mousemove pwMouseMove",onMouseMove),this._$document.on("mouseup pwMouseUp",p)})),e.$on("$destroy",(()=>{switch(e.resizableDirection){case"horizontal":A()(r.resizableContent).css({width:""});break;case"vertical":A()(r.resizableContent).css({minHeight:"",height:""})}}))}},{kind:"method",key:"_initAttributes",value:function _initAttributes(e,t){e.$watch((()=>e.sizeMinString),(r=>{if(r){let n=E()(r);if(!C()(n))if(e.sizeMin=n,e.sizeMinIsPercent=P()(r).call(r,"%"),e.sizeMinIsPercent&&(e.sizeMin/=100),e.forceSizeMin){let r=A()(t.resizableContent),n={isByLimit:"min"};switch(e.resizableDirection){case"horizontal":n.oldSize=r.width(),n.newSize=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerWidth),n.oldSize<n.newSize&&r.css({width:n.newSize,minWidth:n.newSize});break;case"vertical":if(n.oldSize=r.height(),n.newSize=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerHeight),n.oldSize<n.newSize&&r.css({height:n.newSize,minHeight:n.newSize}),!e.oldSizeMin){const e=A()(".pw-body-wrapper");requestAnimationFrame((()=>e.scrollTop(-e[0].scrollHeight)))}}var i;if(n.oldSize<n.newSize)null===(i=e.onResize)||void 0===i||i.call(e,n);e.oldSizeMin=e.sizeMin}else e.oldSizeMin=null}else e.sizeMin=void 0,e.sizeMinIsPercent=void 0})),e.$watch((()=>e.sizeMaxString),(r=>{if(r){let o=E()(r);var i;if(!C()(o))if(e.sizeMax=o,e.sizeMaxIsPercent=P()(i=t.sizeMax).call(i,"%"),e.sizeMaxIsPercent&&(e.sizeMax/=100),e.forceSizeMax){let r=A()(t.resizableContent),i={isByLimit:"max"};switch(e.resizableDirection){case"horizontal":i.oldSize=r.width(),i.newSize=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerWidth),i.oldSize>i.newSize&&r.css({width:i.newSize,minWidth:i.newSize});break;case"vertical":i.oldSize=r.height(),i.newSize=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerHeight),i.oldSize>i.newSize&&r.css({height:i.newSize,minHeight:i.newSize})}var n;if(i.oldSize>i.newSize)null===(n=e.onResize)||void 0===n||n.call(e,i)}}else e.sizeMax=void 0,e.sizeMaxIsPercent=void 0})),e.$watch((()=>e.initialSize),(()=>this._updateInitialSize(e,t)))}},{kind:"method",key:"_updateInitialSize",value:function _updateInitialSize(e,t){let r,i;var n,o;e.initialSize&&("string"==typeof e.initialSize?(i=E()(e.initialSize),P()(n=e.initialSize).call(n,"%")?(i/=100,r=!0):r=!1):(i=e.initialSize,r=!1));switch(i||(i=e.sizeMin,r=e.sizeMinIsPercent),e.resizableDirection){case"horizontal":r&&(i=this._$window.innerWidth*i);let n=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerWidth);i<n&&(i=n);let o=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerWidth);i>o&&(i=o),A()(t.resizableContent).css({width:i});break;case"vertical":r&&(i=this._$window.innerHeight*i);let s=this._calcBoundedSize(e.sizeMin,e.sizeMinIsPercent,this._$window.innerHeight);i<s&&(i=s);let a=this._calcBoundedSize(e.sizeMax,e.sizeMaxIsPercent,this._$window.innerHeight);i>a&&(i=a),A()(t.resizableContent).css({height:i,minHeight:i})}(e.initialSize=i,e._isResizerSetup)||(e._isResizerSetup=!0,null===(o=e.onResizerSetup)||void 0===o||o.call(e))}},{kind:"method",key:"_calcBoundedSize",value:function _calcBoundedSize(e,t,r){return t?r*e:e<0?r+e:e}}]}}))},68140:(e,t,r)=>{r.d(t,{U:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(60610),b=r(14113),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class ResourcesMenuDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.V.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:ResourcesMenuDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwResourcesMenu"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new ResourcesMenuDirective}}]}}))},79662:(e,t,r)=>{r.d(t,{E:()=>b});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const E=1e3;let b=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class RippleDirective{constructor(){e(this),this.restrict="A"}}return{F:RippleDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwRipple"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new RippleDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){t.on("click",(e=>{if(e.target.closest("[pw-ripple-activator]")){let r,i,n=e.pageX-t.offset().left,o=e.pageY-t.offset().top,animationStep=e=>{i||(i=e);let s=e-i;if(s<E){let e=s/E*(2-s/E),i=`circle at ${n}px ${o}px`,a=`rgba(0, 0, 0, ${.1*(1-e)})`,l=90*e+"%";t.css({"background-image":`radial-gradient(${i}, ${a} ${l}, transparent ${l})`}),r=requestAnimationFrame(animationStep)}else t.css({"background-image":""}),cancelAnimationFrame(r)};r=requestAnimationFrame(animationStep)}}))}}]}}))},55314:(e,t,r)=>{r.d(t,{F:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(2682),b=r(12406),C=r.n(b),S=r(8937);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class RootDirective{constructor(t){e(this),this._appCommonSrv=t,this.templateUrl=C(),this.restrict="E",this.controller=E.$.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:RootDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwRoot"}},{kind:"method",decorators:[(0,D.SG)(["appCommonSrv"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new RootDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){const onWidthChanged=()=>e.$evalAsync((()=>this._appCommonSrv.setMiniLayout(t.width()<830)));onWidthChanged();for(let r of[S.FK.ResizeListenerWindowResized,S.FK.ResizeListenerElementResized])e.$on(r,((e,r)=>{r.targetElement===t&&r.widthChanged&&onWidthChanged()}))}}]}}))},664:(e,t,r)=>{r.d(t,{l:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(7191),b=r(24181),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class ScalesMenuDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.b.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:ScalesMenuDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwScalesMenu"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new ScalesMenuDirective}}]}}))},67605:(e,t,r)=>{r.d(t,{t:()=>V});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(62079),_=r.n(g),w=r(52020),D=r.n(w),E=r(73324),b=r.n(E),C=r(88546),S=r.n(C),P=r(66775),T=r.n(P),A=r(2201),z=r.n(A),I=r(26171),x=r(26881),R=r(86981),$=r.n(R),F=r(91829),N=r.n(F),M=r(19755),O=r.n(M),L=(r(82617),r(56777)),W=r(8937),K=r(20115),B=r(29704),G=r(61629),H=r(86542),j=r(9688),U=r.n(j);function ownKeys(e,t){var r=_()(e);if(D()){var i=D()(e);t&&(i=b()(i).call(i,(function(t){return S()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?l()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,I.Z)(e,t,n[t])})):T()?z()(e,T()(n)):l()(i=ownKeys(Object(n))).call(i,(function(t){d()(e,t,S()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,x.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let V=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=$()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class SchedulerDirective{constructor(t,r,i,n,o,s,a,l){e(this),this._$rootScope=t,this._$window=r,this._$timeout=i,this._appCommonSrv=n,this._htmlHelperSrv=o,this._platformSrv=s,this._settingsSrv=a,this._collectionSrv=l,this.templateUrl=U(),this.restrict="E",this.controller=G.v.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:SchedulerDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwScheduler"}},{kind:"method",decorators:[(0,B.SG)(["$rootScope","$window","$timeout","appCommonSrv","htmlHelperSrv","platformSrv","settingsSrv","collectionSrv"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new SchedulerDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){const r=$()(t).call(t,".pw-js-scheduler");r.kendoScheduler(_objectSpread({autoBind:!1,group:{resources:[],orientation:"vertical"},footer:!1,selectable:!0,editable:{confirmation:!1,create:!1,update:!1,move:!0,resize:!0,destroy:!0},edit:e=>e.preventDefault(),templateSettings:{useWithBlock:!1}},e.$ctrl.schedulerOptions)),this._appCommonSrv.setSchedulerWidget(kendo.widgetInstance(r));const initializeSchedulerWidget=()=>{e.$ctrl.applySchedulerSettings(),e.$ctrl.scrollView(),this._createDropTargetArea(e,t),this._createClickArea(e,t),this._schedulerWidget.refresh()};this._appCommonSrv.isPlanywayShown()?initializeSchedulerWidget():this._$rootScope.$once(W.FK.PlanywayShown,(()=>{initializeSchedulerWidget()}));const onWidthChanged=()=>e.$ctrl.setSchedulerWidthCompact(t.width()<773);onWidthChanged();for(let r of[W.FK.ResizeListenerWindowResized,W.FK.ResizeListenerElementResized])e.$on(r,((e,r)=>{if(r.targetElement!==t)return;if(!this._appCommonSrv.isPlanywayShown())return;let i=this._appCommonSrv.getExpandedLayoutPanel();i&&i!==W.sF.Scheduler||(r.widthChanged&&onWidthChanged(),this._schedulerWidget&&this._schedulerWidget.view().resize({widthChanged:r.widthChanged,heightChanged:r.heightChanged}))}));e.$watch((()=>this._appCommonSrv.getExpandedLayoutPanel()),((e,t)=>{t&&t!==W.sF.Scheduler&&(onWidthChanged(),this._schedulerWidget&&this._schedulerWidget.view().resize({widthChanged:!0,heightChanged:!0}))})),t.on("mousedown",".k-event",(e=>{if(e.ctrlKey||e.shiftKey||e.metaKey)return;let t=O()(e.target);t.closest(".k-event")[0]&&t.hasClass("pw-js-card-complete-button")&&this._schedulerWidget.select(null)})),t.on("click pwClick",".k-event",(t=>{if(t.ctrlKey||t.shiftKey||t.metaKey)return;let r=O()(t.target),i=r.closest(".k-event");if(!i[0])return;let n=i.data("uid"),o=this._schedulerWidget.occurrenceByUid(n);if(o&&!o.isTempCard)switch(t.type){case"click":case"pwClick":if("click"===t.type&&this._schedulerView===W.rW.Timeline)return;if(t.originalEvent.detail>1)return;r.hasClass("pw-js-card-edit-button")?(this._logCardEvent(o,{event:W.cN.CardEvents.ContextMenuOpened,data:{by:W.AH.MenuButton}}),e.$ctrl.providerCardContextMenus[o.providerType].open(t,o)):r.hasClass("pw-js-card-complete-button")?(this._schedulerWidget.select(null),e.$ctrl.toggleCardIsCompletedByIcon(o)):(this._schedulerWidget.select(null),this._schedulerWidget.select([n]),e.$ctrl.showEditCardDialogAsync(o,i))}}));let i,n=!1;t.on("contextmenu",".k-event",(t=>{let r=O()(t.target).closest(".k-event");r[0]&&(t.preventDefault(),n||(n=!0,this._$timeout((()=>n=!1),250,!1),e.$ctrl.openContextMenu(r.data("uid"),t)))})),t.on("mousemove pwMouseMove",".k-event",(e=>{var t,r,n;null===(t=i)||void 0===t||t.removeClass("k-event--resize-hovered"),i=null!==(r=N()(n=e.target.className))&&void 0!==r&&r.call(n,"k-resize-handle")?O()(e.currentTarget).addClass("k-event--resize-hovered"):null}));const onKeyDown=r=>{var i;if(r.which!==W.VD.Escape){if(r.ctrlKey&&!r.metaKey||r.metaKey){let e=$()(t).call(t,".timeline-timeline");e&&e.addClass("pw--timeline-grab")}}else null===(i=e.cancelCreateCard)||void 0===i||i.call(e)},onKeyUp=()=>{let e=$()(t).call(t,".timeline-timeline");e&&e.removeClass("pw--timeline-grab")};this._$window.addEventListener("keydown",onKeyDown),this._$window.addEventListener("keyup",onKeyUp),e.$on("$destroy",(()=>{this._$window.removeEventListener("keydown",onKeyDown),this._$window.removeEventListener("keyup",onKeyUp)}))}},{kind:"get",key:"_collectionSettings",value:function _collectionSettings(){return this._settingsSrv.collection}},{kind:"get",key:"_schedulerWidget",value:function _schedulerWidget(){return this._appCommonSrv.getSchedulerWidget()}},{kind:"method",key:"_createDropTargetArea",value:function _createDropTargetArea(e){const t=O()("body"),r=[".k-scheduler-table td",".timeline-timeline .timeline-itemset .timeline-foreground .timeline-group"].join(", ");let i,n;const mouseMoveHandler=e=>{let t=this._schedulerWidget.view();if(!t)return;let r=t.getSlotByEvent(e);r.isDaySlot||(r.endDate=(0,B.mH)(r.startDate,(0,B.CX)(n.firstSlot.startDate,n.lastSlot.endDate))),t.updateRangeHighlight(r,r,n),n.firstSlot=r,n.lastSlot=r};let o=null;const retargetMouseMove=e=>{this._schedulerView===W.rW.Timeline&&(o&&o.off("mousemove",mouseMoveHandler),e&&e.on("mousemove",mouseMoveHandler),o=e)},removeRangeHighlight=()=>{let e=this._schedulerWidget.view();e&&(e.removeRangeHighlight(),retargetMouseMove(null))};let s,a;const onDragEnter=async t=>{if(this._collectionSrv.isCurrentCollectionReadOnly)return void(n=null);if(s=t,a=e.$ctrl.getCardCreateOptionsAsync(t,t.draggable.currentTarget),n=await a,!n)return;if(t!==s)return;let r=this._schedulerWidget.view();r&&(r.updateRangeHighlight(n.firstSlot,n.lastSlot,n),retargetMouseMove(n.startSlot.element))},onDragOver=e=>{0!==O()(e.currentTarget).has(r).length&&i&&(e.draggable={currentTarget:i},e.preventDefault(),onDragEnter(e))},onDragLeave=async()=>{a&&await a,n&&(n=null,removeRangeHighlight())},onDragEnd=()=>{i&&(i=null),t.removeClass(H.g),removeRangeHighlight()},onDrop=async t=>{if(a&&await a,n){if(this._platformSrv.fireKeydownEvent("Escape"),t.preventDefault(),removeRangeHighlight(),n){let r=this._getNewCardObject(t,n);r&&e.$ctrl.createCardByDropAsync(r)}n=null}};for(let e of[W.FK.CardDragEnded,W.FK.CheckListItemDragEnded])this._$rootScope.$on(e,(()=>{removeRangeHighlight()}));this._schedulerWidget.element.kendoDropTargetArea({filter:r,group:K.dl,dragenter:onDragEnter,dragleave:onDragLeave,drop:onDrop}),t.on("dragstart",(e=>{let r=O()(e.target.querySelector("[data-card-id]"));r&&(i=r,t.addClass(H.g))})).on("dragend",onDragEnd).on("drop",onDragEnd),this._schedulerWidget.element.on("dragenter",onDragOver).on("dragover",onDragOver).on("dragleave",onDragLeave).on("pwDrop",onDrop)}},{kind:"method",key:"_createClickArea",value:function _createClickArea(e,t){const r=O()("body"),i=$()(t).call(t,".pw-js-scheduler");this._htmlHelperSrv.elementAdded(i,".k-scheduler-layout",(()=>{let n,o;const updateRangeHighlight=e=>{let t=this._schedulerWidget.view(),r=t.getSlotByEvent(e);r&&r.isDaySlot===o.isDaySlot&&(this._schedulerMode===W.ud.TimeTracking&&r.isDaySlot&&(o=r),this._schedulerView===W.rW.Timeline?(r.element[0]!==o.element[0]&&(r=_objectSpread(_objectSpread({},o),{},{startDate:r.startDate,endDate:r.endDate})),t.getResourceIdByCell(o.element)===K.iF&&(o=r)):o.isDaySlot||(0,B.KC)(o.startDate,r.startDate)||(r.startDate=(0,B.q_)(o.startDate,r.startDate),r.endDate=(0,B.q_)(o.endDate,r.endDate)),this._schedulerWidget.view().updateCreateCardPreview(o,r,n),o.startDate<r.startDate?(n.firstSlot=o,n.lastSlot=r):(n.firstSlot=r,n.lastSlot=o))},removeCreateCardPreview=()=>{this._schedulerWidget.view().removeCreateCardPreview()};let s,a,l,c;const onMouseDown=async i=>{switch(i.button){case 0:break;case 1:let e=$()(t).call(t,".timeline-timeline");return void(e&&e.addClass("pw--timeline-grab"));default:return}if(this._schedulerView===W.rW.Timeline&&(i.ctrlKey||i.metaKey))return;if(this._schedulerWidget.isEventsSelected()||$()(r).call(r,"> .md-open-menu-container.md-active")[0])return;let d=$()(r).call(r,"> .md-panel-outer-wrapper.md-panel-is-showing");(!d[0]||d.children("md-tooltip")[0]||$()(d).call(d,"pw-js-overlay-panel"))&&($()(r).call(r,".pwMenuList")[0]||(s=i,a=e.$ctrl.getCardCreateOptionsAsync(i),n=await a,n&&i===s&&(l=O()(i.target).closest(".pw-js-create-card-hint")[0]?"hint":"click",r.addClass("pw--creating-calendar-card"),o=n.startSlot,c={x:i.clientX,y:i.clientY})))},onMouseMove=async e=>{a&&await a,n&&((Math.abs(e.clientX-c.x)>5||Math.abs(e.clientY-c.y)>5)&&(l="stretching"),"stretching"===l&&updateRangeHighlight(e))},onMouseUp=async i=>{var o,s;let c=$()(t).call(t,".pw--timeline-grab");if(c&&c.removeClass("pw--timeline-grab"),a&&await a,!n)return;removeCreateCardPreview(),null===(o=(s=this._schedulerWidget.view()).disableCreateCardHint)||void 0===o||o.call(s);let d=this._getNewCardObject(i,n);d&&e.$ctrl.createCardByClickAsync(d,l),n=null,r.removeClass("pw--creating-calendar-card")},cancelCreateCard=async()=>{r.removeClass("pw--creating-calendar-card"),a&&await a,n&&(n=null,removeCreateCardPreview())};let d;if(e.cancelCreateCard=cancelCreateCard,this._schedulerView===W.rW.Timeline)d=$()(i).call(i,".timeline-foreground .timeline-group"),d.off("pwMouseUp.pwEvent, pwMouseDown.pwEvent"),d.on("pwMouseUp.pwEvent",onMouseUp),d.on("pwMouseDown.pwEvent",onMouseDown),d.on("pwMouseMove.pwEvent",onMouseMove),this._schedulerWidget.view().addEventListener("rangechange",cancelCreateCard),this._schedulerWidget.view().addEventListener("pwMouseLeave",cancelCreateCard);else d=$()(i).call(i,".k-scheduler-table.pw-selectable-items-container"),d.off("mousedown mouseup mousemove mouseleave"),d.on("mousedown",onMouseDown),d.on("mouseup",onMouseUp),d.on("mousemove",onMouseMove),d.on("mouseleave",cancelCreateCard)}))}},{kind:"method",key:"_getNewCardObject",value:function _getNewCardObject(e,t){let r=t.lastSlot;if(!r)return;let i={id:t.id,providerType:t.providerType,accountId:t.accountId,cardType:t.cardType,cardRole:t.cardRole,start:t.firstSlot.startDate};switch(this._schedulerView){case W.rW.OneDay:case W.rW.ThreeDay:case W.rW.Week:i.isAllDay=r.isDaySlot,i.end=r.isDaySlot?(0,B.E4)((0,B.$Y)(r.endDate),-1):r.endDate<r.startDate?(0,B.E4)(r.endDate,1):r.endDate;break;case W.rW.Month:i.isAllDay=!0,i.end=(0,B.E4)((0,B.$Y)(r.endDate),-1);break;case W.rW.Timeline:i.isAllDay=r.isDaySlot,i.end=r.isDaySlot?(0,B.$Y)(r.endDate):r.endDate}let n=(0,L.VH)(t.providerType);return i.providerCard=n.getNewCardObjectProviderCard(t,this._schedulerWidget),i}},{kind:"get",key:"_schedulerMode",value:function _schedulerMode(){return this._appCommonSrv.getSchedulerMode()}},{kind:"get",key:"_schedulerView",value:function _schedulerView(){return this._appCommonSrv.getSchedulerView()}},{kind:"method",key:"_logCardEvent",value:function _logCardEvent(e,t){(0,L.VH)(e.providerType).logCardEvent(e,t.event,_objectSpread({where:W.a6.Scheduler,by:W.AH.Mouse},t.data))}}]}}))},36692:(e,t,r)=>{r.d(t,{F:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(8937),E=r(29704),b=r(41963),C=r(1662),S=r.n(C);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class SchedulerReportsDirective{constructor(){e(this),this.templateUrl=S(),this.restrict="E",this.controller=b.x.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:SchedulerReportsDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwSchedulerReports"}},{kind:"method",decorators:[(0,E.SG)([])],static:!0,key:"create",value:function create(){return new SchedulerReportsDirective}},{kind:"method",key:"link",value:function link(e){e.$on(D.FK.ResizeListenerElementResized,(()=>{e.$broadcast(D.FK.AutosizeControlsResizeRequested)}))}}]}}))},20276:(e,t,r)=>{r.d(t,{l:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(8937),E=r(29704),b=r(6707),C=r(15165),S=r.n(C);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class SchedulerTimesheetDirective{constructor(t){e(this),this._appCommonSrv=t,this.templateUrl=S(),this.restrict="E",this.controller=b.X.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:SchedulerTimesheetDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwSchedulerTimesheet"}},{kind:"method",decorators:[(0,E.SG)(["appCommonSrv"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new SchedulerTimesheetDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){const onHeightChanged=()=>e.$ctrl.setSchedulerHeightCompact(t.height()<300);onHeightChanged();for(let t of[D.FK.ResizeListenerWindowResized,D.FK.ResizeListenerElementResized])e.$on(t,((t,r)=>{if(e.$broadcast(D.FK.AutosizeControlsResizeRequested),!this._appCommonSrv.isPlanywayShown())return;let i=this._appCommonSrv.getExpandedLayoutPanel();i&&i!==D.sF.Scheduler||r.heightChanged&&onHeightChanged()}));e.$watch((()=>this._appCommonSrv.getExpandedLayoutPanel()),((e,t)=>{t&&t!==D.sF.Scheduler&&onHeightChanged()}))}}]}}))},75622:(e,t,r)=>{r.d(t,{E:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(59837),b=r(84481),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class SchedulerToolbarDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.f.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:SchedulerToolbarDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwSchedulerToolbar"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new SchedulerToolbarDirective}}]}}))},85991:(e,t,r)=>{r.d(t,{V:()=>G});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(62079),D=r.n(w),E=r(52020),b=r.n(E),C=r(73324),S=r.n(C),P=r(88546),T=r.n(P),A=r(66775),z=r.n(A),I=r(2201),x=r.n(I),R=r(26171),$=r(26881),F=r(9938),N=r.n(F),M=r(19755),O=r.n(M),L=r(40405),W=r.n(L),K=r(29704);function ownKeys(e,t){var r=D()(e);if(b()){var i=b()(e);t&&(i=S()(i).call(i,(function(t){return T()(e,t).enumerable}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r,i,n=null!=arguments[t]?arguments[t]:{};t%2?l()(r=ownKeys(Object(n),!0)).call(r,(function(t){(0,R.Z)(e,t,n[t])})):z()?x()(e,z()(n)):l()(i=ownKeys(Object(n))).call(i,(function(t){d()(e,t,T()(n,t))}))}return e}function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,$.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}const B={position:"absolute",left:0,width:"100%",height:"12px",background:"transparent","pointer-events":"none",opacity:0,transition:"opacity 0.05s"};let G=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class ScrollShadowsDirective{constructor(t){e(this),this._$window=t,this.restrict="A"}}return{F:ScrollShadowsDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwScrollShadows"}},{kind:"method",decorators:[(0,K.SG)(["$window"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new ScrollShadowsDirective(...t)}},{kind:"method",key:"link",value:function link(e,t,r){let i=t.css("background-color"),n=O()("<div></div>",{css:_objectSpread(_objectSpread({},B),{},{top:0,"box-shadow":`inset 0 12px 6px -6px ${i}`})}).appendTo(t),o=O()("<div></div>",{css:_objectSpread(_objectSpread({},B),{},{bottom:0,"box-shadow":`inset 0 -12px 6px -6px ${i}`})}).appendTo(t),s=O()(`.${r.scrollableContentClass}`)[0],a=W()((()=>this.updateOverlayVisibility(s,n,o)),0);s.addEventListener("scroll",a),this._$window.addEventListener("resize",a),e.$on("$destroy",(()=>{s.removeEventListener("scroll",a,!0),this._$window.removeEventListener("resize",a,!0)})),N()((()=>this.updateOverlayVisibility(s,n,o)))}},{kind:"method",key:"updateOverlayVisibility",value:function updateOverlayVisibility(e,t,r){let i=e.scrollHeight>e.clientHeight&&e.scrollTop>0,n=e.scrollHeight>e.clientHeight&&e.scrollHeight-e.scrollTop!==e.clientHeight;t.css("opacity",i?1:0),r.css("opacity",n?1:0)}}]}}))},37400:(e,t,r)=>{r.d(t,{z:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(88602),b=r(53108),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class ShowButtonOnboardingDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.H.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:ShowButtonOnboardingDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwShowButtonOnboarding"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new ShowButtonOnboardingDirective}}]}}))},37289:(e,t,r)=>{r.d(t,{m:()=>S});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(49896),b=r(97820),C=r.n(b);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let S=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class UserAvatarDirective{constructor(){e(this),this.templateUrl=C(),this.restrict="E",this.controller=E.z.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={shape:"<?",name:"<",avatarUrl:"<?",tooltipText:"<?",tooltipDirection:"<?",useOverlay:"<?"}}}return{F:UserAvatarDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwUserAvatar"}},{kind:"method",decorators:[(0,D.SG)([])],static:!0,key:"create",value:function create(){return new UserAvatarDirective}}]}}))},72369:(e,t,r)=>{r.d(t,{M:()=>P});var i=r(40024),n=r.n(i),o=r(88946),s=r.n(o),a=r(99595),l=r.n(a),c=r(57445),d=r.n(c),u=r(51791),p=r.n(u),h=r(90143),f=r.n(h),m=r(56626),v=r.n(m),y=r(67552),k=r.n(y),g=r(86981),_=r.n(g),w=r(26881),D=r(29704),E=r(8937),b=r(87523),C=r(86831),S=r.n(C);function _getDecoratorsApi(){_getDecoratorsApi=function(){return e};var e={elementsDefinitionOrder:[["method"],["field"]],initializeInstanceElements:function(e,t){var r;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){t.kind===r&&"own"===t.placement&&this.defineClassElement(e,t)}),this)}),this)},initializeClassElements:function(e,t){var r,i=e.prototype;l()(r=["method","field"]).call(r,(function(r){l()(t).call(t,(function(t){var n=t.placement;if(t.kind===r&&("static"===n||"prototype"===n)){var o="static"===n?e:i;this.defineClassElement(o,t)}}),this)}),this)},defineClassElement:function(e,t){var r=t.descriptor;if("field"===t.kind){var i=t.initializer;r={enumerable:r.enumerable,writable:r.writable,configurable:r.configurable,value:void 0===i?void 0:i.call(e)}}d()(e,t.key,r)},decorateClass:function(e,t){var r=[],i=[],n={static:[],prototype:[],own:[]};if(l()(e).call(e,(function(e){this.addElementPlacement(e,n)}),this),l()(e).call(e,(function(e){if(!_hasDecorators(e))return r.push(e);var t=this.decorateElement(e,n);r.push(t.element),r.push.apply(r,t.extras),i.push.apply(i,t.finishers)}),this),!t)return{elements:r,finishers:i};var o=this.decorateConstructor(r,t);return i.push.apply(i,o.finishers),o.finishers=i,o},addElementPlacement:function(e,t,r){var i=t[e.placement];if(!r&&-1!==p()(i).call(i,e.key))throw new TypeError("Duplicated element ("+e.key+")");i.push(e.key)},decorateElement:function(e,t){for(var r=[],i=[],n=e.decorators,o=n.length-1;o>=0;o--){var s=t[e.placement];f()(s).call(s,p()(s).call(s,e.key),1);var a=this.fromElementDescriptor(e),l=this.toElementFinisherExtras((0,n[o])(a)||a);e=l.element,this.addElementPlacement(e,t),l.finisher&&i.push(l.finisher);var c=l.extras;if(c){for(var d=0;d<c.length;d++)this.addElementPlacement(c[d],t);r.push.apply(r,c)}}return{element:e,finishers:i,extras:r}},decorateConstructor:function(e,t){for(var r=[],i=t.length-1;i>=0;i--){var n=this.fromClassDescriptor(e),o=this.toClassDescriptor((0,t[i])(n)||n);if(void 0!==o.finisher&&r.push(o.finisher),void 0!==o.elements){e=o.elements;for(var s=0;s<e.length-1;s++)for(var a=s+1;a<e.length;a++)if(e[s].key===e[a].key&&e[s].placement===e[a].placement)throw new TypeError("Duplicated element ("+e[s].key+")")}}return{elements:e,finishers:r}},fromElementDescriptor:function(e){var t={kind:e.kind,key:e.key,placement:e.placement,descriptor:e.descriptor};return d()(t,v(),{value:"Descriptor",configurable:!0}),"field"===e.kind&&(t.initializer=e.initializer),t},toElementDescriptors:function(e){var t;if(void 0!==e)return s()(t=(0,w.Z)(e)).call(t,(function(e){var t=this.toElementDescriptor(e);return this.disallowProperty(e,"finisher","An element descriptor"),this.disallowProperty(e,"extras","An element descriptor"),t}),this)},toElementDescriptor:function(e){var t=String(e.kind);if("method"!==t&&"field"!==t)throw new TypeError('An element descriptor\'s .kind property must be either "method" or "field", but a decorator created an element descriptor with .kind "'+t+'"');var r=_toPropertyKey(e.key),i=String(e.placement);if("static"!==i&&"prototype"!==i&&"own"!==i)throw new TypeError('An element descriptor\'s .placement property must be one of "static", "prototype" or "own", but a decorator created an element descriptor with .placement "'+i+'"');var n=e.descriptor;this.disallowProperty(e,"elements","An element descriptor");var o={kind:t,key:r,placement:i,descriptor:k()({},n)};return"field"!==t?this.disallowProperty(e,"initializer","A method descriptor"):(this.disallowProperty(n,"get","The property descriptor of a field descriptor"),this.disallowProperty(n,"set","The property descriptor of a field descriptor"),this.disallowProperty(n,"value","The property descriptor of a field descriptor"),o.initializer=e.initializer),o},toElementFinisherExtras:function(e){return{element:this.toElementDescriptor(e),finisher:_optionalCallableProperty(e,"finisher"),extras:this.toElementDescriptors(e.extras)}},fromClassDescriptor:function(e){var t={kind:"class",elements:s()(e).call(e,this.fromElementDescriptor,this)};return d()(t,v(),{value:"Descriptor",configurable:!0}),t},toClassDescriptor:function(e){var t=String(e.kind);if("class"!==t)throw new TypeError('A class descriptor\'s .kind property must be "class", but a decorator created a class descriptor with .kind "'+t+'"');this.disallowProperty(e,"key","A class descriptor"),this.disallowProperty(e,"placement","A class descriptor"),this.disallowProperty(e,"descriptor","A class descriptor"),this.disallowProperty(e,"initializer","A class descriptor"),this.disallowProperty(e,"extras","A class descriptor");var r=_optionalCallableProperty(e,"finisher");return{elements:this.toElementDescriptors(e.elements),finisher:r}},runClassFinishers:function(e,t){for(var r=0;r<t.length;r++){var i=(0,t[r])(e);if(void 0!==i){if("function"!=typeof i)throw new TypeError("Finishers must return a constructor.");e=i}}return e},disallowProperty:function(e,t,r){if(void 0!==e[t])throw new TypeError(r+" can't have a ."+t+" property.")}};return e}function _createElementDescriptor(e){var t,r=_toPropertyKey(e.key);"method"===e.kind?t={value:e.value,writable:!0,configurable:!0,enumerable:!1}:"get"===e.kind?t={get:e.value,configurable:!0,enumerable:!1}:"set"===e.kind?t={set:e.value,configurable:!0,enumerable:!1}:"field"===e.kind&&(t={configurable:!0,writable:!0,enumerable:!0});var i={kind:"field"===e.kind?"field":"method",key:r,placement:e.static?"static":"field"===e.kind?"own":"prototype",descriptor:t};return e.decorators&&(i.decorators=e.decorators),"field"===e.kind&&(i.initializer=e.value),i}function _coalesceGetterSetter(e,t){void 0!==e.descriptor.get?t.descriptor.get=e.descriptor.get:t.descriptor.set=e.descriptor.set}function _hasDecorators(e){return e.decorators&&e.decorators.length}function _isDataDescriptor(e){return void 0!==e&&!(void 0===e.value&&void 0===e.writable)}function _optionalCallableProperty(e,t){var r=e[t];if(void 0!==r&&"function"!=typeof r)throw new TypeError("Expected '"+t+"' to be a function");return r}function _toPropertyKey(e){var t=function _toPrimitive(e,t){if("object"!=typeof e||null===e)return e;var r=e[n()];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}let P=function _decorate(e,t,r,i){var n,o=_getDecoratorsApi();if(i)for(var a=0;a<i.length;a++)o=i[a](o);var l=t((function initialize(e){o.initializeInstanceElements(e,c.elements)}),r),c=o.decorateClass(function _coalesceClassElements(e){for(var t=[],isSameElement=function(e){return"method"===e.kind&&e.key===n.key&&e.placement===n.placement},r=0;r<e.length;r++){var i,n=e[r];if("method"===n.kind&&(i=_()(t).call(t,isSameElement)))if(_isDataDescriptor(n.descriptor)||_isDataDescriptor(i.descriptor)){if(_hasDecorators(n)||_hasDecorators(i))throw new ReferenceError("Duplicated methods ("+n.key+") can't be decorated.");i.descriptor=n.descriptor}else{if(_hasDecorators(n)){if(_hasDecorators(i))throw new ReferenceError("Decorators can't be placed on different accessors with for the same property ("+n.key+").");i.decorators=n.decorators}_coalesceGetterSetter(n,i)}else t.push(n)}return t}(s()(n=l.d).call(n,_createElementDescriptor)),e);return o.initializeClassElements(l.F,c.elements),o.runClassFinishers(l.F,c.finishers)}(null,(function(e){class WorkPanelDirective{constructor(t,r){e(this),this._$rootScope=t,this._appCommonSrv=r,this.templateUrl=S(),this.restrict="E",this.controller=b.C.controllerName,this.controllerAs="$ctrl",this.scope={},this.bindToController={}}}return{F:WorkPanelDirective,d:[{kind:"get",static:!0,key:"directiveName",value:function directiveName(){return"pwWorkPanel"}},{kind:"method",decorators:[(0,D.SG)(["$rootScope","appCommonSrv"])],static:!0,key:"create",value:function create(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new WorkPanelDirective(...t)}},{kind:"method",key:"link",value:function link(e,t){const onWidthChanged=()=>e.$ctrl.setWorkPanelWidthCompact(t.width()<700),onHeightChanged=()=>e.$ctrl.setWorkPanelHeightCompact(t.height()<512);onWidthChanged(),onHeightChanged();for(let r of[E.FK.ResizeListenerWindowResized,E.FK.ResizeListenerElementResized])e.$on(r,((e,r)=>{if(r.targetElement===t&&this._appCommonSrv.isPlanywayShown()){if(this._appCommonSrv.getSchedulerMode()!==E.ud.Board){let e=this._appCommonSrv.getExpandedLayoutPanel();if(e&&e!==E.sF.WorkPanel)return}r.widthChanged&&onWidthChanged(),r.heightChanged&&onHeightChanged()}}));e.$watch((()=>this._appCommonSrv.getExpandedLayoutPanel()),((e,t)=>{t&&t!==E.sF.WorkPanel&&(onWidthChanged(),onHeightChanged())}))}}]}}))}}]);