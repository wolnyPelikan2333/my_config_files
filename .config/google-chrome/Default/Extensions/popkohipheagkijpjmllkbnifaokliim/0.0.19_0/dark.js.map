{"version":3,"file":"dark.js","mappings":"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","sources":["webpack://Night mode/./helpers.js","webpack://Night mode/./math.js","webpack://Night mode/./modify.js","webpack://Night mode/./parsers.js","webpack://Night mode/webpack/bootstrap","webpack://Night mode/webpack/runtime/define property getters","webpack://Night mode/webpack/runtime/hasOwnProperty shorthand","webpack://Night mode/webpack/runtime/make namespace object","webpack://Night mode/./dark.js"],"sourcesContent":["export function rgbToHSL({r, g, b, a = 1}) {\n    r = r / 255;\n    g = g / 255;\n    b = b / 255;\n\n    const max = Math.max(r, g, b);\n    const min = Math.min(r, g, b);\n    const c = max - min;\n\n    const l = (max + min) / 2;\n\n    if (c === 0) {\n        return {h: 0, s: 0, l, a};\n    }\n\n    let h = (\n            max === r ? (((g - b) / c) % 6) :\n                max === g ? ((b - r) / c + 2) :\n                    ((r - g) / c + 4)\n        ) * 60;\n    if (h < 0) {\n        h += 360;\n    }\n\n    const s = c / (1 - Math.abs(2 * l - 1));\n\n    return {h, s, l, a};\n}\n\nexport function rgbToString(rgb) {\n    const {r, g, b, a} = rgb;\n    if (a != null && a < 1) {\n        return `rgba(${toFixed(r)}, ${toFixed(g)}, ${toFixed(b)}, ${toFixed(a, 2)})`;\n    }\n    return `rgb(${toFixed(r)}, ${toFixed(g)}, ${toFixed(b)})`;\n}\n\nexport function rgbToHexString({r, g, b, a}) {\n    return `#${(a != null && a < 1 ? [r, g, b, Math.round(a * 255)] : [r, g, b]).map((x) => {\n        return `${x < 16 ? '0' : ''}${x.toString(16)}`;\n    }).join('')}`;\n}\n\nexport function hslToRGB({h, s, l, a = 1}) {\n    if (s === 0) {\n        const [r, b, g] = [l, l, l].map((x) => Math.round(x * 255));\n        return {r, g, b, a};\n    }\n\n    const c = (1 - Math.abs(2 * l - 1)) * s;\n    const x = c * (1 - Math.abs((h / 60) % 2 - 1));\n    const m = l - c / 2;\n    const [r, g, b] = (\n        h < 60 ? [c, x, 0] :\n            h < 120 ? [x, c, 0] :\n                h < 180 ? [0, c, x] :\n                    h < 240 ? [0, x, c] :\n                        h < 300 ? [x, 0, c] :\n                            [c, 0, x]\n    ).map((n) => Math.round((n + m) * 255));\n\n    return {r, g, b, a};\n}\n\nexport function getMatches(regex, input, group = 0) {\n    const matches = [];\n    let m;\n    while (m = regex.exec(input)) {\n        matches.push(m[group]);\n    }\n    return matches;\n}\n\nfunction toFixed(n, digits = 0) {\n    const fixed = n.toFixed(digits);\n    if (digits === 0) {\n        return fixed;\n    }\n    const dot = fixed.indexOf('.');\n    if (dot >= 0) {\n        const zerosMatch = fixed.match(/0+$/);\n        if (zerosMatch) {\n            if (zerosMatch.index === dot + 1) {\n                return fixed.substring(0, dot);\n            }\n            return fixed.substring(0, zerosMatch.index);\n        }\n    }\n    return fixed;\n}\n","const Matrix = {\n\n    identity() {\n        return [\n            [1, 0, 0, 0, 0],\n            [0, 1, 0, 0, 0],\n            [0, 0, 1, 0, 0],\n            [0, 0, 0, 1, 0],\n            [0, 0, 0, 0, 1]\n        ];\n    },\n\n    invertNHue() {\n        return [\n            [0.333, -0.667, -0.667, 0, 1],\n            [-0.667, 0.333, -0.667, 0, 1],\n            [-0.667, -0.667, 0.333, 0, 1],\n            [0, 0, 0, 1, 0],\n            [0, 0, 0, 0, 1]\n        ];\n    },\n\n    brightness(v) {\n        return [\n            [v, 0, 0, 0, 0],\n            [0, v, 0, 0, 0],\n            [0, 0, v, 0, 0],\n            [0, 0, 0, 1, 0],\n            [0, 0, 0, 0, 1]\n        ];\n    },\n\n    contrast(v) {\n        const t = (1 - v) / 2;\n        return [\n            [v, 0, 0, 0, t],\n            [0, v, 0, 0, t],\n            [0, 0, v, 0, t],\n            [0, 0, 0, 1, 0],\n            [0, 0, 0, 0, 1]\n        ];\n    },\n\n    sepia(v) {\n        return [\n            [(0.393 + 0.607 * (1 - v)), (0.769 - 0.769 * (1 - v)), (0.189 - 0.189 * (1 - v)), 0, 0],\n            [(0.349 - 0.349 * (1 - v)), (0.686 + 0.314 * (1 - v)), (0.168 - 0.168 * (1 - v)), 0, 0],\n            [(0.272 - 0.272 * (1 - v)), (0.534 - 0.534 * (1 - v)), (0.131 + 0.869 * (1 - v)), 0, 0],\n            [0, 0, 0, 1, 0],\n            [0, 0, 0, 0, 1]\n        ];\n    },\n\n    grayscale(v) {\n        return [\n            [(0.2126 + 0.7874 * (1 - v)), (0.7152 - 0.7152 * (1 - v)), (0.0722 - 0.0722 * (1 - v)), 0, 0],\n            [(0.2126 - 0.2126 * (1 - v)), (0.7152 + 0.2848 * (1 - v)), (0.0722 - 0.0722 * (1 - v)), 0, 0],\n            [(0.2126 - 0.2126 * (1 - v)), (0.7152 - 0.7152 * (1 - v)), (0.0722 + 0.9278 * (1 - v)), 0, 0],\n            [0, 0, 0, 1, 0],\n            [0, 0, 0, 0, 1]\n        ];\n    },\n};\n\nexport function scale(x, inLow, inHigh, outLow, outHigh) {\n    return (x - inLow) * (outHigh - outLow) / (inHigh - inLow) + outLow;\n}\n\nexport function createFilterMatrix(config) {\n    let m = Matrix.identity();\n    if (config.sepia !== 0) {\n        m = multiplyMatrices(m, Matrix.sepia(config.sepia / 100));\n    }\n    if (config.grayscale !== 0) {\n        m = multiplyMatrices(m, Matrix.grayscale(config.grayscale / 100));\n    }\n    if (config.contrast !== 100) {\n        m = multiplyMatrices(m, Matrix.contrast(config.contrast / 100));\n    }\n    if (config.brightness !== 100) {\n        m = multiplyMatrices(m, Matrix.brightness(config.brightness / 100));\n    }\n    if (config.mode === 1) {\n        m = multiplyMatrices(m, Matrix.invertNHue());\n    }\n    return m;\n}\n\nexport function multiplyMatrices(m1, m2) {\n    const result = [];\n    for (let i = 0; i < m1.length; i++) {\n        result[i] = [];\n        for (let j = 0; j < m2[0].length; j++) {\n            let sum = 0;\n            for (let k = 0; k < m1[0].length; k++) {\n                sum += m1[i][k] * m2[k][j];\n            }\n            result[i][j] = sum;\n        }\n    }\n    return result;\n}\n\nexport function applyColorMatrix([r, g, b], matrix) {\n    const rgb = [[r / 255], [g / 255], [b / 255], [1], [1]];\n    const result = multiplyMatrices(matrix, rgb);\n    return [0, 1, 2].map((i) => clamp(Math.round(result[i][0] * 255), 0, 255));\n}\n\nexport function clamp(x, min, max) {\n    return Math.min(max, Math.max(min, x));\n}","import {scale} from './math';\nimport {rgbToHexString, rgbToHSL, rgbToString, hslToRGB, getMatches} from './helpers';\nimport {createFilterMatrix, applyColorMatrix} from './math';\nimport {parse, getValFromCache, getColorFromVar, setValToCache} from './parsers';\n\nlet filter = {\n    mode: 0,\n    brightness: 100,\n    contrast: 100,\n    grayscale: 0,\n    sepia: 0,\n    useFont: false,\n    fontFamily: \"Hiragino Kaku Gothic Pro\",\n    textStroke: 0,\n    stylesheet: \"\"\n};\n\nexport const colorMatch = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\)|black|silver|gray|whitesmoke|maroon|red|purple|fuchsia|green|lime|olivedrab|yellow|navy|blue|teal|aquamarine|orange|aliceblue|antiquewhite|aqua|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|gainsboro|ghostwhite|goldenrod|gold|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavenderblush|lavender|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olive|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato|turquoise|violet|wheat|white|yellowgreen|rebeccapurple)/gi;\n\nexport function modifyBgHSL({h, s, l, a}) {\n    const lMin = 0.22;\n    const lMaxS0 = 0.25;\n    const lMaxS1 = 0.4;\n    const sNeutralLim = 0.12;\n    const lNeutralLight = 0.8;\n    const sColored = 0.05;\n    const hColored = 205;\n    const hBlue0 = 200;\n    const hBlue1 = 280;\n\n    if(a < 0.1 && a > 0) {\n        a = 0.3;\n        return {h: h, s: s, l: l, a};\n    }\n\n    const lMax = scale(s, 0, 1, lMaxS0, lMaxS1);\n    const lx = (l < lMax ?\n        l :\n        l < 0.5 ?\n            lMax :\n            scale(l, 0.5, 1, lMax, lMin));\n\n    const isNeutral = (l >= lNeutralLight && h > hBlue0 && h < hBlue1) || s < sNeutralLim;\n    let hx = h;\n    let sx = s;\n    if (isNeutral) {\n        sx = sColored;\n        hx = hColored;\n    }\n    \n    return {h: hx, s: sx, l: lx, a};\n}\n\nexport function modifyFgHSL({h, s, l, a}) {\n    const lMax = 0.9;\n    const lMinS0 = 0.9;\n    const lMinS1 = 0.6;\n    const sNeutralLim = 0.24;\n    const lNeutralDark = 0.2;\n    const sColored = 0.20;\n    const hColored = 40;\n    const hBlue0 = 205;\n    const hBlue1 = 245;\n    const hBlueMax = 220;\n    const lBlueMin = 0.7;\n\n    const isBlue = h > hBlue0 && h <= hBlue1;\n\n    const lMin = scale(s, 0, 1, isBlue ? scale(h, hBlue0, hBlue1, lMinS0, lBlueMin) : lMinS0, lMinS1);\n    const lx = (l < 0.5 ? scale(l, 0, 0.5, lMax, lMin) : l < lMin ? lMin : l);\n    let hx = h;\n    let sx = s;\n    if (isBlue) {\n        hx = scale(hx, hBlue0, hBlue1, hBlue0, hBlueMax);\n    }\n    const isNeutral = l < lNeutralDark || s < sNeutralLim;\n    if (isNeutral) {\n        sx = sColored;\n        hx = hColored;\n    }\n\n    return {h: hx, s: sx, l: lx, a};\n}\n\nexport function modifyBorderHSL({h, s, l, a}) {\n    const lMinS0 = 0.3;\n    const lMinS1 = 0.4;\n    const lMaxS0 = 0.4;\n    const lMaxS1 = 0.5;\n\n    const lMin = scale(s, 0, 1, lMinS0, lMinS1);\n    const lMax = scale(s, 0, 1, lMaxS0, lMaxS1);\n    const lx = scale(l, 0, 1, lMax, lMin);\n\n    return {h, s, l: lx, a};\n}\n\nexport function modifyColor(rgb, modifyHSL) {\n\n    if (rgb == '0px' || rgb == '0px 0px' || rgb == '0 0' || rgb == 'none') {\n        return rgb;\n    }\n\n    let hsl = rgbToHSL(rgb);\n    let modified = modifyHSL(hsl);\n    let {r, g, b, a} = hslToRGB(modified);\n    let matrix = createFilterMatrix(filter);\n    let [rf, gf, bf] = applyColorMatrix([r, g, b], matrix);\n\n    let color = (a === 1 ?\n        rgbToHexString({r: rf, g: gf, b: bf}) :\n        rgbToString({r: rf, g: gf, b: bf, a}));\n\n\n    return color.trim();\n}\n\nfunction clearTrash(value, modifier) {\n\n    let colors = value.replace(/url\\(.*?\\)/g, '').match(colorMatch);\n\n    if (colors) {\n\n        Array.from(colors).forEach((color) => {\n            \n            let rgb = parse(color);\n            let modifyCol = modifyColor(rgb, modifier);\n            value = value.replace(color, modifyCol);\n        });\n    }\n\n    return value;\n}\n\nexport function findAndReplaceColor(value, modifier) {\n\n    try {\n\n        if (value == '0px' || value == '0px 0px' || value == '0 0' || value == 'none') {\n            return value;\n        }\n        \n        let matchess = value.match(/var\\(.*?\\)/g);\n\n        if(matchess) {\n            \n            let matcher = value.match(/--(.+?)(?=\\)|,)/g).reverse();\n\n            for (var prop in matcher) {\n\n                let match = matcher[prop];\n\n                let cssVar = match.trim();\n\n                if (cssVar) {\n                    let valCss = getValFromCache(cssVar);\n\n                    if (valCss) {\n\n                        valCss = valCss.trim();\n\n                        let rrr = new RegExp('var\\\\([^var\\\\(]*?'+cssVar+'[^\\\\)]*\\\\)','g');\n                        let newValCss = value.replace(rrr, valCss);\n\n                        newValCss = clearTrash(newValCss, modifier);\n\n                        let one = (newValCss.match(/\\)/g) || []).length;\n                        let two = (newValCss.match(/\\(/g) || []).length;\n\n                        if(one != two) {\n                            return valCss;\n                        }\n\n                        setTimeout(function () {\n                            let style = getComputedStyle(document.body);\n                            let valCss = style.getPropertyValue(cssVar);\n\n                            if(valCss) {\n                                setValToCache(cssVar, valCss);\n                            }\n                        }, 6000);\n\n                        if(value == 'var(--steel_gray_60)') {\n                            console.log('TEST', match, valCss, newValCss);\n                        }\n\n                        return newValCss;\n                    } else {\n                        try {\n                            let style = getComputedStyle(document.body);\n                            let valCss = style.getPropertyValue(cssVar);\n\n                            if(valCss) {\n                                setValToCache(cssVar, valCss);\n                            } else {\n\n                                if(modifier.name == 'modifyBgHSL') {\n                                    valCss = \"rgba(53,57,59,0.7)\";\n\n                                    return valCss;\n                                } else if(modifier.name == 'modifyFgHSL'){\n                                    valCss = \"#bab5ab\";\n\n                                    return valCss;\n                                }\n\n                                throw \"Error2\";\n                            }\n\n                            valCss = valCss.trim();\n\n                            let rrr = new RegExp('var\\\\([^var\\\\(]*?'+cssVar+'[^\\\\)]*\\\\)','g');\n                            let newValCss = value.replace(rrr, valCss);\n\n                            newValCss = clearTrash(newValCss, modifier);\n\n                            return newValCss;\n                        } catch (e) {\n\n                            setTimeout(function () {\n                                let style = getComputedStyle(document.body);\n                                let valCss = style.getPropertyValue(cssVar);\n\n                                if(valCss) {\n                                    setValToCache(cssVar, valCss);\n                                }\n\n                                valCss = valCss.trim();\n\n                                let rrr = new RegExp('var\\\\([^var\\\\(]*?'+cssVar+'[^\\\\)]*\\\\)','g');\n                                let newValCss = value.replace(rrr, valCss);\n\n                                newValCss = clearTrash(newValCss, modifier);\n\n                                return newValCss;\n\n                            }, 8000);\n\n                        }\n\n                    }\n\n\n                }\n                \n            }\n            \n        } else {\n\n            value = clearTrash(value, modifier);\n\n            return value;\n\n        }\n\n\n    } catch (e) {\n        let modifyCol = modifyColor(value, modifier);\n\n        return modifyCol;\n    }\n\n\n}","import {hslToRGB} from './helpers';\n\nconst rgbMatch = /^rgba?\\([^\\(\\)]+\\)$/;\nconst hslMatch = /^hsla?\\([^\\(\\)]+\\)$/;\nconst hexMatch = /^#[0-9a-f]+$/i;\nconst hslSplitter = /hsla?|\\(|\\)|\\/|,|\\s/ig;\nconst hslRange = [360, 1, 1, 1];\nconst hslUnits = {'%': 100, 'deg': 360, 'rad': 2 * Math.PI, 'turn': 1};\nconst rgbSplitter = /rgba?|\\(|\\)|\\/|,|\\s/ig;\nconst rgbRange = [255, 255, 255, 1];\nconst rgbUnits = {'%': 100};\nconst knownColors = new Map(Object.entries({\n    aliceblue: 0xf0f8ff,\n    antiquewhite: 0xfaebd7,\n    aqua: 0x00ffff,\n    aquamarine: 0x7fffd4,\n    azure: 0xf0ffff,\n    beige: 0xf5f5dc,\n    bisque: 0xffe4c4,\n    black: 0x000000,\n    blanchedalmond: 0xffebcd,\n    blue: 0x0000ff,\n    blueviolet: 0x8a2be2,\n    brown: 0xa52a2a,\n    burlywood: 0xdeb887,\n    cadetblue: 0x5f9ea0,\n    chartreuse: 0x7fff00,\n    chocolate: 0xd2691e,\n    coral: 0xff7f50,\n    cornflowerblue: 0x6495ed,\n    cornsilk: 0xfff8dc,\n    crimson: 0xdc143c,\n    cyan: 0x00ffff,\n    darkblue: 0x00008b,\n    darkcyan: 0x008b8b,\n    darkgoldenrod: 0xb8860b,\n    darkgray: 0xa9a9a9,\n    darkgrey: 0xa9a9a9,\n    darkgreen: 0x006400,\n    darkkhaki: 0xbdb76b,\n    darkmagenta: 0x8b008b,\n    darkolivegreen: 0x556b2f,\n    darkorange: 0xff8c00,\n    darkorchid: 0x9932cc,\n    darkred: 0x8b0000,\n    darksalmon: 0xe9967a,\n    darkseagreen: 0x8fbc8f,\n    darkslateblue: 0x483d8b,\n    darkslategray: 0x2f4f4f,\n    darkslategrey: 0x2f4f4f,\n    darkturquoise: 0x00ced1,\n    darkviolet: 0x9400d3,\n    deeppink: 0xff1493,\n    deepskyblue: 0x00bfff,\n    dimgray: 0x696969,\n    dimgrey: 0x696969,\n    dodgerblue: 0x1e90ff,\n    firebrick: 0xb22222,\n    floralwhite: 0xfffaf0,\n    forestgreen: 0x228b22,\n    fuchsia: 0xff00ff,\n    gainsboro: 0xdcdcdc,\n    ghostwhite: 0xf8f8ff,\n    gold: 0xffd700,\n    goldenrod: 0xdaa520,\n    gray: 0x808080,\n    grey: 0x808080,\n    green: 0x008000,\n    greenyellow: 0xadff2f,\n    honeydew: 0xf0fff0,\n    hotpink: 0xff69b4,\n    indianred: 0xcd5c5c,\n    indigo: 0x4b0082,\n    ivory: 0xfffff0,\n    khaki: 0xf0e68c,\n    lavender: 0xe6e6fa,\n    lavenderblush: 0xfff0f5,\n    lawngreen: 0x7cfc00,\n    lemonchiffon: 0xfffacd,\n    lightblue: 0xadd8e6,\n    lightcoral: 0xf08080,\n    lightcyan: 0xe0ffff,\n    lightgoldenrodyellow: 0xfafad2,\n    lightgray: 0xd3d3d3,\n    lightgrey: 0xd3d3d3,\n    lightgreen: 0x90ee90,\n    lightpink: 0xffb6c1,\n    lightsalmon: 0xffa07a,\n    lightseagreen: 0x20b2aa,\n    lightskyblue: 0x87cefa,\n    lightslategray: 0x778899,\n    lightslategrey: 0x778899,\n    lightsteelblue: 0xb0c4de,\n    lightyellow: 0xffffe0,\n    lime: 0x00ff00,\n    limegreen: 0x32cd32,\n    linen: 0xfaf0e6,\n    magenta: 0xff00ff,\n    maroon: 0x800000,\n    mediumaquamarine: 0x66cdaa,\n    mediumblue: 0x0000cd,\n    mediumorchid: 0xba55d3,\n    mediumpurple: 0x9370db,\n    mediumseagreen: 0x3cb371,\n    mediumslateblue: 0x7b68ee,\n    mediumspringgreen: 0x00fa9a,\n    mediumturquoise: 0x48d1cc,\n    mediumvioletred: 0xc71585,\n    midnightblue: 0x191970,\n    mintcream: 0xf5fffa,\n    mistyrose: 0xffe4e1,\n    moccasin: 0xffe4b5,\n    navajowhite: 0xffdead,\n    navy: 0x000080,\n    oldlace: 0xfdf5e6,\n    olive: 0x808000,\n    olivedrab: 0x6b8e23,\n    orange: 0xffa500,\n    orangered: 0xff4500,\n    orchid: 0xda70d6,\n    palegoldenrod: 0xeee8aa,\n    palegreen: 0x98fb98,\n    paleturquoise: 0xafeeee,\n    palevioletred: 0xdb7093,\n    papayawhip: 0xffefd5,\n    peachpuff: 0xffdab9,\n    peru: 0xcd853f,\n    pink: 0xffc0cb,\n    plum: 0xdda0dd,\n    powderblue: 0xb0e0e6,\n    purple: 0x800080,\n    rebeccapurple: 0x663399,\n    red: 0xff0000,\n    rosybrown: 0xbc8f8f,\n    royalblue: 0x4169e1,\n    saddlebrown: 0x8b4513,\n    salmon: 0xfa8072,\n    sandybrown: 0xf4a460,\n    seagreen: 0x2e8b57,\n    seashell: 0xfff5ee,\n    sienna: 0xa0522d,\n    silver: 0xc0c0c0,\n    skyblue: 0x87ceeb,\n    slateblue: 0x6a5acd,\n    slategray: 0x708090,\n    slategrey: 0x708090,\n    snow: 0xfffafa,\n    springgreen: 0x00ff7f,\n    steelblue: 0x4682b4,\n    tan: 0xd2b48c,\n    teal: 0x008080,\n    thistle: 0xd8bfd8,\n    tomato: 0xff6347,\n    turquoise: 0x40e0d0,\n    violet: 0xee82ee,\n    wheat: 0xf5deb3,\n    white: 0xffffff,\n    whitesmoke: 0xf5f5f5,\n    yellow: 0xffff00,\n    yellowgreen: 0x9acd32,\n}));\nconst systemColors = new Map(Object.entries({\n    ActiveBorder: 0x3b99fc,\n    ActiveCaption: 0x000000,\n    AppWorkspace: 0xaaaaaa,\n    Background: 0x6363ce,\n    ButtonFace: 0xffffff,\n    ButtonHighlight: 0xe9e9e9,\n    ButtonShadow: 0x9fa09f,\n    ButtonText: 0x000000,\n    CaptionText: 0x000000,\n    GrayText: 0x7f7f7f,\n    Highlight: 0xb2d7ff,\n    HighlightText: 0x000000,\n    InactiveBorder: 0xffffff,\n    InactiveCaption: 0xffffff,\n    InactiveCaptionText: 0x000000,\n    InfoBackground: 0xfbfcc5,\n    InfoText: 0x000000,\n    Menu: 0xf6f6f6,\n    MenuText: 0xffffff,\n    Scrollbar: 0xaaaaaa,\n    ThreeDDarkShadow: 0x000000,\n    ThreeDFace: 0xc0c0c0,\n    ThreeDHighlight: 0xffffff,\n    ThreeDLightShadow: 0xffffff,\n    ThreeDShadow: 0x000000,\n    Window: 0xececec,\n    WindowFrame: 0xaaaaaa,\n    WindowText: 0x000000,\n    '-webkit-focus-ring-color': 0xe59700\n}).map(([key, value]) => [key.toLowerCase(), value]));\n\nconst colorMatch = /(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\\((-?\\d+%?[,\\s]+){2,3}\\s*[\\d\\.]+%?\\)|black|silver|gray|whitesmoke|maroon|red|purple|fuchsia|green|lime|olivedrab|yellow|navy|blue|teal|aquamarine|orange|aliceblue|antiquewhite|aqua|azure|beige|bisque|blanchedalmond|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|gainsboro|ghostwhite|goldenrod|gold|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavenderblush|lavender|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|limegreen|linen|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|oldlace|olive|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|thistle|tomato|turquoise|violet|wheat|white|yellowgreen|rebeccapurple)/gi;\n\nfunction parseRGB($rgb) {\n    const [r, g, b, a = 1] = getNumbersFromString($rgb, rgbSplitter, rgbRange, rgbUnits);\n    return {r, g, b, a};\n}\n \nfunction parseHSL($hsl) {\n    const [h, s, l, a = 1] = getNumbersFromString($hsl, hslSplitter, hslRange, hslUnits);\n    return hslToRGB({h, s, l, a});\n}\n\nfunction parseHex($hex) {\n    const h = $hex.substring(1);\n    switch (h.length) {\n        case 3:\n        case 4: {\n            const [r, g, b] = [0, 1, 2].map((i) => parseInt(`${h[i]}${h[i]}`, 16));\n            const a = h.length === 3 ? 1 : (parseInt(`${h[3]}${h[3]}`, 16) / 255);\n            return {r, g, b, a};\n        }\n        case 6:\n        case 8: {\n            const [r, g, b] = [0, 2, 4].map((i) => parseInt(h.substring(i, i + 2), 16));\n            const a = h.length === 6 ? 1 : (parseInt(h.substring(6, 8), 16) / 255);\n            return {r, g, b, a};\n        }\n    }\n    throw new Error(`Unable to parse ${$hex}`);\n}\n\nfunction getNumbersFromString(str, splitter, range, units) {\n    const raw = str.split(splitter).filter((x) => x);\n    const unitsList = Object.entries(units);\n    const numbers = raw.map((r) => r.trim()).map((r, i) => {\n        let n;\n        const unit = unitsList.find(([u]) => r.endsWith(u));\n        if (unit) {\n            n = parseFloat(r.substring(0, r.length - unit[0].length)) / unit[1] * range[i];\n        } else {\n            n = parseFloat(r);\n        }\n        if (range[i] > 1) {\n            return Math.round(n);\n        }\n        return n;\n    });\n    return numbers;\n}\n\nfunction getColorByName($color) {\n    const n = knownColors.get($color);\n    return {\n        r: (n >> 16) & 255,\n        g: (n >> 8) & 255,\n        b: (n >> 0) & 255,\n        a: 1\n    };\n}\n\nfunction getSystemColor($color) {\n    const n = systemColors.get($color);\n    return {\n        r: (n >> 16) & 255,\n        g: (n >> 8) & 255,\n        b: (n >> 0) & 255,\n        a: 1\n    };\n}\n\nexport function getColorFromVar(string, stringVar) {\n        let cssVar = stringVar.trim();\n    \n        try {\n            let style = getComputedStyle(document.body);\n            let prop = style.getPropertyValue(cssVar);\n\n            //let color = string.replace(/var\\(.*?\\)/, prop).replace(' ', '');\n            \n            return prop;\n        } catch (e) {\n            \n            setTimeout(function () {\n                let style = getComputedStyle(document.body);\n                let prop = style.getPropertyValue(cssVar);\n\n                if(valCss) {\n                    setValToCache(newMatch[0], valCss);\n                    value = valCss;\n                }\n                \n                console.log(cssVar,prop);\n            }, 2000);\n\n            return stringVar;\n        }\n    \n}\n\nexport function parse($color) {\n    const c = $color.trim().toLowerCase();\n\n    return parseColor(c);\n}\n\nfunction parseColor(c) {\n    \n    if (c.match(rgbMatch)) {\n        return parseRGB(c);\n    }\n\n    if (c.match(hslMatch)) {\n        return parseHSL(c);\n    }\n\n    if (c.match(hexMatch)) {\n        return parseHex(c);\n    }\n\n    if (knownColors.has(c)) {\n        return getColorByName(c);\n    }\n\n    if (systemColors.has(c)) {\n        return getSystemColor(c);\n    }\n    \n    return c;\n}\n\nexport function getValFromCache(cssVar) {\n    return localStorage[cssVar]?JSON.parse(localStorage[cssVar]):localStorage[cssVar];\n}\n\nexport function setValToCache(cssVar, valCss) {\n    localStorage[cssVar] = JSON.stringify(valCss);\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {modifyBgHSL, modifyFgHSL, modifyBorderHSL, modifyColor, findAndReplaceColor, colorMatch} from './modify';\nimport {parse} from './parsers';\n\nchrome.storage.local.get().then(res => {\n\n    const win = window;\n    if(win === win.self && win === win.top) {\n        let dark = res['dark'];\n        let domains = res['domains'];\n        let url = new URL(window.location.href);\n        let domain = url.hostname;\n\n        if (domains) {\n            domains = JSON.parse(domains);\n        } else {\n            domains = {};\n        }\n\n        if (domains[domain]) {\n            localStorage.activeDarkGoogle = false;\n        } else if (dark) {\n            localStorage.activeDarkGoogle = dark;\n        } else {\n            localStorage.activeDarkGoogle = false;\n        }\n    }\n    \n});\n\nvar nn = document.getElementById('dark-theme');\n\nif (!nn) {\n    activateDark();\n}\n\nfunction activateDark() {\n\n    var currentLoadedStyles = [];\n    var styleDark = Object;\n    var firstTemporaryStyle = Object;\n    var arr = [];\n    var mutationObserver = null;\n    var inlineStyle = '';\n    var stylenodes = [\"STYLE\", \"LINK\"];\n    var stringStyle = ' html, body, table, thead, input, textarea, select {color: #bab5ab!important; background: #35393b;} input[type=\"text\"], textarea, select {color: #bab5ab!important; background: #35393b;} [data-darksite-inline-background-image-gradient] {background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))!important; -webkit-background-size: cover!important; -moz-background-size: cover!important; -o-background-size: cover!important; background-size: cover!important;} [data-darksite-force-inline-background] * {background-color: rgba(0,0,0,0.7)!important;} [data-darksite-inline-background] {background-color: rgba(0,0,0,0.7)!important;} [data-darksite-inline-color] {color: #fff!important;} [data-darksite-inline-background-image] {background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3))!important} .ytp-gradient-bottom{display: none!important}';\n    var cssImportRegex = /@import (url\\()?(('.+?')|(\".+?\")|([^\\)]*?))\\)?;?/g;\n    var unparsableColors = [\"inherit\", \"transparent\", \"initial\", \"currentcolor\", \"none\"];\n\n    window.onbeforeunload = function () {\n        if (mutationObserver) {\n            mutationObserver.disconnect();\n        }\n    };\n\n    document.addEventListener(\"visibilitychange\", function (evt) {\n\n        if (document.visibilityState === 'visible' && window.self == window.top) {\n            chrome.runtime.sendMessage({ context: localStorage.activeDarkGoogle === 'true' }, function (){\n                \n            });\n        }\n\n        if (mutationObserver) {\n            if (document.visibilityState === 'visible') {\n                mutationObserver.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true\n                });\n                load();\n            } else {\n                mutationObserver.disconnect();\n            }\n        }\n    });\n\n    if (window.self == window.top) {\n        chrome.runtime.sendMessage({ context: localStorage.activeDarkGoogle == 'true' });\n    }\n\n    createTemporaryStyle();\n\n    var mmm = function mmm(mutations) {\n\n        if (localStorage.activeDarkGoogle === 'true') {\n\n            for (var j = 0; j < mutations.length; ++j) {\n\n                var mutation = mutations[j];\n\n                var styles = [];\n                var node = mutation.target;\n\n                if (node && node.nodeType == 1) {\n\n                    if ((styles = node.querySelectorAll('[style]')).length) {\n\n                        styles = Array.from(styles);\n                        styles.push(node);\n\n                        for (var prop in styles) {\n\n                            var _node = styles[prop];\n\n                            if (_node.style.cssText.indexOf('background-color') !== -1 && _node.style.cssText.indexOf('rgba(') == -1 && _node.style.cssText.indexOf('hsla(') == -1) {\n\n                                var backgroundColor = _node.style.backgroundColor;\n\n                                if (backgroundColor) {\n                                    var currentStyle = parse(backgroundColor);\n                                    var finishStyle = modifyColor(currentStyle, modifyBgHSL);\n                                    var stringFinishStyle = finishStyle.replace(/[^\\dA-Za-z]/g, '');\n\n                                    var st = \"data-darksite-inline-background-color\" + stringFinishStyle;\n\n                                    var iL = addStyle(finishStyle + \"!important\", \"background-color\", \"[\" + st + \"]\");\n\n                                    if (iL) {\n                                        inlineStyle = inlineStyle + iL;\n                                        firstTemporaryStyle.innerText = firstTemporaryStyle.innerText + iL;\n                                    }\n\n                                    _node.setAttribute(st, \"\");\n                                }\n                            } else if (_node.style.cssText.indexOf('background-image') !== -1) {\n\n                                var backgroundImage = _node.style.backgroundImage;\n\n                                if (backgroundImage.indexOf('url(') !== -1 && backgroundImage.indexOf('linear-gradient(') == -1) {\n                                    _node.style.backgroundImage = backgroundImage;\n                                    // node.style.backgroundBlendMode = 'multiply';\n                                    _node.style.filter = 'brightness(78%)';\n                                }\n                            } else if (_node.style.cssText.indexOf('background') !== -1 && _node.style.cssText.indexOf('rgba(') == -1 && _node.style.cssText.indexOf('hsla(') == -1) {\n\n                                var background = _node.style.background;\n\n                                if (background) {\n                                    var _currentStyle = (0, parse)(background);\n                                    var _finishStyle = (0, modifyColor)(_currentStyle, modifyBgHSL);\n                                    var _stringFinishStyle = _finishStyle.replace(/[^\\dA-Za-z]/g, '');\n\n                                    var _st = \"data-darksite-inline-background\" + _stringFinishStyle;\n\n                                    var _iL = addStyle(_finishStyle + \"!important\", \"background\", \"[\" + _st + \"]\");\n\n                                    if (_iL) {\n                                        inlineStyle = inlineStyle + _iL;\n                                        firstTemporaryStyle.innerText = firstTemporaryStyle.innerText + _iL;\n                                    }\n\n                                    _node.setAttribute(_st, \"\");\n                                }\n                            }\n\n                            if (_node.style.cssText.indexOf('linear-gradient(') !== -1 && _node.style.cssText.indexOf('url(') == -1) {\n\n                                _node.setAttribute(\"data-darksite-inline-background-image\", \"\");\n                            }\n\n                            if (_node.style.color) {\n\n                                var color = _node.style.color;\n\n                                if (color) {\n                                    var _currentStyle2 = (0, parse)(color);\n                                    var _finishStyle2 = (0, modifyColor)(_currentStyle2, modifyFgHSL);\n                                    var _stringFinishStyle2 = _finishStyle2.replace(/[^\\dA-Za-z]/g, '');\n\n                                    var _st2 = \"data-darksite-inline-color\" + _stringFinishStyle2;\n\n                                    var _iL2 = addStyle(_finishStyle2 + \"!important\", \"color\", \"[\" + _st2 + \"]\");\n\n                                    if (_iL2) {\n                                        inlineStyle = inlineStyle + _iL2;\n                                        firstTemporaryStyle.innerText = firstTemporaryStyle.innerText + _iL2;\n                                    }\n\n                                    _node.setAttribute(_st2, \"\");\n                                }\n                            }\n                        }\n                    }\n\n                    var _loop = function _loop(kk) {\n                        var node = mutation.addedNodes[kk];\n                        if (node && node.nodeType == 1) {\n\n                            var nodeName = node.nodeName.toUpperCase();\n                            if (stylenodes.indexOf(nodeName) !== -1) {\n\n                                try {\n                                    if (node.sheet && node.sheet.cssRules && currentLoadedStyles.indexOf(node.sheet) == -1 && node.id != 'dark-theme' && node.id != 'temporary-dark-theme') {\n\n                                        pushCurrentLoadedStyles(node.sheet);\n\n                                        var styleDarkText = interval(node.sheet.cssRules); //перебор всех стилей\n\n                                        styleDark = document.createElement('style');\n                                        styleDark.id = 'dark-theme';\n                                        styleDark.innerText = styleDarkText;\n                                        document.body.appendChild(styleDark);\n\n                                        if (node instanceof HTMLStyleElement) {\n                                            subscribeToSheetChanges(node.sheet, styleDark);\n                                        }\n                                    } else if (currentLoadedStyles.indexOf(node.sheet) == -1 && node.id != 'dark-theme' && node.id != 'temporary-dark-theme') {\n\n                                        node.addEventListener('load', function () {\n                                            try {\n\n                                                if (node.sheet && node.sheet.cssRules && currentLoadedStyles.indexOf(node.sheet) == -1) {\n\n                                                    pushCurrentLoadedStyles(node.sheet);\n\n                                                    var _styleDarkText = interval(node.sheet.cssRules); //загрузка и перебор всех стилей\n\n                                                    styleDark = document.createElement('style');\n                                                    styleDark.id = 'dark-theme';\n                                                    styleDark.innerText = _styleDarkText;\n                                                    document.body.appendChild(styleDark);\n                                                }\n                                            } catch (e) {\n                                                if (node.sheet.href && currentLoadedStyles.indexOf(node.sheet) == -1) {\n                                                    pushCurrentLoadedStyles(node.sheet);\n                                                    loadCssFile(node.sheet.href, node);\n                                                }\n                                            }\n                                        });\n                                    }\n                                } catch (e) {\n                                    if (node.sheet.href && currentLoadedStyles.indexOf(node.sheet) == -1 && node.id != 'dark-theme' && node.id != 'temporary-dark-theme') {\n                                        pushCurrentLoadedStyles(node.sheet);\n                                        loadCssFile(node.sheet.href, node);\n                                    }\n                                }\n                            }\n\n                            if (['SVG'].indexOf(nodeName) !== -1) {\n\n                                var fills = document.querySelectorAll(\"[fill]\");\n\n                                for (var i = 0; i < fills.length; i++) {\n                                    var fill = fills[i].getAttribute(\"fill\");\n                                    if (fill && fill.nodeName == 'text') {\n                                        var _currentStyle3 = (0, parse)(fill);\n                                        var _finishStyle3 = (0, modifyColor)(_currentStyle3, modifyFgHSL);\n                                        fills[i].setAttribute(\"fill\", _finishStyle3);\n                                    } else {\n                                        var _currentStyle4 = (0, parse)(fill);\n                                        var _finishStyle4 = (0, modifyColor)(_currentStyle4, modifyBgHSL);\n                                        fills[i].setAttribute(\"fill\", _finishStyle4);\n                                    }\n                                }\n\n                                var strokes = document.querySelectorAll(\"[stroke]\");\n\n                                for (var _i = 0; _i < strokes.length; _i++) {\n                                    var stroke = strokes[_i].getAttribute(\"stroke\");\n                                    if (stroke) {\n                                        var _currentStyle5 = (0, parse)(stroke);\n                                        var _finishStyle5 = (0, modifyColor)(_currentStyle5, modifyFgHSL);\n                                        strokes[_i].setAttribute(\"stroke\", _finishStyle5);\n                                    }\n                                }\n                            }\n                        }\n                    };\n\n                    for (var kk in mutation.addedNodes) {\n                        _loop(kk);\n                    }\n                }\n            };\n        }\n    };\n\n    document.addEventListener(\"DOMContentLoaded\", function () {\n\n        var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n        var styles = document.getElementsByTagName('style');\n        var sum = links.length + styles.length;\n\n        if (localStorage.activeDarkGoogle === 'true') {\n\n            var ii = setInterval(function () {\n\n                if (document.body && !document.getElementById(\"temporary-dark-theme\")) {\n                    firstTemporaryStyle = document.createElement('style');\n                    firstTemporaryStyle.id = 'temporary-dark-theme';\n                    firstTemporaryStyle.innerText = stringStyle;\n                    document.body.appendChild(firstTemporaryStyle);\n                    clearInterval(ii);\n                }\n            });\n\n            setTimeout(function () {\n\n                if (localStorage.activeDarkGoogle == undefined || localStorage.activeDarkGoogle === 'false') {\n\n                    if (mutationObserver) {\n                        mutationObserver.disconnect();\n                    }\n\n                    if (firstTemporaryStyle && firstTemporaryStyle.remove) {\n                        firstTemporaryStyle.remove();\n                    }\n                }\n\n                clearInterval(ii);\n            }, 1500);\n\n            for (var j = 0; j < document.styleSheets.length; ++j) {\n                handlerSheet(document.styleSheets[j]);\n            }\n\n            loadImport();\n            additionaLoad(document);\n\n            mutationObserver = new MutationObserver(mmm);\n            mutationObserver.observe(document.documentElement, {\n                childList: true,\n                subtree: true\n            });\n\n            var allNodes = document.getElementsByTagName('*');\n            for (var i = 0; i < allNodes.length; i++) {\n                if (allNodes[i].shadowRoot) {\n                    allNodes[i].style.background = \"#35393b\";\n                    allNodes[i].style.color = \"#bab5ab\";\n                }\n            }\n\n            var cc = currentLoadedStyles.length;\n\n            var aa = setInterval(function () {\n                if (cc == currentLoadedStyles.length && currentLoadedStyles.length >= sum) {\n                    clearInterval(aa);\n                    firstTemporaryStyle.innerText = stringStyle + inlineStyle;\n                }\n                cc = currentLoadedStyles.length;\n            }, 300);\n\n            setTimeout(function () {\n                firstTemporaryStyle.innerText = stringStyle + inlineStyle;\n                clearInterval(aa);\n            }, 3500);\n        }\n\n        setTimeout(function () {\n            if (firstTemporaryStyle && firstTemporaryStyle.remove) {\n                if (localStorage.activeDarkGoogle === 'false') {\n                    firstTemporaryStyle.remove();\n                    const boxes = document.querySelectorAll('#dark-theme');\n\n                    boxes.forEach(box => {\n                        box.remove();\n                    });\n                }\n            }\n        }, 2000);\n\n        if (window.self == window.top) {\n            window.onmessage = function (e) {\n                if (e.data == 'active') {\n                    if (localStorage.activeDarkGoogle === 'true') {\n                        e.source.postMessage('activeDarkSiteTrue', '*');\n                    } else {\n                        e.source.postMessage('activeDarkSiteFalse', '*');\n                    }\n                }\n            };\n        } else {\n\n            window.top.postMessage('active', '*');\n\n            window.onmessage = function (e) {\n                if (e.data == 'activeDarkSiteTrue') {\n                    localStorage.activeDarkGoogle = true;\n                } else if (e.data == 'activeDarkSiteFalse') {\n                    localStorage.activeDarkGoogle = false;\n                }\n            };\n\n            window.onbeforeunload = function () {\n                window.top.postMessage('active', '*');\n            };\n        }\n    });\n\n    window.addEventListener(\"load\", load);\n\n    function load() {\n\n        if (localStorage.activeDarkGoogle == 'true') {\n\n            for (var j = 0; j < document.styleSheets.length; ++j) {\n                handlerSheet(document.styleSheets[j]);\n            }\n\n            loadImport();\n            additionaLoad(document);\n        }\n    }\n\n    function handlerSheet(sheet) {\n\n        try {\n            if (sheet.cssRules && sheet.cssRules.length > 0 && currentLoadedStyles.indexOf(sheet) == -1 && sheet.ownerNode.id != 'dark-theme' && sheet.ownerNode.id != 'temporary-dark-theme') {\n                pushCurrentLoadedStyles(sheet);\n\n                var styleDarkText = interval(sheet.cssRules);\n\n                styleDark = document.createElement('style');\n                styleDark.id = 'dark-theme';\n                styleDark.innerText = styleDarkText;\n                document.body.appendChild(styleDark);\n\n                if (sheet.ownerNode instanceof HTMLStyleElement) {\n                    subscribeToSheetChanges(sheet, styleDark);\n                }\n            }\n        } catch (e) {\n            if (sheet.href && currentLoadedStyles.indexOf(sheet) == -1) {\n                pushCurrentLoadedStyles(sheet);\n                loadCssFile(sheet.href, sheet.ownerNode);\n            }\n        }\n    }\n\n    function interval(rules) {\n        // по всем правилам\n\n        var finalString = '';\n\n        if (rules && rules.length) {\n            for (var k = 0; k < rules.length; k++) {\n\n                if (rules[k] instanceof CSSMediaRule && rules[k].type == 4 && rules[k].conditionText == 'not all') {} else {\n                    try {\n                        if (rules[k] instanceof CSSImportRule && rules[k].styleSheet && rules[k].styleSheet.cssRules) {\n                            finalString = finalString + interval(rules[k].styleSheet.cssRules);\n                        } else {\n                            finalString = finalString + addNewRule(rules[k]);\n                        }\n                    } catch (e) {\n                        console.log(e);\n                    }\n                }\n            }\n        }\n\n        return finalString;\n    }\n\n    function subscribeToSheetChanges(element, styleDark) {\n        var length = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n\n        var callb = function callb() {\n\n            if (element.cssRules.length != length) {\n\n                var cssText = styleDark.innerText;\n\n                for (var k = length - 1; k < element.cssRules.length - 1; k++) {\n                    cssText = cssText + addNewRule(element.cssRules[k]);\n                }\n\n                length = element.cssRules.length;\n\n                styleDark.innerText = cssText;\n            }\n\n            requestAnimationFrame(callb);\n        };\n\n        callb();\n    }\n\n    function loadImport() {\n\n        var docs = document.querySelectorAll('link[rel=\"import\"]');\n        var finalString = '';\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = docs[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var i = _step.value;\n\n                var doc = i.import;\n                for (var j = 0; j < doc.styleSheets.length; ++j) {\n                    try {\n                        if (doc.styleSheets[j].cssRules && doc.styleSheets[j].cssRules.length > 0 && currentLoadedStyles.indexOf(doc.styleSheets[j]) == -1 && doc.styleSheets[j].ownerNode.id != 'dark-theme' && doc.styleSheets[j].ownerNode.id != 'temporary-dark-theme') {\n                            pushCurrentLoadedStyles(doc.styleSheets[j]);\n\n                            for (var k = 0; k < doc.styleSheets[j].cssRules.length; k++) {\n                                finalString = finalString + addNewRule(doc.styleSheets[j].cssRules[k]);\n                            }\n\n                            styleDark = document.createElement('style');\n                            styleDark.id = 'dark-theme';\n                            styleDark.innerText = finalString;\n                            document.body.appendChild(styleDark);\n                        }\n                    } catch (e) {\n                        if (doc.styleSheets[j].href && currentLoadedStyles.indexOf(doc.styleSheets[j]) == -1) {\n                            pushCurrentLoadedStyles(doc.styleSheets[j]);\n                            loadCssFile(doc.styleSheets[j].href, doc);\n                        }\n                    }\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n\n    function additionaLoad(dom) {\n\n        if (document.body && localStorage.activeDarkGoogle === 'true') {\n\n            var bgcolors = dom.querySelectorAll(\"[bgcolor]\");\n\n            for (var i = 0; i < bgcolors.length; i++) {\n                var bgcolor = bgcolors[i].getAttribute(\"bgcolor\");\n                if (bgcolor) {\n                    var currentStyle = (0, parse)(bgcolor);\n                    var finishStyle = (0, modifyColor)(currentStyle, modifyBgHSL);\n                    bgcolors[i].setAttribute(\"bgcolor\", finishStyle);\n                }\n            }\n\n            var colors = dom.querySelectorAll(\"[color]\");\n\n            for (var _i2 = 0; _i2 < colors.length; _i2++) {\n                var color = colors[_i2].getAttribute(\"color\");\n                if (color) {\n                    var _currentStyle6 = (0, parse)(color);\n                    var _finishStyle6 = (0, modifyColor)(_currentStyle6, modifyFgHSL);\n                    colors[_i2].setAttribute(\"color\", _finishStyle6);\n                }\n            }\n\n\n            var styles = dom.querySelectorAll(\"[style]\");\n\n            for (var _i3 = 0; _i3 < styles.length; _i3++) {\n                addNewStyle(styles[_i3].style, styles[_i3]);\n            }\n\n            var images = dom.querySelectorAll(\"img\");\n\n            for (var _i4 = 0; _i4 < images.length; _i4++) {\n                var img = images[_i4];\n                var screenWidth = window.screen.width / 3;\n                if (img) {\n                    if (img.offsetWidth > screenWidth) {\n                        img.style.filter = 'brightness(83%)';\n                    }\n                }\n            }\n        }\n    }\n\n    function addNewStyle(sty, st) {\n\n        var endString = '';\n\n        if (sty && sty.cssText.indexOf('background') !== -1) {\n\n            if (sty.backgroundImage && sty.backgroundImage.indexOf('data:image/png') == -1 && sty.backgroundImage.indexOf('data:image/svg+xml') == -1) {\n\n                if (sty.backgroundRepeatX == 'repeat' || sty.backgroundRepeatY == 'repeat' || sty.backgroundRepeat == 'repeat') {\n\n                    if (sty.backgroundImage.match(colorMatch)) {\n                        var start = sty.backgroundImage.trim();\n                        var finish = (0, findAndReplaceColor)(start, modifyBgHSL);\n\n                        if (start != finish) {\n                            if (sty.getPropertyPriority('background-image') || sty.background) {\n                                endString = endString + addStyle(finish + '!important', 'background-image', st);\n                            } else {\n                                endString = endString + addStyle(finish, 'background-image', st);\n                            }\n                        }\n                    } else {\n                        endString = endString + addStyle('rgba(53,57,59,0.5)', 'background', st);\n                    }\n                } else {\n\n                    var _start = sty.backgroundImage.trim();\n\n                    if (_start.indexOf('url(') !== -1 && _start.indexOf('linear-gradient(') == -1 && _start.indexOf('.svg') == -1 && _start.indexOf('.png') == -1) {\n\n                        endString = endString + addStyle(_start, 'background-image', st);\n                        // endString = endString + addStyle('rgb(0, 0, 0, 0.5)', 'background-color', st);\n                        endString = endString + addStyle('brightness(83%)', 'filter', st);\n                    } else {\n                        var _finish = (0, findAndReplaceColor)(_start, modifyBgHSL);\n\n                        if (_start != _finish) {\n                            if (sty.getPropertyPriority('background-image') || sty.background) {\n                                endString = endString + addStyle(_finish + '!important', 'background-image', st);\n                            } else {\n                                endString = endString + addStyle(_finish, 'background-image', st);\n                            }\n                        } else if (_finish == 'none') {\n                            endString = endString + addStyle(_finish, 'background-image', st);\n                        } else if (sty.backgroundImage.indexOf('.gif') !== -1) {\n                            endString = endString + addStyle('none', 'background-image', st);\n                        }\n                    }\n                }\n            }\n\n            if (sty.backgroundColor) {\n\n                var _start2 = sty.backgroundColor.trim();\n\n                if (_start2) {\n\n                    var _finish2 = (0, findAndReplaceColor)(_start2, modifyBgHSL);\n\n                    if (_finish2 == '(' || _finish2 == ')' || _finish2 == '') {\n                        endString = endString + addStyle('rgba(53,57,59,0.5)', 'background-color', st);\n                    } else if (_start2 != _finish2) {\n                        if (sty.backgroundImage && sty.backgroundImage.indexOf('url(') !== -1 && sty.backgroundImage.indexOf('.png') == -1 && sty.backgroundImage.indexOf('data:image/png') == -1 && sty.backgroundImage.indexOf('data:image/svg+xml') == -1) {\n                            if (sty.getPropertyPriority('background-color') || sty.background) {\n                                endString = endString + addStyle(_finish2 + '!important', 'background', st);\n                            } else {\n                                endString = endString + addStyle(_finish2, 'background', st);\n                            }\n                        } else if (sty.getPropertyPriority('background-color') || sty.background) {\n                            endString = endString + addStyle(_finish2 + '!important', 'background-color', st);\n                        } else {\n                            endString = endString + addStyle(_finish2, 'background-color', st);\n                        }\n\n                        if (sty.backgroundImage) {\n                            // endString = endString + addStyle('rgb(0, 0, 0, 0.5)', 'background-color', st);\n                            endString = endString + addStyle('multiply', 'background-blend-mode', st);\n                        }\n                    }\n                }\n            }\n\n            if (sty.background && (sty.backgroundImage == '' || sty.backgroundImage == 'initial') && (sty.backgroundColor == '' || sty.backgroundColor == 'initial')) {\n\n                if (sty.background.indexOf('url(') !== -1) {\n\n                    if (sty.background.indexOf('data:image/svg+xml') == -1) {} else {\n                        var sed = sty.background.match(colorMatch);\n                        if (sed) {\n                            var col = (0, parse)(sed[0]);\n                            var color = (0, modifyColor)(col, modifyBgHSL);\n                            endString = endString + addStyle(color + '!important', 'background', st);\n                        }\n                    }\n                } else {\n\n                    var _start3 = sty.background.trim();\n                    if (_start3) {\n                        var _finish3 = (0, findAndReplaceColor)(_start3, modifyBgHSL, st);\n\n                        if (_finish3 == '(' || _finish3 == ')' || _finish3 == '') {\n                            endString = endString + addStyle('rgba(53,57,59,0.5)', 'background', st);\n                        } else if (_start3 != _finish3) {\n                            if (sty.getPropertyPriority('background')) {\n                                endString = endString + addStyle(_finish3 + '!important', 'background', st);\n                            } else {\n                                endString = endString + addStyle(_finish3, 'background', st);\n                            }\n                        }\n                    }\n                }\n            } else {\n                var _start4 = sty.background.trim();\n                if (_start4) {\n\n                    var _finish4 = (0, findAndReplaceColor)(_start4, modifyBgHSL);\n\n                    if (_start4 != _finish4) {\n                        if (sty.getPropertyPriority('background')) {\n                            endString = endString + addStyle(_finish4 + '!important', 'background', st);\n                        } else {\n                            endString = endString + addStyle(_finish4, 'background-color', st);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (sty && sty.cssText.indexOf('border') !== -1) {\n\n            if (sty.borderColor && unparsableColors.indexOf(sty.borderColor) == -1) {\n\n                var _start5 = sty.borderColor.trim();\n                if (_start5) {\n\n                    var _finish5 = (0, findAndReplaceColor)(_start5, modifyBorderHSL);\n\n                    if (_start5 != _finish5) {\n                        if (sty.getPropertyPriority('border-color')) {\n                            endString = endString + addStyle(_finish5 + '!important', 'border-color', st);\n                        } else {\n                            endString = endString + addStyle(_finish5, 'border-color', st);\n                        }\n                    }\n                }\n            }\n\n            if (sty.border && unparsableColors.indexOf(sty.border) == -1) {\n\n                var _start6 = sty.border.trim();\n\n                if (_start6) {\n\n                    var _finish6 = (0, findAndReplaceColor)(_start6, modifyBorderHSL);\n\n                    if (_start6 != _finish6) {\n\n                        if (sty.getPropertyPriority('border')) {\n                            endString = endString + addStyle(_finish6 + '!important', 'border', st);\n                        } else {\n                            endString = endString + addStyle(_finish6, 'border', st);\n                        }\n                    }\n                }\n            }\n\n            if (sty.borderBottom && unparsableColors.indexOf(sty.borderBottom) == -1) {\n\n                var _start7 = sty.borderBottom.trim();\n\n                if (_start7) {\n                    var _finish7 = (0, findAndReplaceColor)(_start7, modifyBorderHSL);\n\n                    if (_start7 != _finish7) {\n\n                        if (sty.getPropertyPriority('border-bottom')) {\n                            endString = endString + addStyle(_finish7 + '!important', 'border-bottom', st);\n                        } else {\n                            endString = endString + addStyle(_finish7, 'border-bottom', st);\n                        }\n                    }\n                }\n            }\n\n            if (sty.borderTop && unparsableColors.indexOf(sty.borderTop) == -1) {\n\n                var _start8 = sty.borderTop.trim();\n\n                if (_start8) {\n\n                    var _finish8 = (0, findAndReplaceColor)(_start8, modifyBorderHSL);\n\n                    if (_start8 != _finish8) {\n\n                        if (sty.getPropertyPriority('border-top')) {\n                            endString = endString + addStyle(_finish8 + '!important', 'border-top', st);\n                        } else {\n                            endString = endString + addStyle(_finish8, 'border-top', st);\n                        }\n                    }\n                }\n            }\n\n            if (sty.borderLeft && unparsableColors.indexOf(sty.borderLeft) == -1) {\n\n                var _start9 = sty.borderLeft.trim();\n\n                if (_start9) {\n                    var _finish9 = (0, findAndReplaceColor)(_start9, modifyBorderHSL);\n\n                    if (_start9 != _finish9) {\n\n                        if (sty.getPropertyPriority('border-left')) {\n                            endString = endString + addStyle(_finish9 + '!important', 'border-left', st);\n                        } else {\n                            endString = endString + addStyle(_finish9, 'border-left', st);\n                        }\n                    }\n                }\n            }\n\n            if (sty.borderRight && unparsableColors.indexOf(sty.borderRight) == -1) {\n\n                var _start10 = sty.borderRight.trim();\n\n                if (_start10) {\n                    var _finish10 = (0, findAndReplaceColor)(_start10, modifyBorderHSL);\n\n                    if (_start10 != _finish10) {\n\n                        if (sty.getPropertyPriority('border-right')) {\n                            endString = endString + addStyle(_finish10 + '!important', 'border-right', st);\n                        } else {\n                            endString = endString + addStyle(_finish10, 'border-right', st);\n                        }\n                    }\n                }\n            }\n        }\n\n        if (sty && sty.outline && unparsableColors.indexOf(sty.outline) == -1) {\n\n            var _start11 = sty.outline.trim();\n\n            if (_start11) {\n                var _finish11 = (0, findAndReplaceColor)(_start11, modifyBorderHSL);\n\n                if (_start11 != _finish11) {\n\n                    if (sty.getPropertyPriority('outline')) {\n                        endString = endString + addStyle(_finish11 + '!important', 'outline', st);\n                    } else {\n                        endString = endString + addStyle(_finish11, 'outline', st);\n                    }\n                }\n            }\n        }\n\n        if (sty && sty.boxShadow && unparsableColors.indexOf(sty.boxShadow) == -1) {\n\n            var _start12 = sty.boxShadow.trim();\n\n            if (_start12) {\n                var _finish12 = (0, findAndReplaceColor)(_start12, modifyBorderHSL);\n                if (_start12 != _finish12) {\n\n                    if (sty.getPropertyPriority('box-shadow')) {\n                        endString = endString + addStyle(_finish12 + '!important', 'box-shadow', st);\n                    } else {\n                        endString = endString + addStyle(_finish12, 'box-shadow', st);\n                    }\n                }\n            }\n        }\n\n        if (sty && sty.textShadow && unparsableColors.indexOf(sty.textShadow) == -1) {\n\n            var _start13 = sty.textShadow.trim();\n\n            if (_start13) {\n                var _finish13 = (0, findAndReplaceColor)(_start13, modifyBorderHSL);\n\n                if (_start13 != _finish13) {\n                    if (sty.getPropertyPriority('text-shadow')) {\n                        endString = endString + addStyle(_finish13 + '!important', 'text-shadow', st);\n                    } else {\n                        endString = endString + addStyle(_finish13, 'text-shadow', st);\n                    }\n                }\n            }\n        }\n\n        if (sty && sty.color && unparsableColors.indexOf(sty.color) == -1) {\n\n            var _start14 = sty.color.trim();\n\n            if (_start14 && st != '*, ::before, ::after') {\n\n                var _finish14 = (0, findAndReplaceColor)(_start14, modifyFgHSL);\n\n                if (_finish14 == '(' || _finish14 == ')' || _finish14 == '') {\n                    endString = endString + addStyle('#bab5ab', 'color', st);\n                } else if (_start14 != _finish14) {\n                    if (sty.getPropertyPriority('color')) {\n                        endString = endString + addStyle(_finish14 + '!important', 'color', st);\n                    } else {\n                        endString = endString + addStyle(_finish14, 'color', st);\n                    }\n                }\n            }\n        }\n\n        if (sty && sty.fill && unparsableColors.indexOf(sty.fill) == -1) {\n\n            var _start15 = sty.fill.trim();\n\n            var _finish15 = (0, findAndReplaceColor)(_start15, modifyFgHSL);\n\n            if (_start15 != _finish15) {\n                if (sty.getPropertyPriority('fill')) {\n                    endString = endString + addStyle(_finish15 + '!important', 'fill', st);\n                } else {\n                    endString = endString + addStyle(_finish15, 'fill', st);\n                }\n            }\n        }\n\n        return endString;\n    }\n\n    function addNewRule(rule) {\n\n        if (rule && rule.selectorText == undefined && rule.cssRules) {\n\n            var lll = '';\n\n            for (var kk = 0; kk < rule.cssRules.length; kk++) {\n\n                var sty = rule.cssRules[kk].style;\n                var st = rule.cssRules[kk].selectorText;\n\n                var ttt = addNewStyle(sty, st);\n\n                if (ttt != undefined) {\n                    lll = lll + ttt;\n                }\n            }\n\n            return lll;\n        } else if (rule) {\n\n            var _lll = '';\n\n            var _sty = rule.style;\n            var _st3 = rule.selectorText;\n\n            var _ttt = addNewStyle(_sty, _st3);\n\n            if (_ttt != undefined) {\n                _lll = _ttt;\n            }\n\n            return _lll;\n        }\n    }\n\n    function addStyle(finishStyle, styleName, st) {\n\n        if (typeof st === 'string') {\n            var str = ' ' + st + ' {' + styleName + ':' + finishStyle + ';}';\n\n            if (arr[str] == undefined) {\n                arr[str] = ' ';\n                return str;\n            }\n        } else if (st) {\n            st.style[styleName] = finishStyle;\n        }\n\n        return '';\n    }\n\n    function createTemporaryStyle() {\n\n        var stringStyle = 'html, body, input, textarea, select, body *, html *, table *, thead *, div, *:before, *:after, *:active {color: #bab5ab!important; background: #35393b!important; background-color: #35393b!important;} input[type=\"text\"], textarea, select {color: #bab5ab!important; background: #35393b;}';\n\n        if (localStorage.activeDarkGoogle === 'true') {\n\n            if (!document.getElementById(\"temporary-dark-theme\")) {\n                firstTemporaryStyle = document.createElement('style');\n                firstTemporaryStyle.id = 'temporary-dark-theme';\n                firstTemporaryStyle.innerText = stringStyle;\n                document.documentElement.appendChild(firstTemporaryStyle);\n            }\n\n            var ii = setInterval(function () {\n\n                if (document.body && !document.body.querySelector(\"#temporary-dark-theme\")) {\n                    document.body.appendChild(firstTemporaryStyle);\n                    clearInterval(ii);\n                }\n            });\n\n            setTimeout(function () {\n                clearInterval(ii);\n            }, 1000);\n        }\n    }\n\n    function loadCssFile(href, node) {\n\n        if (href && node) {\n            var data = {\n                url: href,\n                responseType: \"text\",\n                mimeType: \"text/css\",\n                origin: window.location.origin\n            };\n\n            chrome.runtime.sendMessage({ type: \"fetch\", data: data });\n        }\n    }\n\n    chrome.runtime.onMessage.addListener(function (_ref, sender, sendResponse) {\n        var type = _ref.type,\n            response = _ref.response,\n            href = _ref.href;\n\n        if (type === \"fetch-response\") {\n\n            var data = response.trim().replace(cssImportRegex, '');\n            var newStyleSync = createCssSync(href);\n            newStyleSync.textContent = data;\n\n            var styleDarkText = interval(newStyleSync.sheet.cssRules); //загрузка и перебор всех стилей\n\n            styleDark = document.createElement('style');\n            styleDark.id = 'dark-theme';\n            styleDark.innerText = styleDarkText;\n            document.body.appendChild(styleDark);\n\n            try {\n                newStyleSync.remove();\n            } catch (e) {\n                console.log('Error load', e);\n            }\n        }\n        sendResponse();\n    });\n\n    function pushCurrentLoadedStyles(item) {\n        currentLoadedStyles.push(item);\n    }\n\n    function createCssSync(href) {\n        var styleSync = document.createElement('style');\n        styleSync.id = href;\n        document.head.appendChild(styleSync);\n        return styleSync;\n    }\n}"],"names":["rgbToHSL","r","g","b","a","max","Math","min","c","l","h","s","abs","rgbToString","rgb","toFixed","rgbToHexString","round","map","x","toString","join","hslToRGB","m","n","getMatches","regex","input","group","matches","exec","push","digits","fixed","dot","indexOf","zerosMatch","match","index","substring","Matrix","identity","invertNHue","brightness","v","contrast","t","sepia","grayscale","scale","inLow","inHigh","outLow","outHigh","createFilterMatrix","config","multiplyMatrices","mode","m1","m2","result","i","length","j","sum","k","applyColorMatrix","matrix","clamp","parse","getValFromCache","getColorFromVar","setValToCache","filter","useFont","fontFamily","textStroke","stylesheet","colorMatch","modifyBgHSL","lMin","lMaxS0","lMaxS1","sNeutralLim","lNeutralLight","sColored","hColored","hBlue0","hBlue1","lMax","lx","isNeutral","hx","sx","modifyFgHSL","lMinS0","lMinS1","lNeutralDark","hBlueMax","lBlueMin","isBlue","modifyBorderHSL","modifyColor","modifyHSL","hsl","modified","rf","gf","bf","color","trim","clearTrash","value","modifier","colors","replace","Array","from","forEach","modifyCol","findAndReplaceColor","matchess","matcher","reverse","prop","cssVar","valCss","rrr","RegExp","newValCss","one","two","setTimeout","style","getComputedStyle","document","body","getPropertyValue","console","log","name","e","rgbMatch","hslMatch","hexMatch","hslSplitter","hslRange","hslUnits","PI","rgbSplitter","rgbRange","rgbUnits","knownColors","Map","Object","entries","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgrey","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgrey","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","systemColors","ActiveBorder","ActiveCaption","AppWorkspace","Background","ButtonFace","ButtonHighlight","ButtonShadow","ButtonText","CaptionText","GrayText","Highlight","HighlightText","InactiveBorder","InactiveCaption","InactiveCaptionText","InfoBackground","InfoText","Menu","MenuText","Scrollbar","ThreeDDarkShadow","ThreeDFace","ThreeDHighlight","ThreeDLightShadow","ThreeDShadow","Window","WindowFrame","WindowText","key","toLowerCase","parseRGB","$rgb","getNumbersFromString","parseHSL","$hsl","parseHex","$hex","parseInt","Error","str","splitter","range","units","raw","split","unitsList","numbers","unit","find","u","endsWith","parseFloat","getColorByName","$color","get","getSystemColor","string","stringVar","newMatch","parseColor","has","localStorage","JSON","stringify","chrome","storage","local","then","res","win","window","self","top","dark","domains","url","URL","location","href","domain","hostname","activeDarkGoogle","nn","getElementById","activateDark","currentLoadedStyles","styleDark","firstTemporaryStyle","arr","mutationObserver","inlineStyle","stylenodes","stringStyle","cssImportRegex","unparsableColors","onbeforeunload","disconnect","addEventListener","evt","visibilityState","runtime","sendMessage","context","observe","documentElement","childList","subtree","load","createTemporaryStyle","mmm","mutations","mutation","styles","node","target","nodeType","querySelectorAll","_node","cssText","backgroundColor","currentStyle","finishStyle","stringFinishStyle","st","iL","addStyle","innerText","setAttribute","backgroundImage","background","_currentStyle","_finishStyle","_stringFinishStyle","_st","_iL","_currentStyle2","_finishStyle2","_stringFinishStyle2","_st2","_iL2","_loop","kk","addedNodes","nodeName","toUpperCase","sheet","cssRules","id","pushCurrentLoadedStyles","styleDarkText","interval","createElement","appendChild","HTMLStyleElement","subscribeToSheetChanges","_styleDarkText","loadCssFile","fills","fill","getAttribute","_currentStyle3","_finishStyle3","_currentStyle4","_finishStyle4","strokes","_i","stroke","_currentStyle5","_finishStyle5","links","getElementsByTagName","ii","setInterval","clearInterval","undefined","remove","styleSheets","handlerSheet","loadImport","additionaLoad","MutationObserver","allNodes","shadowRoot","cc","aa","boxes","box","onmessage","data","source","postMessage","ownerNode","rules","finalString","CSSMediaRule","type","conditionText","CSSImportRule","styleSheet","addNewRule","element","arguments","callb","requestAnimationFrame","docs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","Symbol","iterator","_step","next","done","doc","import","err","return","dom","bgcolors","bgcolor","_i2","_currentStyle6","_finishStyle6","_i3","addNewStyle","images","_i4","img","screenWidth","screen","width","offsetWidth","sty","endString","backgroundRepeatX","backgroundRepeatY","backgroundRepeat","start","finish","getPropertyPriority","_start","_finish","_start2","_finish2","sed","col","_start3","_finish3","_start4","_finish4","borderColor","_start5","_finish5","border","_start6","_finish6","borderBottom","_start7","_finish7","borderTop","_start8","_finish8","borderLeft","_start9","_finish9","borderRight","_start10","_finish10","outline","_start11","_finish11","boxShadow","_start12","_finish12","textShadow","_start13","_finish13","_start14","_finish14","_start15","_finish15","rule","selectorText","lll","ttt","_lll","_sty","_st3","_ttt","styleName","querySelector","responseType","mimeType","origin","onMessage","addListener","_ref","sender","sendResponse","response","newStyleSync","createCssSync","textContent","item","styleSync","head"],"sourceRoot":""}