/*
 FireShot - Webpage Screenshots and Annotations
 Copyright (C) 2007-2023 Evgeny Suslikov (evgeny@suslikov.ru)
*/
var fsPDF=function(C,D,w){function g(c,b,a){var e=1===arguments.length?c:Array.prototype.join.call(arguments," ");x.push(e);p+=e.length+1}function h(c,b,a){a?l.unshift(p):l.push(p);a=a?1:++E;var e;b&&(e="/Length "+b.length);g(a+" 0 obj\r\n<<"+c+(e?e:"")+">>");b&&(g("stream"),g(b),g("endstream"));g("endobj");return a}function q(){g("%PDF-1.5\r\n%\u00ffCaptured and generated by FireShot [https://getfireshot.com]\u00ff");if(m.length){for(var c in m){var b=m[c],a=m[c].a,e=(isSafari()?"https://getfireshot.com/pdfs_":
"https://getfireshot.com/pdf_")+btoa(a);r[e]?a=r[e]:(a=h("/Type/Action/S/URI/URI("+e+")"),r[e]=a);b.nActionId=a}for(var f in m){c=m[f];for(var d in c.r){b=c.nActionId;a=c.r[d];e=t-Math.max(0,a[1]);var u=Math.min(k.width,a[0]+a[2]),n=t-Math.min(k.height,a[1]+a[3]);a=[(.75*Math.max(0,a[0])).toFixed(2),(.75*n).toFixed(2),(.75*u).toFixed(2),(.75*e).toFixed(2)].join(" ");v.push(h("/Type/Annot/BS<</W 0 /S /S>>/C[0 1 0]/Subtype/Link/Rect["+a+"]/A "+b+" 0 R"))}}}f=[];e="";c=d=0;b=document.createElement("canvas");
a=b.getContext("2d");for(b.width=k.width;d<k.height;){b.height=Math.min(2048,k.height-d);a.drawImage(k,0,-d);d+=b.height;u="/I"+c+" ";n="/Type /XObject /Subtype /Image /Width "+b.width+" /Height "+b.height+" /ColorSpace /DeviceRGB /BitsPerComponent 8 /Filter /DCTDecode ";var F=atob(b.toDataURL("image/jpeg").replace("data:image/jpeg;base64,",""));n=h(n,F);e+=u+n+" 0 R\r\n";f.push("q\r\n1 0 0 1 0 "+(.75*(k.height-d)).toFixed(2)+" cm\r\n"+(.75*b.width).toFixed(2)+" 0 0 "+(.75*b.height).toFixed(2)+" 0 0 cm\r\n/I"+
c++ +" Do\r\nQ")}d=v.length?"/Annots["+v.join(" 0 R ")+" 0 R]":"";c=h("/ProcSet[/PDF/ImageC]/XObject<<"+e+">>");f=h("",f.join("\r\n"));y=h("/Type/Page/Parent 1 0 R/MediaBox[0 0 "+(.75*G).toFixed(2)+" "+(.75*t).toFixed(2)+"]/Contents "+f+" 0 R/Resources "+c+" 0 R"+d);z=h("/Type/Catalog/Pages 1 0 R");h("/Type/Pages /Kids ["+y+" 0 R] /Count 1",null,!0);f=new Date;f=(new Date(f.valueOf()+6E4*(f.getTimezoneOffset()+480))).toISOString().replace(/[-:T]/g,"").slice(0,-4)+"Z";d="";for(c=0;c<w.length;++c)b=
w.charCodeAt(c).toString(16),b=("000"+b).slice(-4),d+=b;A=h(`/CreationDate (D:${f})/Creator (FireShot Webpage Screenshots (https://getfireshot.com))/Author (FireShot (https://getfireshot.com))/Title <FEFF${d}>`);B=p;g("\r\nxref\r\n0 "+(l.length+1)+"\r\n0000000000 65535 f");for(f=0;f<l.length;++f){for(d=l[f].toString();10>d.length;)d="0"+d;g(d+" 00000 n")}g("trailer\r\n<</Root "+z+" 0 R /Size "+(l.length+1)+"/Info "+A+" 0 R>>\r\n");g("startxref\r\n"+B+"\r\n%%EOF\r\n");return x.join("\n")}var k=C,m=
D,v=[],x=[],l=[],r=[],p=0,E=1,G=k.width,t=k.height,y,z,A,B;return{getBytes:function(){return isDebug?q():void 0},toDataURL:function(){return"data:application/pdf;base64,"+btoa(q())},toBlob:function(){var c=q();const b=Array(c.length);for(var a=0;a<c.length;a++)b[a]=c.charCodeAt(a);return new Blob([new Uint8Array(b)],{type:"application/pdf"})}}};
