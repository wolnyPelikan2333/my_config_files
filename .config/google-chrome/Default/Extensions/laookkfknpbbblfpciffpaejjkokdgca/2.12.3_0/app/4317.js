(globalThis.webpackChunkmomentum=globalThis.webpackChunkmomentum||[]).push([[4317],{42223:(t,e,o)=>{"use strict";o.d(e,{Z:()=>i});const i={data:()=>({componentsMounted:{}}),unreactive:()=>({uid:m.utils.shortId()}),beforeCreate(){const t=this.$options.components;Object.keys(t).forEach((e=>{const o=t[e];"function"==typeof o&&(t[e]=function(){this.$set(this.componentsMounted,e,!1);const t=`${e}:${this.uid}:mounted`,i=()=>this.componentsMounted[e]=!0;return this.$e.$once(t,i),o(arguments).then((o=>{const s=o.default;return s&&s.doNotWaitForMount&&(this.$delete(this.componentsMounted,e),this.$e.$off(t,i)),o}))}.bind(this))}))},created(){this.$e.$on("widgets:timeoutExceeded",this.onWidgetTimeout)},mounted(){if(Object.keys(this.componentsMounted).length){const t=this.$watch("componentsMounted",(e=>{Object.values(e).every((t=>t))&&(this.onAllComponentsMounted(),t())}),{deep:!0,immediate:!0})}else this.onAllComponentsMounted()},destroyed(){this.stopListeningToWidgetTimeout()},methods:{stopListeningToWidgetTimeout(){this.$e.$off("widgets:timeoutExceeded",this.onWidgetTimeout)},getContextUid(){return this.$vnode&&this.$vnode.context&&this.$vnode.context.uid||""},onAllComponentsMounted(){this.onAllComponentsMountedOverride?this.onAllComponentsMountedOverride():this.widgetId?m.widgetManager.appReady(this.widgetId):this.emitComponentMounted(),this.stopListeningToWidgetTimeout()},emitComponentMounted(){this.$e.$emit(`${this.$options.name}:${this.getContextUid()}:mounted`)},onWidgetTimeout(){const t=Object.keys(this.componentsMounted).filter((t=>!this.componentsMounted[t]));t.length&&console.warn(`${this.$options.name} is awaiting ${t.join(", ")} to mount.`)}}}},48494:(t,e,o)=>{"use strict";function i({useViewStateStore:t,analytics:e}={}){return{computed:{popupActive(){return this.viewStateStore.popupActive}},unreactive(){const o={};return t&&(o.viewStateStore=t()),e&&(o.capture=e.capture.bind(e)),e&&(o.batchCapture=e.batchCapture),o},methods:{async togglePopupAndCaptureIfOpen(t){if(await this.togglePopup(),this.popupActive){const e=t instanceof KeyboardEvent?"hotkey":"click";this.capture("app show",{source:e})}},closePopup(){this.viewStateStore.togglePopup(!1)},async togglePopup(t){const e="boolean"!=typeof t;e&&this.popupActive&&!this.viewStateStore.focused?this.viewStateStore.focus():await this.viewStateStore.togglePopup(e?void 0:t)}},provide:()=>({capture:e.capture.bind(e),batchCapture:e.batchCapture})}}o.d(e,{Z:()=>i})},30827:(t,e,o)=>{"use strict";o.d(e,{Z:()=>s});var i=o(99437);const s=m.showAnyway=new(i.Z.extend({name:"ShowAnyway",data:()=>({widgets:[]}),methods:{show(t){this.includes(t)||this.widgets.push(t)},hide(t){const e=this.widgets.indexOf(t);~e&&this.widgets.splice(e,1)},includes(t){return this.widgets.includes(t)}}}))},69960:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>r});var i=o(8081),s=o.n(i),n=o(23645),a=o.n(n)()(s());a.push([t.id,".touch-overlay.fade-leave-active,.touch-overlay.fade-enter-active{transition:opacity .15s ease}.touch-overlay.fade-leave-to,.touch-overlay.fade-enter{opacity:0}",""]);const r=a},86358:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>r});var i=o(8081),s=o.n(i),n=o(23645),a=o.n(n)()(s());a.push([t.id,".app-dash[data-v-2bb3c64e]{white-space:nowrap}",""]);const r=a},95756:(t,e,o)=>{"use strict";o.d(e,{v:()=>d});var i=o(28692),s=o(20144),n=o(96046),a=o(63139),r=o(7838);const p=t=>Object.keys(t).find((e=>{var o;return null===(o=t[e])||void 0===o?void 0:o.defaultView})),d=(t,e)=>{const o=(0,i.Q_)(t+"ViewState",{state:()=>{var o;return{activeViewId:null!==(o=e&&p(e))&&void 0!==o?o:"",beforeViewChange:()=>Promise.resolve(!0),confirmationProps:null,popupActive:!1,name:t}},getters:{activeView(t){if(!e)return null;const o=e[t.activeViewId];if(o)return o;throw new Error("No view found with id: "+t.activeViewId)},focused:()=>a.Z.isOnTop(t)},actions:{focus(){a.Z.add(t)},async setActiveView(t){if(e&&await this.beforeViewChange())if("default"===t){const t=p(e);if(!t)throw new Error("No view found with defaultView: true");this.activeViewId=t}else this.activeViewId=t},async togglePopup(t){await this.beforeViewChange()&&(await s.ZP.nextTick(),this.popupActive=null!=t?t:!this.popupActive,this.popupActive||(this.resetBeforeViewChange(),this.confirmationProps=null,await this.setActiveView("default")))},resetBeforeViewChange(){this.beforeViewChange=()=>Promise.resolve(!0)},async setConfirmation(t){return new Promise((e=>{this.confirmationProps=t,this.confirmationProps.confirm=()=>e(!0),this.confirmationProps.cancel=()=>e(!1)})).finally((()=>{this.confirmationProps=null}))}}}),d=(0,i.Jk)(o());return r.Z.$on(t+":close",(()=>o().togglePopup(!1))),(0,s.YP)(d.popupActive,(e=>{e?a.Z.add(t):a.Z.remove(t)})),(0,s.YP)(d.confirmationProps,(e=>{(null==e?void 0:e.dashboardOverlay)&&a.Z.add(t,!0),n.Z.dashboardOverlayActive=!!(null==e?void 0:e.dashboardOverlay)})),o}},4623:(t,e,o)=>{"use strict";o.r(e),o.d(e,{default:()=>r});var i=function(){var t=this,e=t._self._c;return e("transition",{attrs:{appear:"",name:"fade"}},[t.appVisible?e("div",{staticClass:"app-container",class:[t.appName,{"show-anyway":t.showAnyway}],attrs:{"data-show-anyway":t.appName}},[t._t("default"),t._v(" "),e("transition",{attrs:{name:"fade",duration:"150"}},[t.overlay?e("div",{staticClass:"touch-overlay",on:{click:t.toggleApp}}):t._e()])],2):t._e()])};i._withStripped=!0;var s=o(30827),n=o(40531);const a={name:"AppContainer",mixins:[o(42223).Z],props:{appName:{type:String,required:!0},overlay:{type:Boolean,default:!1},visibleSetting:{type:String,default:""},hotkey:{type:String,default:""}},computed:{showAnyway(){return s.Z.includes(this.appName)},appVisible(){return!this.visibleSetting||n.Fl[this.visibleSetting]}},created(){this.hotkey&&m.on("globalEvent:key:"+this.hotkey.toUpperCase(),this.toggleApp)},destroyed(){this.hotkey&&m.off("globalEvent:key:"+this.hotkey.toUpperCase(),this.toggleApp)},methods:{toggleApp(t){this.$emit("toggle",t)}}};o(9624);const r=(0,o(51900).Z)(a,i,[],!1,null,null,null).exports},94828:(t,e,o)=>{"use strict";o.d(e,{Z:()=>a});var i=function(){var t=this,e=t._self._c;return e("div",t._g({class:["app-dash","toggle","add-shadow",{"app-dash-icon":!!t.src}],attrs:{"data-test":"app-dash"}},t.$listeners),[t.src?[e("inline-svg",{attrs:{src:t.src}}),t._v(" "),e("span",{staticClass:"app-dash-icon-label u--mobile-hide"},[t._t("default")],2)]:t._t("default")],2)};i._withStripped=!0;var s=o(34952);const n={name:"AppDash",props:{src:{type:o.n(s)().props.src.type,default:""}}};o(64510);const a=(0,o(51900).Z)(n,i,[],!1,null,"2bb3c64e",null).exports},9624:(t,e,o)=>{var i=o(69960);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("450b446a",i,!1,{})},64510:(t,e,o)=>{var i=o(86358);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[t.id,i,""]]),i.locals&&(t.exports=i.locals),(0,o(45346).Z)("8ae60214",i,!1,{})}}]);